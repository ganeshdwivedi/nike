/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@sanity";
exports.ids = ["vendor-chunks/@sanity"];
exports.modules = {

/***/ "(ssr)/./node_modules/@sanity/image-url/lib/node/builder.js":
/*!************************************************************!*\
  !*** ./node_modules/@sanity/image-url/lib/node/builder.js ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\nvar __assign = this && this.__assign || function() {\n    __assign = Object.assign || function(t) {\n        for(var s, i = 1, n = arguments.length; i < n; i++){\n            s = arguments[i];\n            for(var p in s)if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = this && this.__createBinding || (Object.create ? function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, {\n        enumerable: true,\n        get: function() {\n            return m[k];\n        }\n    });\n} : function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function(o, v) {\n    Object.defineProperty(o, \"default\", {\n        enumerable: true,\n        value: v\n    });\n} : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function(mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) {\n        for(var k in mod)if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    }\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.ImageUrlBuilder = void 0;\nvar urlForImage_1 = __importStar(__webpack_require__(/*! ./urlForImage */ \"(ssr)/./node_modules/@sanity/image-url/lib/node/urlForImage.js\"));\nvar validFits = [\n    \"clip\",\n    \"crop\",\n    \"fill\",\n    \"fillmax\",\n    \"max\",\n    \"scale\",\n    \"min\"\n];\nvar validCrops = [\n    \"top\",\n    \"bottom\",\n    \"left\",\n    \"right\",\n    \"center\",\n    \"focalpoint\",\n    \"entropy\"\n];\nvar validAutoModes = [\n    \"format\"\n];\nfunction isSanityModernClientLike(client) {\n    return client && \"config\" in client ? typeof client.config === \"function\" : false;\n}\nfunction isSanityClientLike(client) {\n    return client && \"clientConfig\" in client ? typeof client.clientConfig === \"object\" : false;\n}\nfunction rewriteSpecName(key) {\n    var specs = urlForImage_1.SPEC_NAME_TO_URL_NAME_MAPPINGS;\n    for(var _i = 0, specs_1 = specs; _i < specs_1.length; _i++){\n        var entry = specs_1[_i];\n        var specName = entry[0], param = entry[1];\n        if (key === specName || key === param) {\n            return specName;\n        }\n    }\n    return key;\n}\nfunction urlBuilder(options) {\n    // Did we get a modernish client?\n    if (isSanityModernClientLike(options)) {\n        // Inherit config from client\n        var _a = options.config(), apiUrl = _a.apiHost, projectId = _a.projectId, dataset = _a.dataset;\n        var apiHost = apiUrl || \"https://api.sanity.io\";\n        return new ImageUrlBuilder(null, {\n            baseUrl: apiHost.replace(/^https:\\/\\/api\\./, \"https://cdn.\"),\n            projectId: projectId,\n            dataset: dataset\n        });\n    }\n    // Did we get a SanityClient?\n    var client = options;\n    if (isSanityClientLike(client)) {\n        // Inherit config from client\n        var _b = client.clientConfig, apiUrl = _b.apiHost, projectId = _b.projectId, dataset = _b.dataset;\n        var apiHost = apiUrl || \"https://api.sanity.io\";\n        return new ImageUrlBuilder(null, {\n            baseUrl: apiHost.replace(/^https:\\/\\/api\\./, \"https://cdn.\"),\n            projectId: projectId,\n            dataset: dataset\n        });\n    }\n    // Or just accept the options as given\n    return new ImageUrlBuilder(null, options);\n}\nexports[\"default\"] = urlBuilder;\nvar ImageUrlBuilder = /** @class */ function() {\n    function ImageUrlBuilder(parent, options) {\n        this.options = parent ? __assign(__assign({}, parent.options || {}), options || {}) : __assign({}, options || {}); // Copy options\n    }\n    ImageUrlBuilder.prototype.withOptions = function(options) {\n        var baseUrl = options.baseUrl || this.options.baseUrl;\n        var newOptions = {\n            baseUrl: baseUrl\n        };\n        for(var key in options){\n            if (options.hasOwnProperty(key)) {\n                var specKey = rewriteSpecName(key);\n                newOptions[specKey] = options[key];\n            }\n        }\n        return new ImageUrlBuilder(this, __assign({\n            baseUrl: baseUrl\n        }, newOptions));\n    };\n    // The image to be represented. Accepts a Sanity 'image'-document, 'asset'-document or\n    // _id of asset. To get the benefit of automatic hot-spot/crop integration with the content\n    // studio, the 'image'-document must be provided.\n    ImageUrlBuilder.prototype.image = function(source) {\n        return this.withOptions({\n            source: source\n        });\n    };\n    // Specify the dataset\n    ImageUrlBuilder.prototype.dataset = function(dataset) {\n        return this.withOptions({\n            dataset: dataset\n        });\n    };\n    // Specify the projectId\n    ImageUrlBuilder.prototype.projectId = function(projectId) {\n        return this.withOptions({\n            projectId: projectId\n        });\n    };\n    // Specify background color\n    ImageUrlBuilder.prototype.bg = function(bg) {\n        return this.withOptions({\n            bg: bg\n        });\n    };\n    // Set DPR scaling factor\n    ImageUrlBuilder.prototype.dpr = function(dpr) {\n        // A DPR of 1 is the default - so only include it if we have a different value\n        return this.withOptions(dpr && dpr !== 1 ? {\n            dpr: dpr\n        } : {});\n    };\n    // Specify the width of the image in pixels\n    ImageUrlBuilder.prototype.width = function(width) {\n        return this.withOptions({\n            width: width\n        });\n    };\n    // Specify the height of the image in pixels\n    ImageUrlBuilder.prototype.height = function(height) {\n        return this.withOptions({\n            height: height\n        });\n    };\n    // Specify focal point in fraction of image dimensions. Each component 0.0-1.0\n    ImageUrlBuilder.prototype.focalPoint = function(x, y) {\n        return this.withOptions({\n            focalPoint: {\n                x: x,\n                y: y\n            }\n        });\n    };\n    ImageUrlBuilder.prototype.maxWidth = function(maxWidth) {\n        return this.withOptions({\n            maxWidth: maxWidth\n        });\n    };\n    ImageUrlBuilder.prototype.minWidth = function(minWidth) {\n        return this.withOptions({\n            minWidth: minWidth\n        });\n    };\n    ImageUrlBuilder.prototype.maxHeight = function(maxHeight) {\n        return this.withOptions({\n            maxHeight: maxHeight\n        });\n    };\n    ImageUrlBuilder.prototype.minHeight = function(minHeight) {\n        return this.withOptions({\n            minHeight: minHeight\n        });\n    };\n    // Specify width and height in pixels\n    ImageUrlBuilder.prototype.size = function(width, height) {\n        return this.withOptions({\n            width: width,\n            height: height\n        });\n    };\n    // Specify blur between 0 and 100\n    ImageUrlBuilder.prototype.blur = function(blur) {\n        return this.withOptions({\n            blur: blur\n        });\n    };\n    ImageUrlBuilder.prototype.sharpen = function(sharpen) {\n        return this.withOptions({\n            sharpen: sharpen\n        });\n    };\n    // Specify the desired rectangle of the image\n    ImageUrlBuilder.prototype.rect = function(left, top, width, height) {\n        return this.withOptions({\n            rect: {\n                left: left,\n                top: top,\n                width: width,\n                height: height\n            }\n        });\n    };\n    // Specify the image format of the image. 'jpg', 'pjpg', 'png', 'webp'\n    ImageUrlBuilder.prototype.format = function(format) {\n        return this.withOptions({\n            format: format\n        });\n    };\n    ImageUrlBuilder.prototype.invert = function(invert) {\n        return this.withOptions({\n            invert: invert\n        });\n    };\n    // Rotation in degrees 0, 90, 180, 270\n    ImageUrlBuilder.prototype.orientation = function(orientation) {\n        return this.withOptions({\n            orientation: orientation\n        });\n    };\n    // Compression quality 0-100\n    ImageUrlBuilder.prototype.quality = function(quality) {\n        return this.withOptions({\n            quality: quality\n        });\n    };\n    // Make it a download link. Parameter is default filename.\n    ImageUrlBuilder.prototype.forceDownload = function(download) {\n        return this.withOptions({\n            download: download\n        });\n    };\n    // Flip image horizontally\n    ImageUrlBuilder.prototype.flipHorizontal = function() {\n        return this.withOptions({\n            flipHorizontal: true\n        });\n    };\n    // Flip image vertically\n    ImageUrlBuilder.prototype.flipVertical = function() {\n        return this.withOptions({\n            flipVertical: true\n        });\n    };\n    // Ignore crop/hotspot from image record, even when present\n    ImageUrlBuilder.prototype.ignoreImageParams = function() {\n        return this.withOptions({\n            ignoreImageParams: true\n        });\n    };\n    ImageUrlBuilder.prototype.fit = function(value) {\n        if (validFits.indexOf(value) === -1) {\n            throw new Error('Invalid fit mode \"'.concat(value, '\"'));\n        }\n        return this.withOptions({\n            fit: value\n        });\n    };\n    ImageUrlBuilder.prototype.crop = function(value) {\n        if (validCrops.indexOf(value) === -1) {\n            throw new Error('Invalid crop mode \"'.concat(value, '\"'));\n        }\n        return this.withOptions({\n            crop: value\n        });\n    };\n    // Saturation\n    ImageUrlBuilder.prototype.saturation = function(saturation) {\n        return this.withOptions({\n            saturation: saturation\n        });\n    };\n    ImageUrlBuilder.prototype.auto = function(value) {\n        if (validAutoModes.indexOf(value) === -1) {\n            throw new Error('Invalid auto mode \"'.concat(value, '\"'));\n        }\n        return this.withOptions({\n            auto: value\n        });\n    };\n    // Specify the number of pixels to pad the image\n    ImageUrlBuilder.prototype.pad = function(pad) {\n        return this.withOptions({\n            pad: pad\n        });\n    };\n    // Gets the url based on the submitted parameters\n    ImageUrlBuilder.prototype.url = function() {\n        return (0, urlForImage_1.default)(this.options);\n    };\n    // Alias for url()\n    ImageUrlBuilder.prototype.toString = function() {\n        return this.url();\n    };\n    return ImageUrlBuilder;\n}();\nexports.ImageUrlBuilder = ImageUrlBuilder; //# sourceMappingURL=builder.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9pbWFnZS11cmwvbGliL25vZGUvYnVpbGRlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLElBQUlBLFdBQVcsSUFBSyxJQUFJLElBQUksQ0FBQ0EsUUFBUSxJQUFLO0lBQ3RDQSxXQUFXQyxPQUFPQyxNQUFNLElBQUksU0FBU0MsQ0FBQztRQUNsQyxJQUFLLElBQUlDLEdBQUdDLElBQUksR0FBR0MsSUFBSUMsVUFBVUMsTUFBTSxFQUFFSCxJQUFJQyxHQUFHRCxJQUFLO1lBQ2pERCxJQUFJRyxTQUFTLENBQUNGLEVBQUU7WUFDaEIsSUFBSyxJQUFJSSxLQUFLTCxFQUFHLElBQUlILE9BQU9TLFNBQVMsQ0FBQ0MsY0FBYyxDQUFDQyxJQUFJLENBQUNSLEdBQUdLLElBQ3pETixDQUFDLENBQUNNLEVBQUUsR0FBR0wsQ0FBQyxDQUFDSyxFQUFFO1FBQ25CO1FBQ0EsT0FBT047SUFDWDtJQUNBLE9BQU9ILFNBQVNhLEtBQUssQ0FBQyxJQUFJLEVBQUVOO0FBQ2hDO0FBQ0EsSUFBSU8sa0JBQWtCLElBQUssSUFBSSxJQUFJLENBQUNBLGVBQWUsSUFBTWIsQ0FBQUEsT0FBT2MsTUFBTSxHQUFJLFNBQVNDLENBQUMsRUFBRUMsQ0FBQyxFQUFFQyxDQUFDLEVBQUVDLEVBQUU7SUFDMUYsSUFBSUEsT0FBT0MsV0FBV0QsS0FBS0Q7SUFDM0JqQixPQUFPb0IsY0FBYyxDQUFDTCxHQUFHRyxJQUFJO1FBQUVHLFlBQVk7UUFBTUMsS0FBSztZQUFhLE9BQU9OLENBQUMsQ0FBQ0MsRUFBRTtRQUFFO0lBQUU7QUFDdEYsSUFBTSxTQUFTRixDQUFDLEVBQUVDLENBQUMsRUFBRUMsQ0FBQyxFQUFFQyxFQUFFO0lBQ3RCLElBQUlBLE9BQU9DLFdBQVdELEtBQUtEO0lBQzNCRixDQUFDLENBQUNHLEdBQUcsR0FBR0YsQ0FBQyxDQUFDQyxFQUFFO0FBQ2hCLENBQUM7QUFDRCxJQUFJTSxxQkFBcUIsSUFBSyxJQUFJLElBQUksQ0FBQ0Es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QUMsR0FBR3RFLGNBQWM2QixPQUFPLEVBQUUsSUFBSSxDQUFDVCxPQUFPO0lBQ2xEO0lBQ0Esa0JBQWtCO0lBQ2xCckIsZ0JBQWdCdEIsU0FBUyxDQUFDOEYsUUFBUSxHQUFHO1FBQ2pDLE9BQU8sSUFBSSxDQUFDRCxHQUFHO0lBQ25CO0lBQ0EsT0FBT3ZFO0FBQ1g7QUFDQUQsdUJBQXVCLEdBQUdDLGlCQUMxQixtQ0FBbUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uaWtlLy4vbm9kZV9tb2R1bGVzL0BzYW5pdHkvaW1hZ2UtdXJsL2xpYi9ub2RlL2J1aWxkZXIuanM/N2E5NiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX19jcmVhdGVCaW5kaW5nID0gKHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfSk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgb1trMl0gPSBtW2tdO1xufSkpO1xudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19zZXRNb2R1bGVEZWZhdWx0KSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2IH0pO1xufSkgOiBmdW5jdGlvbihvLCB2KSB7XG4gICAgb1tcImRlZmF1bHRcIl0gPSB2O1xufSk7XG52YXIgX19pbXBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydFN0YXIpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoayAhPT0gXCJkZWZhdWx0XCIgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIF9fY3JlYXRlQmluZGluZyhyZXN1bHQsIG1vZCwgayk7XG4gICAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuSW1hZ2VVcmxCdWlsZGVyID0gdm9pZCAwO1xudmFyIHVybEZvckltYWdlXzEgPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcIi4vdXJsRm9ySW1hZ2VcIikpO1xudmFyIHZhbGlkRml0cyA9IFsnY2xpcCcsICdjcm9wJywgJ2ZpbGwnLCAnZmlsbG1heCcsICdtYXgnLCAnc2NhbGUnLCAnbWluJ107XG52YXIgdmFsaWRDcm9wcyA9IFsndG9wJywgJ2JvdHRvbScsICdsZWZ0JywgJ3JpZ2h0JywgJ2NlbnRlcicsICdmb2NhbHBvaW50JywgJ2VudHJvcHknXTtcbnZhciB2YWxpZEF1dG9Nb2RlcyA9IFsnZm9ybWF0J107XG5mdW5jdGlvbiBpc1Nhbml0eU1vZGVybkNsaWVudExpa2UoY2xpZW50KSB7XG4gICAgcmV0dXJuIGNsaWVudCAmJiAnY29uZmlnJyBpbiBjbGllbnQgPyB0eXBlb2YgY2xpZW50LmNvbmZpZyA9PT0gJ2Z1bmN0aW9uJyA6IGZhbHNlO1xufVxuZnVuY3Rpb24gaXNTYW5pdHlDbGllbnRMaWtlKGNsaWVudCkge1xuICAgIHJldHVybiBjbGllbnQgJiYgJ2NsaWVudENvbmZpZycgaW4gY2xpZW50ID8gdHlwZW9mIGNsaWVudC5jbGllbnRDb25maWcgPT09ICdvYmplY3QnIDogZmFsc2U7XG59XG5mdW5jdGlvbiByZXdyaXRlU3BlY05hbWUoa2V5KSB7XG4gICAgdmFyIHNwZWNzID0gdXJsRm9ySW1hZ2VfMS5TUEVDX05BTUVfVE9fVVJMX05BTUVfTUFQUElOR1M7XG4gICAgZm9yICh2YXIgX2kgPSAwLCBzcGVjc18xID0gc3BlY3M7IF9pIDwgc3BlY3NfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gc3BlY3NfMVtfaV07XG4gICAgICAgIHZhciBzcGVjTmFtZSA9IGVudHJ5WzBdLCBwYXJhbSA9IGVudHJ5WzFdO1xuICAgICAgICBpZiAoa2V5ID09PSBzcGVjTmFtZSB8fCBrZXkgPT09IHBhcmFtKSB7XG4gICAgICAgICAgICByZXR1cm4gc3BlY05hbWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGtleTtcbn1cbmZ1bmN0aW9uIHVybEJ1aWxkZXIob3B0aW9ucykge1xuICAgIC8vIERpZCB3ZSBnZXQgYSBtb2Rlcm5pc2ggY2xpZW50P1xuICAgIGlmIChpc1Nhbml0eU1vZGVybkNsaWVudExpa2Uob3B0aW9ucykpIHtcbiAgICAgICAgLy8gSW5oZXJpdCBjb25maWcgZnJvbSBjbGllbnRcbiAgICAgICAgdmFyIF9hID0gb3B0aW9ucy5jb25maWcoKSwgYXBpVXJsID0gX2EuYXBpSG9zdCwgcHJvamVjdElkID0gX2EucHJvamVjdElkLCBkYXRhc2V0ID0gX2EuZGF0YXNldDtcbiAgICAgICAgdmFyIGFwaUhvc3QgPSBhcGlVcmwgfHwgJ2h0dHBzOi8vYXBpLnNhbml0eS5pbyc7XG4gICAgICAgIHJldHVybiBuZXcgSW1hZ2VVcmxCdWlsZGVyKG51bGwsIHtcbiAgICAgICAgICAgIGJhc2VVcmw6IGFwaUhvc3QucmVwbGFjZSgvXmh0dHBzOlxcL1xcL2FwaVxcLi8sICdodHRwczovL2Nkbi4nKSxcbiAgICAgICAgICAgIHByb2plY3RJZDogcHJvamVjdElkLFxuICAgICAgICAgICAgZGF0YXNldDogZGF0YXNldCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIERpZCB3ZSBnZXQgYSBTYW5pdHlDbGllbnQ/XG4gICAgdmFyIGNsaWVudCA9IG9wdGlvbnM7XG4gICAgaWYgKGlzU2FuaXR5Q2xpZW50TGlrZShjbGllbnQpKSB7XG4gICAgICAgIC8vIEluaGVyaXQgY29uZmlnIGZyb20gY2xpZW50XG4gICAgICAgIHZhciBfYiA9IGNsaWVudC5jbGllbnRDb25maWcsIGFwaVVybCA9IF9iLmFwaUhvc3QsIHByb2plY3RJZCA9IF9iLnByb2plY3RJZCwgZGF0YXNldCA9IF9iLmRhdGFzZXQ7XG4gICAgICAgIHZhciBhcGlIb3N0ID0gYXBpVXJsIHx8ICdodHRwczovL2FwaS5zYW5pdHkuaW8nO1xuICAgICAgICByZXR1cm4gbmV3IEltYWdlVXJsQnVpbGRlcihudWxsLCB7XG4gICAgICAgICAgICBiYXNlVXJsOiBhcGlIb3N0LnJlcGxhY2UoL15odHRwczpcXC9cXC9hcGlcXC4vLCAnaHR0cHM6Ly9jZG4uJyksXG4gICAgICAgICAgICBwcm9qZWN0SWQ6IHByb2plY3RJZCxcbiAgICAgICAgICAgIGRhdGFzZXQ6IGRhdGFzZXQsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBPciBqdXN0IGFjY2VwdCB0aGUgb3B0aW9ucyBhcyBnaXZlblxuICAgIHJldHVybiBuZXcgSW1hZ2VVcmxCdWlsZGVyKG51bGwsIG9wdGlvbnMpO1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gdXJsQnVpbGRlcjtcbnZhciBJbWFnZVVybEJ1aWxkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSW1hZ2VVcmxCdWlsZGVyKHBhcmVudCwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBwYXJlbnRcbiAgICAgICAgICAgID8gX19hc3NpZ24oX19hc3NpZ24oe30sIChwYXJlbnQub3B0aW9ucyB8fCB7fSkpLCAob3B0aW9ucyB8fCB7fSkpIDogX19hc3NpZ24oe30sIChvcHRpb25zIHx8IHt9KSk7IC8vIENvcHkgb3B0aW9uc1xuICAgIH1cbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLndpdGhPcHRpb25zID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGJhc2VVcmwgPSBvcHRpb25zLmJhc2VVcmwgfHwgdGhpcy5vcHRpb25zLmJhc2VVcmw7XG4gICAgICAgIHZhciBuZXdPcHRpb25zID0geyBiYXNlVXJsOiBiYXNlVXJsIH07XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNwZWNLZXkgPSByZXdyaXRlU3BlY05hbWUoa2V5KTtcbiAgICAgICAgICAgICAgICBuZXdPcHRpb25zW3NwZWNLZXldID0gb3B0aW9uc1trZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgSW1hZ2VVcmxCdWlsZGVyKHRoaXMsIF9fYXNzaWduKHsgYmFzZVVybDogYmFzZVVybCB9LCBuZXdPcHRpb25zKSk7XG4gICAgfTtcbiAgICAvLyBUaGUgaW1hZ2UgdG8gYmUgcmVwcmVzZW50ZWQuIEFjY2VwdHMgYSBTYW5pdHkgJ2ltYWdlJy1kb2N1bWVudCwgJ2Fzc2V0Jy1kb2N1bWVudCBvclxuICAgIC8vIF9pZCBvZiBhc3NldC4gVG8gZ2V0IHRoZSBiZW5lZml0IG9mIGF1dG9tYXRpYyBob3Qtc3BvdC9jcm9wIGludGVncmF0aW9uIHdpdGggdGhlIGNvbnRlbnRcbiAgICAvLyBzdHVkaW8sIHRoZSAnaW1hZ2UnLWRvY3VtZW50IG11c3QgYmUgcHJvdmlkZWQuXG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS5pbWFnZSA9IGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyBzb3VyY2U6IHNvdXJjZSB9KTtcbiAgICB9O1xuICAgIC8vIFNwZWNpZnkgdGhlIGRhdGFzZXRcbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLmRhdGFzZXQgPSBmdW5jdGlvbiAoZGF0YXNldCkge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IGRhdGFzZXQ6IGRhdGFzZXQgfSk7XG4gICAgfTtcbiAgICAvLyBTcGVjaWZ5IHRoZSBwcm9qZWN0SWRcbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLnByb2plY3RJZCA9IGZ1bmN0aW9uIChwcm9qZWN0SWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyBwcm9qZWN0SWQ6IHByb2plY3RJZCB9KTtcbiAgICB9O1xuICAgIC8vIFNwZWNpZnkgYmFja2dyb3VuZCBjb2xvclxuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUuYmcgPSBmdW5jdGlvbiAoYmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyBiZzogYmcgfSk7XG4gICAgfTtcbiAgICAvLyBTZXQgRFBSIHNjYWxpbmcgZmFjdG9yXG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS5kcHIgPSBmdW5jdGlvbiAoZHByKSB7XG4gICAgICAgIC8vIEEgRFBSIG9mIDEgaXMgdGhlIGRlZmF1bHQgLSBzbyBvbmx5IGluY2x1ZGUgaXQgaWYgd2UgaGF2ZSBhIGRpZmZlcmVudCB2YWx1ZVxuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyhkcHIgJiYgZHByICE9PSAxID8geyBkcHI6IGRwciB9IDoge30pO1xuICAgIH07XG4gICAgLy8gU3BlY2lmeSB0aGUgd2lkdGggb2YgdGhlIGltYWdlIGluIHBpeGVsc1xuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUud2lkdGggPSBmdW5jdGlvbiAod2lkdGgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyB3aWR0aDogd2lkdGggfSk7XG4gICAgfTtcbiAgICAvLyBTcGVjaWZ5IHRoZSBoZWlnaHQgb2YgdGhlIGltYWdlIGluIHBpeGVsc1xuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUuaGVpZ2h0ID0gZnVuY3Rpb24gKGhlaWdodCkge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IGhlaWdodDogaGVpZ2h0IH0pO1xuICAgIH07XG4gICAgLy8gU3BlY2lmeSBmb2NhbCBwb2ludCBpbiBmcmFjdGlvbiBvZiBpbWFnZSBkaW1lbnNpb25zLiBFYWNoIGNvbXBvbmVudCAwLjAtMS4wXG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS5mb2NhbFBvaW50ID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyBmb2NhbFBvaW50OiB7IHg6IHgsIHk6IHkgfSB9KTtcbiAgICB9O1xuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUubWF4V2lkdGggPSBmdW5jdGlvbiAobWF4V2lkdGgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyBtYXhXaWR0aDogbWF4V2lkdGggfSk7XG4gICAgfTtcbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLm1pbldpZHRoID0gZnVuY3Rpb24gKG1pbldpZHRoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhPcHRpb25zKHsgbWluV2lkdGg6IG1pbldpZHRoIH0pO1xuICAgIH07XG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS5tYXhIZWlnaHQgPSBmdW5jdGlvbiAobWF4SGVpZ2h0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhPcHRpb25zKHsgbWF4SGVpZ2h0OiBtYXhIZWlnaHQgfSk7XG4gICAgfTtcbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLm1pbkhlaWdodCA9IGZ1bmN0aW9uIChtaW5IZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyBtaW5IZWlnaHQ6IG1pbkhlaWdodCB9KTtcbiAgICB9O1xuICAgIC8vIFNwZWNpZnkgd2lkdGggYW5kIGhlaWdodCBpbiBwaXhlbHNcbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLnNpemUgPSBmdW5jdGlvbiAod2lkdGgsIGhlaWdodCkge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IHdpZHRoOiB3aWR0aCwgaGVpZ2h0OiBoZWlnaHQgfSk7XG4gICAgfTtcbiAgICAvLyBTcGVjaWZ5IGJsdXIgYmV0d2VlbiAwIGFuZCAxMDBcbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLmJsdXIgPSBmdW5jdGlvbiAoYmx1cikge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IGJsdXI6IGJsdXIgfSk7XG4gICAgfTtcbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLnNoYXJwZW4gPSBmdW5jdGlvbiAoc2hhcnBlbikge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IHNoYXJwZW46IHNoYXJwZW4gfSk7XG4gICAgfTtcbiAgICAvLyBTcGVjaWZ5IHRoZSBkZXNpcmVkIHJlY3RhbmdsZSBvZiB0aGUgaW1hZ2VcbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLnJlY3QgPSBmdW5jdGlvbiAobGVmdCwgdG9wLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhPcHRpb25zKHsgcmVjdDogeyBsZWZ0OiBsZWZ0LCB0b3A6IHRvcCwgd2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodCB9IH0pO1xuICAgIH07XG4gICAgLy8gU3BlY2lmeSB0aGUgaW1hZ2UgZm9ybWF0IG9mIHRoZSBpbWFnZS4gJ2pwZycsICdwanBnJywgJ3BuZycsICd3ZWJwJ1xuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUuZm9ybWF0ID0gZnVuY3Rpb24gKGZvcm1hdCkge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IGZvcm1hdDogZm9ybWF0IH0pO1xuICAgIH07XG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS5pbnZlcnQgPSBmdW5jdGlvbiAoaW52ZXJ0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhPcHRpb25zKHsgaW52ZXJ0OiBpbnZlcnQgfSk7XG4gICAgfTtcbiAgICAvLyBSb3RhdGlvbiBpbiBkZWdyZWVzIDAsIDkwLCAxODAsIDI3MFxuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUub3JpZW50YXRpb24gPSBmdW5jdGlvbiAob3JpZW50YXRpb24pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyBvcmllbnRhdGlvbjogb3JpZW50YXRpb24gfSk7XG4gICAgfTtcbiAgICAvLyBDb21wcmVzc2lvbiBxdWFsaXR5IDAtMTAwXG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS5xdWFsaXR5ID0gZnVuY3Rpb24gKHF1YWxpdHkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyBxdWFsaXR5OiBxdWFsaXR5IH0pO1xuICAgIH07XG4gICAgLy8gTWFrZSBpdCBhIGRvd25sb2FkIGxpbmsuIFBhcmFtZXRlciBpcyBkZWZhdWx0IGZpbGVuYW1lLlxuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUuZm9yY2VEb3dubG9hZCA9IGZ1bmN0aW9uIChkb3dubG9hZCkge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IGRvd25sb2FkOiBkb3dubG9hZCB9KTtcbiAgICB9O1xuICAgIC8vIEZsaXAgaW1hZ2UgaG9yaXpvbnRhbGx5XG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS5mbGlwSG9yaXpvbnRhbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyBmbGlwSG9yaXpvbnRhbDogdHJ1ZSB9KTtcbiAgICB9O1xuICAgIC8vIEZsaXAgaW1hZ2UgdmVydGljYWxseVxuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUuZmxpcFZlcnRpY2FsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IGZsaXBWZXJ0aWNhbDogdHJ1ZSB9KTtcbiAgICB9O1xuICAgIC8vIElnbm9yZSBjcm9wL2hvdHNwb3QgZnJvbSBpbWFnZSByZWNvcmQsIGV2ZW4gd2hlbiBwcmVzZW50XG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS5pZ25vcmVJbWFnZVBhcmFtcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyBpZ25vcmVJbWFnZVBhcmFtczogdHJ1ZSB9KTtcbiAgICB9O1xuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUuZml0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWxpZEZpdHMuaW5kZXhPZih2YWx1ZSkgPT09IC0xKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGZpdCBtb2RlIFxcXCJcIi5jb25jYXQodmFsdWUsIFwiXFxcIlwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyBmaXQ6IHZhbHVlIH0pO1xuICAgIH07XG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS5jcm9wID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWxpZENyb3BzLmluZGV4T2YodmFsdWUpID09PSAtMSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBjcm9wIG1vZGUgXFxcIlwiLmNvbmNhdCh2YWx1ZSwgXCJcXFwiXCIpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IGNyb3A6IHZhbHVlIH0pO1xuICAgIH07XG4gICAgLy8gU2F0dXJhdGlvblxuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUuc2F0dXJhdGlvbiA9IGZ1bmN0aW9uIChzYXR1cmF0aW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhPcHRpb25zKHsgc2F0dXJhdGlvbjogc2F0dXJhdGlvbiB9KTtcbiAgICB9O1xuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUuYXV0byA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsaWRBdXRvTW9kZXMuaW5kZXhPZih2YWx1ZSkgPT09IC0xKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGF1dG8gbW9kZSBcXFwiXCIuY29uY2F0KHZhbHVlLCBcIlxcXCJcIikpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhPcHRpb25zKHsgYXV0bzogdmFsdWUgfSk7XG4gICAgfTtcbiAgICAvLyBTcGVjaWZ5IHRoZSBudW1iZXIgb2YgcGl4ZWxzIHRvIHBhZCB0aGUgaW1hZ2VcbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLnBhZCA9IGZ1bmN0aW9uIChwYWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyBwYWQ6IHBhZCB9KTtcbiAgICB9O1xuICAgIC8vIEdldHMgdGhlIHVybCBiYXNlZCBvbiB0aGUgc3VibWl0dGVkIHBhcmFtZXRlcnNcbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLnVybCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICgwLCB1cmxGb3JJbWFnZV8xLmRlZmF1bHQpKHRoaXMub3B0aW9ucyk7XG4gICAgfTtcbiAgICAvLyBBbGlhcyBmb3IgdXJsKClcbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmwoKTtcbiAgICB9O1xuICAgIHJldHVybiBJbWFnZVVybEJ1aWxkZXI7XG59KCkpO1xuZXhwb3J0cy5JbWFnZVVybEJ1aWxkZXIgPSBJbWFnZVVybEJ1aWxkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1idWlsZGVyLmpzLm1hcCJdLCJuYW1lcyI6WyJfX2Fzc2lnbiIsIk9iamVjdCIsImFzc2lnbiIsInQiLCJzIiwiaSIsIm4iLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJwIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiYXBwbHkiLCJfX2NyZWF0ZUJpbmRpbmciLCJjcmVhdGUiLCJvIiwibSIsImsiLCJrMiIsInVuZGVmaW5lZCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIl9fc2V0TW9kdWxlRGVmYXVsdCIsInYiLCJ2YWx1ZSIsIl9faW1wb3J0U3RhciIsIm1vZCIsIl9fZXNNb2R1bGUiLCJyZXN1bHQiLCJleHBvcnRzIiwiSW1hZ2VVcmxCdWlsZGVyIiwidXJsRm9ySW1hZ2VfMSIsInJlcXVpcmUiLCJ2YWxpZEZpdHMiLCJ2YWxpZENyb3BzIiwidmFsaWRBdXRvTW9kZXMiLCJpc1Nhbml0eU1vZGVybkNsaWVudExpa2UiLCJjbGllbnQiLCJjb25maWciLCJpc1Nhbml0eUNsaWVudExpa2UiLCJjbGllbnRDb25maWciLCJyZXdyaXRlU3BlY05hbWUiLCJrZXkiLCJzcGVjcyIsIlNQRUNfTkFNRV9UT19VUkxfTkFNRV9NQVBQSU5HUyIsIl9pIiwic3BlY3NfMSIsImVudHJ5Iiwic3BlY05hbWUiLCJwYXJhbSIsInVybEJ1aWxkZXIiLCJvcHRpb25zIiwiX2EiLCJhcGlVcmwiLCJhcGlIb3N0IiwicHJvamVjdElkIiwiZGF0YXNldCIsImJhc2VVcmwiLCJyZXBsYWNlIiwiX2IiLCJkZWZhdWx0IiwicGFyZW50Iiwid2l0aE9wdGlvbnMiLCJuZXdPcHRpb25zIiwic3BlY0tleSIsImltYWdlIiwic291cmNlIiwiYmciLCJkcHIiLCJ3aWR0aCIsImhlaWdodCIsImZvY2FsUG9pbnQiLCJ4IiwieSIsIm1heFdpZHRoIiwibWluV2lkdGgiLCJtYXhIZWlnaHQiLCJtaW5IZWlnaHQiLCJzaXplIiwiYmx1ciIsInNoYXJwZW4iLCJyZWN0IiwibGVmdCIsInRvcCIsImZvcm1hdCIsImludmVydCIsIm9yaWVudGF0aW9uIiwicXVhbGl0eSIsImZvcmNlRG93bmxvYWQiLCJkb3dubG9hZCIsImZsaXBIb3Jpem9udGFsIiwiZmxpcFZlcnRpY2FsIiwiaWdub3JlSW1hZ2VQYXJhbXMiLCJmaXQiLCJpbmRleE9mIiwiRXJyb3IiLCJjb25jYXQiLCJjcm9wIiwic2F0dXJhdGlvbiIsImF1dG8iLCJwYWQiLCJ1cmwiLCJ0b1N0cmluZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/image-url/lib/node/builder.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/image-url/lib/node/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/@sanity/image-url/lib/node/index.js ***!
  \**********************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval("\nvar __importDefault = this && this.__importDefault || function(mod) {\n    return mod && mod.__esModule ? mod : {\n        \"default\": mod\n    };\n};\nvar builder_1 = __importDefault(__webpack_require__(/*! ./builder */ \"(ssr)/./node_modules/@sanity/image-url/lib/node/builder.js\"));\nmodule.exports = builder_1.default; //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9pbWFnZS11cmwvbGliL25vZGUvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYixJQUFJQSxrQkFBa0IsSUFBSyxJQUFJLElBQUksQ0FBQ0EsZUFBZSxJQUFLLFNBQVVDLEdBQUc7SUFDakUsT0FBTyxPQUFRQSxJQUFJQyxVQUFVLEdBQUlELE1BQU07UUFBRSxXQUFXQTtJQUFJO0FBQzVEO0FBQ0EsSUFBSUUsWUFBWUgsZ0JBQWdCSSxtQkFBT0EsQ0FBQyw2RUFBVztBQUNuREMsT0FBT0MsT0FBTyxHQUFHSCxVQUFVSSxPQUFPLEVBQ2xDLGlDQUFpQyIsInNvdXJjZXMiOlsid2VicGFjazovL25pa2UvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9pbWFnZS11cmwvbGliL25vZGUvaW5kZXguanM/YTIyOSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbnZhciBidWlsZGVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYnVpbGRlclwiKSk7XG5tb2R1bGUuZXhwb3J0cyA9IGJ1aWxkZXJfMS5kZWZhdWx0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbIl9faW1wb3J0RGVmYXVsdCIsIm1vZCIsIl9fZXNNb2R1bGUiLCJidWlsZGVyXzEiLCJyZXF1aXJlIiwibW9kdWxlIiwiZXhwb3J0cyIsImRlZmF1bHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/image-url/lib/node/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/image-url/lib/node/parseAssetId.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@sanity/image-url/lib/node/parseAssetId.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nvar example = \"image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg\";\nfunction parseAssetId(ref) {\n    var _a = ref.split(\"-\"), id = _a[1], dimensionString = _a[2], format = _a[3];\n    if (!id || !dimensionString || !format) {\n        throw new Error(\"Malformed asset _ref '\".concat(ref, \"'. Expected an id like \\\"\").concat(example, '\".'));\n    }\n    var _b = dimensionString.split(\"x\"), imgWidthStr = _b[0], imgHeightStr = _b[1];\n    var width = +imgWidthStr;\n    var height = +imgHeightStr;\n    var isValidAssetId = isFinite(width) && isFinite(height);\n    if (!isValidAssetId) {\n        throw new Error(\"Malformed asset _ref '\".concat(ref, \"'. Expected an id like \\\"\").concat(example, '\".'));\n    }\n    return {\n        id: id,\n        width: width,\n        height: height,\n        format: format\n    };\n}\nexports[\"default\"] = parseAssetId; //# sourceMappingURL=parseAssetId.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9pbWFnZS11cmwvbGliL25vZGUvcGFyc2VBc3NldElkLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2JBLDhDQUE2QztJQUFFRyxPQUFPO0FBQUssQ0FBQyxFQUFDO0FBQzdELElBQUlDLFVBQVU7QUFDZCxTQUFTQyxhQUFhQyxHQUFHO0lBQ3JCLElBQUlDLEtBQUtELElBQUlFLEtBQUssQ0FBQyxNQUFNQyxLQUFLRixFQUFFLENBQUMsRUFBRSxFQUFFRyxrQkFBa0JILEVBQUUsQ0FBQyxFQUFFLEVBQUVJLFNBQVNKLEVBQUUsQ0FBQyxFQUFFO0lBQzVFLElBQUksQ0FBQ0UsTUFBTSxDQUFDQyxtQkFBbUIsQ0FBQ0MsUUFBUTtRQUNwQyxNQUFNLElBQUlDLE1BQU0seUJBQXlCQyxNQUFNLENBQUNQLEtBQUssNkJBQTZCTyxNQUFNLENBQUNULFNBQVM7SUFDdEc7SUFDQSxJQUFJVSxLQUFLSixnQkFBZ0JGLEtBQUssQ0FBQyxNQUFNTyxjQUFjRCxFQUFFLENBQUMsRUFBRSxFQUFFRSxlQUFlRixFQUFFLENBQUMsRUFBRTtJQUM5RSxJQUFJRyxRQUFRLENBQUNGO0lBQ2IsSUFBSUcsU0FBUyxDQUFDRjtJQUNkLElBQUlHLGlCQUFpQkMsU0FBU0gsVUFBVUcsU0FBU0Y7SUFDakQsSUFBSSxDQUFDQyxnQkFBZ0I7UUFDakIsTUFBTSxJQUFJUCxNQUFNLHlCQUF5QkMsTUFBTSxDQUFDUCxLQUFLLDZCQUE2Qk8sTUFBTSxDQUFDVCxTQUFTO0lBQ3RHO0lBQ0EsT0FBTztRQUFFSyxJQUFJQTtRQUFJUSxPQUFPQTtRQUFPQyxRQUFRQTtRQUFRUCxRQUFRQTtJQUFPO0FBQ2xFO0FBQ0FULGtCQUFlLEdBQUdHLGNBQ2xCLHdDQUF3QyIsInNvdXJjZXMiOlsid2VicGFjazovL25pa2UvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9pbWFnZS11cmwvbGliL25vZGUvcGFyc2VBc3NldElkLmpzPzQ4NWYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgZXhhbXBsZSA9ICdpbWFnZS1UYjlFdzhDWEl3YVk2UjFrak12STB1UlItMjAwMHgzMDAwLWpwZyc7XG5mdW5jdGlvbiBwYXJzZUFzc2V0SWQocmVmKSB7XG4gICAgdmFyIF9hID0gcmVmLnNwbGl0KCctJyksIGlkID0gX2FbMV0sIGRpbWVuc2lvblN0cmluZyA9IF9hWzJdLCBmb3JtYXQgPSBfYVszXTtcbiAgICBpZiAoIWlkIHx8ICFkaW1lbnNpb25TdHJpbmcgfHwgIWZvcm1hdCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNYWxmb3JtZWQgYXNzZXQgX3JlZiAnXCIuY29uY2F0KHJlZiwgXCInLiBFeHBlY3RlZCBhbiBpZCBsaWtlIFxcXCJcIikuY29uY2F0KGV4YW1wbGUsIFwiXFxcIi5cIikpO1xuICAgIH1cbiAgICB2YXIgX2IgPSBkaW1lbnNpb25TdHJpbmcuc3BsaXQoJ3gnKSwgaW1nV2lkdGhTdHIgPSBfYlswXSwgaW1nSGVpZ2h0U3RyID0gX2JbMV07XG4gICAgdmFyIHdpZHRoID0gK2ltZ1dpZHRoU3RyO1xuICAgIHZhciBoZWlnaHQgPSAraW1nSGVpZ2h0U3RyO1xuICAgIHZhciBpc1ZhbGlkQXNzZXRJZCA9IGlzRmluaXRlKHdpZHRoKSAmJiBpc0Zpbml0ZShoZWlnaHQpO1xuICAgIGlmICghaXNWYWxpZEFzc2V0SWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWFsZm9ybWVkIGFzc2V0IF9yZWYgJ1wiLmNvbmNhdChyZWYsIFwiJy4gRXhwZWN0ZWQgYW4gaWQgbGlrZSBcXFwiXCIpLmNvbmNhdChleGFtcGxlLCBcIlxcXCIuXCIpKTtcbiAgICB9XG4gICAgcmV0dXJuIHsgaWQ6IGlkLCB3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0LCBmb3JtYXQ6IGZvcm1hdCB9O1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gcGFyc2VBc3NldElkO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFyc2VBc3NldElkLmpzLm1hcCJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImV4YW1wbGUiLCJwYXJzZUFzc2V0SWQiLCJyZWYiLCJfYSIsInNwbGl0IiwiaWQiLCJkaW1lbnNpb25TdHJpbmciLCJmb3JtYXQiLCJFcnJvciIsImNvbmNhdCIsIl9iIiwiaW1nV2lkdGhTdHIiLCJpbWdIZWlnaHRTdHIiLCJ3aWR0aCIsImhlaWdodCIsImlzVmFsaWRBc3NldElkIiwiaXNGaW5pdGUiLCJkZWZhdWx0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/image-url/lib/node/parseAssetId.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/image-url/lib/node/parseSource.js":
/*!****************************************************************!*\
  !*** ./node_modules/@sanity/image-url/lib/node/parseSource.js ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, exports) {

"use strict";
eval("\nvar __assign = this && this.__assign || function() {\n    __assign = Object.assign || function(t) {\n        for(var s, i = 1, n = arguments.length; i < n; i++){\n            s = arguments[i];\n            for(var p in s)if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nvar isRef = function(src) {\n    var source = src;\n    return source ? typeof source._ref === \"string\" : false;\n};\nvar isAsset = function(src) {\n    var source = src;\n    return source ? typeof source._id === \"string\" : false;\n};\nvar isAssetStub = function(src) {\n    var source = src;\n    return source && source.asset ? typeof source.asset.url === \"string\" : false;\n};\n// Convert an asset-id, asset or image to an image record suitable for processing\n// eslint-disable-next-line complexity\nfunction parseSource(source) {\n    if (!source) {\n        return null;\n    }\n    var image;\n    if (typeof source === \"string\" && isUrl(source)) {\n        // Someone passed an existing image url?\n        image = {\n            asset: {\n                _ref: urlToId(source)\n            }\n        };\n    } else if (typeof source === \"string\") {\n        // Just an asset id\n        image = {\n            asset: {\n                _ref: source\n            }\n        };\n    } else if (isRef(source)) {\n        // We just got passed an asset directly\n        image = {\n            asset: source\n        };\n    } else if (isAsset(source)) {\n        // If we were passed an image asset document\n        image = {\n            asset: {\n                _ref: source._id || \"\"\n            }\n        };\n    } else if (isAssetStub(source)) {\n        // If we were passed a partial asset (`url`, but no `_id`)\n        image = {\n            asset: {\n                _ref: urlToId(source.asset.url)\n            }\n        };\n    } else if (typeof source.asset === \"object\") {\n        // Probably an actual image with materialized asset\n        image = __assign({}, source);\n    } else {\n        // We got something that does not look like an image, or it is an image\n        // that currently isn't sporting an asset.\n        return null;\n    }\n    var img = source;\n    if (img.crop) {\n        image.crop = img.crop;\n    }\n    if (img.hotspot) {\n        image.hotspot = img.hotspot;\n    }\n    return applyDefaults(image);\n}\nexports[\"default\"] = parseSource;\nfunction isUrl(url) {\n    return /^https?:\\/\\//.test(\"\".concat(url));\n}\nfunction urlToId(url) {\n    var parts = url.split(\"/\").slice(-1);\n    return \"image-\".concat(parts[0]).replace(/\\.([a-z]+)$/, \"-$1\");\n}\n// Mock crop and hotspot if image lacks it\nfunction applyDefaults(image) {\n    if (image.crop && image.hotspot) {\n        return image;\n    }\n    // We need to pad in default values for crop or hotspot\n    var result = __assign({}, image);\n    if (!result.crop) {\n        result.crop = {\n            left: 0,\n            top: 0,\n            bottom: 0,\n            right: 0\n        };\n    }\n    if (!result.hotspot) {\n        result.hotspot = {\n            x: 0.5,\n            y: 0.5,\n            height: 1.0,\n            width: 1.0\n        };\n    }\n    return result;\n} //# sourceMappingURL=parseSource.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9pbWFnZS11cmwvbGliL25vZGUvcGFyc2VTb3VyY2UuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYixJQUFJQSxXQUFXLElBQUssSUFBSSxJQUFJLENBQUNBLFFBQVEsSUFBSztJQUN0Q0EsV0FBV0MsT0FBT0MsTUFBTSxJQUFJLFNBQVNDLENBQUM7UUFDbEMsSUFBSyxJQUFJQyxHQUFHQyxJQUFJLEdBQUdDLElBQUlDLFVBQVVDLE1BQU0sRUFBRUgsSUFBSUMsR0FBR0QsSUFBSztZQUNqREQsSUFBSUcsU0FBUyxDQUFDRixFQUFFO1lBQ2hCLElBQUssSUFBSUksS0FBS0wsRUFBRyxJQUFJSCxPQUFPUyxTQUFTLENBQUNDLGNBQWMsQ0FBQ0MsSUFBSSxDQUFDUixHQUFHSyxJQUN6RE4sQ0FBQyxDQUFDTSxFQUFFLEdBQUdMLENBQUMsQ0FBQ0ssRUFBRTtRQUNuQjtRQUNBLE9BQU9OO0lBQ1g7SUFDQSxPQUFPSCxTQUFTYSxLQUFLLENBQUMsSUFBSSxFQUFFTjtBQUNoQztBQUNBTiw4Q0FBNkM7SUFBRWUsT0FBTztBQUFLLENBQUMsRUFBQztBQUM3RCxJQUFJQyxRQUFRLFNBQVVDLEdBQUc7SUFDckIsSUFBSUMsU0FBU0Q7SUFDYixPQUFPQyxTQUFTLE9BQU9BLE9BQU9DLElBQUksS0FBSyxXQUFXO0FBQ3REO0FBQ0EsSUFBSUMsVUFBVSxTQUFVSCxHQUFHO0lBQ3ZCLElBQUlDLFNBQVNEO0lBQ2IsT0FBT0MsU0FBUyxPQUFPQSxPQUFPRyxHQUFHLEtBQUssV0FBVztBQUNyRDtBQUNBLElBQUlDLGNBQWMsU0FBVUwsR0FBRztJQUMzQixJQUFJQyxTQUFTRDtJQUNiLE9BQU9DLFVBQVVBLE9BQU9LLEtBQUssR0FBRyxPQUFPTCxPQUFPSyxLQUFLLENBQUNDLEdBQUcsS0FBSyxXQUFXO0FBQzNFO0FBQ0EsaUZBQWlGO0FBQ2pGLHNDQUFzQztBQUN0QyxTQUFTQyxZQUFZUCxNQUFNO0lBQ3ZCLElBQUksQ0FBQ0EsUUFBUTtRQUNULE9BQU87SUFDWDtJQUNBLElBQUlRO0lBQ0osSUFBSSxPQUFPUixXQUFXLFlBQVlTLE1BQU1ULFNBQVM7UUFDN0Msd0NBQXdDO1FBQ3hDUSxRQUFRO1lBQ0pILE9BQU87Z0JBQUVKLE1BQU1TLFFBQVFWO1lBQVE7UUFDbkM7SUFDSixPQUNLLElBQUksT0FBT0EsV0FBVyxVQUFVO1FBQ2pDLG1CQUFtQjtRQUNuQlEsUUFBUTtZQUNKSCxPQUFPO2dCQUFFSixNQUFNRDtZQUFPO1FBQzFCO0lBQ0osT0FDSyxJQUFJRixNQUFNRSxTQUFTO1FBQ3BCLHVDQUF1QztRQUN2Q1EsUUFBUTtZQUNKSCxPQUFPTDtRQUNYO0lBQ0osT0FDSyxJQUFJRSxRQUFRRixTQUFTO1FBQ3RCLDRDQUE0QztRQUM1Q1EsUUFBUTtZQUNKSCxPQUFPO2dCQUNISixNQUFNRCxPQUFPRyxHQUFHLElBQUk7WUFDeEI7UUFDSjtJQUNKLE9BQ0ssSUFBSUMsWUFBWUosU0FBUztRQUMxQiwwREFBMEQ7UUFDMURRLFFBQVE7WUFDSkgsT0FBTztnQkFDSEosTUFBTVMsUUFBUVYsT0FBT0ssS0FBSyxDQUFDQyxHQUFHO1lBQ2xDO1FBQ0o7SUFDSixPQUNLLElBQUksT0FBT04sT0FBT0ssS0FBSyxLQUFLLFVBQVU7UUFDdkMsbURBQW1EO1FBQ25ERyxRQUFRM0IsU0FBUyxDQUFDLEdBQUdtQjtJQUN6QixPQUNLO1FBQ0QsdUVBQXVFO1FBQ3ZFLDBDQUEwQztRQUMxQyxPQUFPO0lBQ1g7SUFDQSxJQUFJVyxNQUFNWDtJQUNWLElBQUlXLElBQUlDLElBQUksRUFBRTtRQUNWSixNQUFNSSxJQUFJLEdBQUdELElBQUlDLElBQUk7SUFDekI7SUFDQSxJQUFJRCxJQUFJRSxPQUFPLEVBQUU7UUFDYkwsTUFBTUssT0FBTyxHQUFHRixJQUFJRSxPQUFPO0lBQy9CO0lBQ0EsT0FBT0MsY0FBY047QUFDekI7QUFDQVosa0JBQWUsR0FBR1c7QUFDbEIsU0FBU0UsTUFBTUgsR0FBRztJQUNkLE9BQU8sZUFBZVUsSUFBSSxDQUFDLEdBQUdDLE1BQU0sQ0FBQ1g7QUFDekM7QUFDQSxTQUFTSSxRQUFRSixHQUFHO0lBQ2hCLElBQUlZLFFBQVFaLElBQUlhLEtBQUssQ0FBQyxLQUFLQyxLQUFLLENBQUMsQ0FBQztJQUNsQyxPQUFPLFNBQVNILE1BQU0sQ0FBQ0MsS0FBSyxDQUFDLEVBQUUsRUFBRUcsT0FBTyxDQUFDLGVBQWU7QUFDNUQ7QUFDQSwwQ0FBMEM7QUFDMUMsU0FBU1AsY0FBY04sS0FBSztJQUN4QixJQUFJQSxNQUFNSSxJQUFJLElBQUlKLE1BQU1LLE9BQU8sRUFBRTtRQUM3QixPQUFPTDtJQUNYO0lBQ0EsdURBQXVEO0lBQ3ZELElBQUljLFNBQVN6QyxTQUFTLENBQUMsR0FBRzJCO0lBQzFCLElBQUksQ0FBQ2MsT0FBT1YsSUFBSSxFQUFFO1FBQ2RVLE9BQU9WLElBQUksR0FBRztZQUNWVyxNQUFNO1lBQ05DLEtBQUs7WUFDTEMsUUFBUTtZQUNSQyxPQUFPO1FBQ1g7SUFDSjtJQUNBLElBQUksQ0FBQ0osT0FBT1QsT0FBTyxFQUFFO1FBQ2pCUyxPQUFPVCxPQUFPLEdBQUc7WUFDYmMsR0FBRztZQUNIQyxHQUFHO1lBQ0hDLFFBQVE7WUFDUkMsT0FBTztRQUNYO0lBQ0o7SUFDQSxPQUFPUjtBQUNYLEVBQ0EsdUNBQXVDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmlrZS8uL25vZGVfbW9kdWxlcy9Ac2FuaXR5L2ltYWdlLXVybC9saWIvbm9kZS9wYXJzZVNvdXJjZS5qcz8yZGM3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBpc1JlZiA9IGZ1bmN0aW9uIChzcmMpIHtcbiAgICB2YXIgc291cmNlID0gc3JjO1xuICAgIHJldHVybiBzb3VyY2UgPyB0eXBlb2Ygc291cmNlLl9yZWYgPT09ICdzdHJpbmcnIDogZmFsc2U7XG59O1xudmFyIGlzQXNzZXQgPSBmdW5jdGlvbiAoc3JjKSB7XG4gICAgdmFyIHNvdXJjZSA9IHNyYztcbiAgICByZXR1cm4gc291cmNlID8gdHlwZW9mIHNvdXJjZS5faWQgPT09ICdzdHJpbmcnIDogZmFsc2U7XG59O1xudmFyIGlzQXNzZXRTdHViID0gZnVuY3Rpb24gKHNyYykge1xuICAgIHZhciBzb3VyY2UgPSBzcmM7XG4gICAgcmV0dXJuIHNvdXJjZSAmJiBzb3VyY2UuYXNzZXQgPyB0eXBlb2Ygc291cmNlLmFzc2V0LnVybCA9PT0gJ3N0cmluZycgOiBmYWxzZTtcbn07XG4vLyBDb252ZXJ0IGFuIGFzc2V0LWlkLCBhc3NldCBvciBpbWFnZSB0byBhbiBpbWFnZSByZWNvcmQgc3VpdGFibGUgZm9yIHByb2Nlc3Npbmdcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb21wbGV4aXR5XG5mdW5jdGlvbiBwYXJzZVNvdXJjZShzb3VyY2UpIHtcbiAgICBpZiAoIXNvdXJjZSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIGltYWdlO1xuICAgIGlmICh0eXBlb2Ygc291cmNlID09PSAnc3RyaW5nJyAmJiBpc1VybChzb3VyY2UpKSB7XG4gICAgICAgIC8vIFNvbWVvbmUgcGFzc2VkIGFuIGV4aXN0aW5nIGltYWdlIHVybD9cbiAgICAgICAgaW1hZ2UgPSB7XG4gICAgICAgICAgICBhc3NldDogeyBfcmVmOiB1cmxUb0lkKHNvdXJjZSkgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHNvdXJjZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgLy8gSnVzdCBhbiBhc3NldCBpZFxuICAgICAgICBpbWFnZSA9IHtcbiAgICAgICAgICAgIGFzc2V0OiB7IF9yZWY6IHNvdXJjZSB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1JlZihzb3VyY2UpKSB7XG4gICAgICAgIC8vIFdlIGp1c3QgZ290IHBhc3NlZCBhbiBhc3NldCBkaXJlY3RseVxuICAgICAgICBpbWFnZSA9IHtcbiAgICAgICAgICAgIGFzc2V0OiBzb3VyY2UsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzQXNzZXQoc291cmNlKSkge1xuICAgICAgICAvLyBJZiB3ZSB3ZXJlIHBhc3NlZCBhbiBpbWFnZSBhc3NldCBkb2N1bWVudFxuICAgICAgICBpbWFnZSA9IHtcbiAgICAgICAgICAgIGFzc2V0OiB7XG4gICAgICAgICAgICAgICAgX3JlZjogc291cmNlLl9pZCB8fCAnJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzQXNzZXRTdHViKHNvdXJjZSkpIHtcbiAgICAgICAgLy8gSWYgd2Ugd2VyZSBwYXNzZWQgYSBwYXJ0aWFsIGFzc2V0IChgdXJsYCwgYnV0IG5vIGBfaWRgKVxuICAgICAgICBpbWFnZSA9IHtcbiAgICAgICAgICAgIGFzc2V0OiB7XG4gICAgICAgICAgICAgICAgX3JlZjogdXJsVG9JZChzb3VyY2UuYXNzZXQudXJsKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBzb3VyY2UuYXNzZXQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIC8vIFByb2JhYmx5IGFuIGFjdHVhbCBpbWFnZSB3aXRoIG1hdGVyaWFsaXplZCBhc3NldFxuICAgICAgICBpbWFnZSA9IF9fYXNzaWduKHt9LCBzb3VyY2UpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gV2UgZ290IHNvbWV0aGluZyB0aGF0IGRvZXMgbm90IGxvb2sgbGlrZSBhbiBpbWFnZSwgb3IgaXQgaXMgYW4gaW1hZ2VcbiAgICAgICAgLy8gdGhhdCBjdXJyZW50bHkgaXNuJ3Qgc3BvcnRpbmcgYW4gYXNzZXQuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgaW1nID0gc291cmNlO1xuICAgIGlmIChpbWcuY3JvcCkge1xuICAgICAgICBpbWFnZS5jcm9wID0gaW1nLmNyb3A7XG4gICAgfVxuICAgIGlmIChpbWcuaG90c3BvdCkge1xuICAgICAgICBpbWFnZS5ob3RzcG90ID0gaW1nLmhvdHNwb3Q7XG4gICAgfVxuICAgIHJldHVybiBhcHBseURlZmF1bHRzKGltYWdlKTtcbn1cbmV4cG9ydHMuZGVmYXVsdCA9IHBhcnNlU291cmNlO1xuZnVuY3Rpb24gaXNVcmwodXJsKSB7XG4gICAgcmV0dXJuIC9eaHR0cHM/OlxcL1xcLy8udGVzdChcIlwiLmNvbmNhdCh1cmwpKTtcbn1cbmZ1bmN0aW9uIHVybFRvSWQodXJsKSB7XG4gICAgdmFyIHBhcnRzID0gdXJsLnNwbGl0KCcvJykuc2xpY2UoLTEpO1xuICAgIHJldHVybiBcImltYWdlLVwiLmNvbmNhdChwYXJ0c1swXSkucmVwbGFjZSgvXFwuKFthLXpdKykkLywgJy0kMScpO1xufVxuLy8gTW9jayBjcm9wIGFuZCBob3RzcG90IGlmIGltYWdlIGxhY2tzIGl0XG5mdW5jdGlvbiBhcHBseURlZmF1bHRzKGltYWdlKSB7XG4gICAgaWYgKGltYWdlLmNyb3AgJiYgaW1hZ2UuaG90c3BvdCkge1xuICAgICAgICByZXR1cm4gaW1hZ2U7XG4gICAgfVxuICAgIC8vIFdlIG5lZWQgdG8gcGFkIGluIGRlZmF1bHQgdmFsdWVzIGZvciBjcm9wIG9yIGhvdHNwb3RcbiAgICB2YXIgcmVzdWx0ID0gX19hc3NpZ24oe30sIGltYWdlKTtcbiAgICBpZiAoIXJlc3VsdC5jcm9wKSB7XG4gICAgICAgIHJlc3VsdC5jcm9wID0ge1xuICAgICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICAgIGJvdHRvbTogMCxcbiAgICAgICAgICAgIHJpZ2h0OiAwLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAoIXJlc3VsdC5ob3RzcG90KSB7XG4gICAgICAgIHJlc3VsdC5ob3RzcG90ID0ge1xuICAgICAgICAgICAgeDogMC41LFxuICAgICAgICAgICAgeTogMC41LFxuICAgICAgICAgICAgaGVpZ2h0OiAxLjAsXG4gICAgICAgICAgICB3aWR0aDogMS4wLFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFyc2VTb3VyY2UuanMubWFwIl0sIm5hbWVzIjpbIl9fYXNzaWduIiwiT2JqZWN0IiwiYXNzaWduIiwidCIsInMiLCJpIiwibiIsImFyZ3VtZW50cyIsImxlbmd0aCIsInAiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJhcHBseSIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiaXNSZWYiLCJzcmMiLCJzb3VyY2UiLCJfcmVmIiwiaXNBc3NldCIsIl9pZCIsImlzQXNzZXRTdHViIiwiYXNzZXQiLCJ1cmwiLCJwYXJzZVNvdXJjZSIsImltYWdlIiwiaXNVcmwiLCJ1cmxUb0lkIiwiaW1nIiwiY3JvcCIsImhvdHNwb3QiLCJhcHBseURlZmF1bHRzIiwiZGVmYXVsdCIsInRlc3QiLCJjb25jYXQiLCJwYXJ0cyIsInNwbGl0Iiwic2xpY2UiLCJyZXBsYWNlIiwicmVzdWx0IiwibGVmdCIsInRvcCIsImJvdHRvbSIsInJpZ2h0IiwieCIsInkiLCJoZWlnaHQiLCJ3aWR0aCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/image-url/lib/node/parseSource.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/image-url/lib/node/urlForImage.js":
/*!****************************************************************!*\
  !*** ./node_modules/@sanity/image-url/lib/node/urlForImage.js ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\nvar __assign = this && this.__assign || function() {\n    __assign = Object.assign || function(t) {\n        for(var s, i = 1, n = arguments.length; i < n; i++){\n            s = arguments[i];\n            for(var p in s)if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = this && this.__importDefault || function(mod) {\n    return mod && mod.__esModule ? mod : {\n        \"default\": mod\n    };\n};\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.parseSource = exports.SPEC_NAME_TO_URL_NAME_MAPPINGS = void 0;\nvar parseAssetId_1 = __importDefault(__webpack_require__(/*! ./parseAssetId */ \"(ssr)/./node_modules/@sanity/image-url/lib/node/parseAssetId.js\"));\nvar parseSource_1 = __importDefault(__webpack_require__(/*! ./parseSource */ \"(ssr)/./node_modules/@sanity/image-url/lib/node/parseSource.js\"));\nexports.parseSource = parseSource_1.default;\nexports.SPEC_NAME_TO_URL_NAME_MAPPINGS = [\n    [\n        \"width\",\n        \"w\"\n    ],\n    [\n        \"height\",\n        \"h\"\n    ],\n    [\n        \"format\",\n        \"fm\"\n    ],\n    [\n        \"download\",\n        \"dl\"\n    ],\n    [\n        \"blur\",\n        \"blur\"\n    ],\n    [\n        \"sharpen\",\n        \"sharp\"\n    ],\n    [\n        \"invert\",\n        \"invert\"\n    ],\n    [\n        \"orientation\",\n        \"or\"\n    ],\n    [\n        \"minHeight\",\n        \"min-h\"\n    ],\n    [\n        \"maxHeight\",\n        \"max-h\"\n    ],\n    [\n        \"minWidth\",\n        \"min-w\"\n    ],\n    [\n        \"maxWidth\",\n        \"max-w\"\n    ],\n    [\n        \"quality\",\n        \"q\"\n    ],\n    [\n        \"fit\",\n        \"fit\"\n    ],\n    [\n        \"crop\",\n        \"crop\"\n    ],\n    [\n        \"saturation\",\n        \"sat\"\n    ],\n    [\n        \"auto\",\n        \"auto\"\n    ],\n    [\n        \"dpr\",\n        \"dpr\"\n    ],\n    [\n        \"pad\",\n        \"pad\"\n    ]\n];\nfunction urlForImage(options) {\n    var spec = __assign({}, options || {});\n    var source = spec.source;\n    delete spec.source;\n    var image = (0, parseSource_1.default)(source);\n    if (!image) {\n        throw new Error(\"Unable to resolve image URL from source (\".concat(JSON.stringify(source), \")\"));\n    }\n    var id = image.asset._ref || image.asset._id || \"\";\n    var asset = (0, parseAssetId_1.default)(id);\n    // Compute crop rect in terms of pixel coordinates in the raw source image\n    var cropLeft = Math.round(image.crop.left * asset.width);\n    var cropTop = Math.round(image.crop.top * asset.height);\n    var crop = {\n        left: cropLeft,\n        top: cropTop,\n        width: Math.round(asset.width - image.crop.right * asset.width - cropLeft),\n        height: Math.round(asset.height - image.crop.bottom * asset.height - cropTop)\n    };\n    // Compute hot spot rect in terms of pixel coordinates\n    var hotSpotVerticalRadius = image.hotspot.height * asset.height / 2;\n    var hotSpotHorizontalRadius = image.hotspot.width * asset.width / 2;\n    var hotSpotCenterX = image.hotspot.x * asset.width;\n    var hotSpotCenterY = image.hotspot.y * asset.height;\n    var hotspot = {\n        left: hotSpotCenterX - hotSpotHorizontalRadius,\n        top: hotSpotCenterY - hotSpotVerticalRadius,\n        right: hotSpotCenterX + hotSpotHorizontalRadius,\n        bottom: hotSpotCenterY + hotSpotVerticalRadius\n    };\n    // If irrelevant, or if we are requested to: don't perform crop/fit based on\n    // the crop/hotspot.\n    if (!(spec.rect || spec.focalPoint || spec.ignoreImageParams || spec.crop)) {\n        spec = __assign(__assign({}, spec), fit({\n            crop: crop,\n            hotspot: hotspot\n        }, spec));\n    }\n    return specToImageUrl(__assign(__assign({}, spec), {\n        asset: asset\n    }));\n}\nexports[\"default\"] = urlForImage;\n// eslint-disable-next-line complexity\nfunction specToImageUrl(spec) {\n    var cdnUrl = (spec.baseUrl || \"https://cdn.sanity.io\").replace(/\\/+$/, \"\");\n    var filename = \"\".concat(spec.asset.id, \"-\").concat(spec.asset.width, \"x\").concat(spec.asset.height, \".\").concat(spec.asset.format);\n    var baseUrl = \"\".concat(cdnUrl, \"/images/\").concat(spec.projectId, \"/\").concat(spec.dataset, \"/\").concat(filename);\n    var params = [];\n    if (spec.rect) {\n        // Only bother url with a crop if it actually crops anything\n        var _a = spec.rect, left = _a.left, top_1 = _a.top, width = _a.width, height = _a.height;\n        var isEffectiveCrop = left !== 0 || top_1 !== 0 || height !== spec.asset.height || width !== spec.asset.width;\n        if (isEffectiveCrop) {\n            params.push(\"rect=\".concat(left, \",\").concat(top_1, \",\").concat(width, \",\").concat(height));\n        }\n    }\n    if (spec.bg) {\n        params.push(\"bg=\".concat(spec.bg));\n    }\n    if (spec.focalPoint) {\n        params.push(\"fp-x=\".concat(spec.focalPoint.x));\n        params.push(\"fp-y=\".concat(spec.focalPoint.y));\n    }\n    var flip = [\n        spec.flipHorizontal && \"h\",\n        spec.flipVertical && \"v\"\n    ].filter(Boolean).join(\"\");\n    if (flip) {\n        params.push(\"flip=\".concat(flip));\n    }\n    // Map from spec name to url param name, and allow using the actual param name as an alternative\n    exports.SPEC_NAME_TO_URL_NAME_MAPPINGS.forEach(function(mapping) {\n        var specName = mapping[0], param = mapping[1];\n        if (typeof spec[specName] !== \"undefined\") {\n            params.push(\"\".concat(param, \"=\").concat(encodeURIComponent(spec[specName])));\n        } else if (typeof spec[param] !== \"undefined\") {\n            params.push(\"\".concat(param, \"=\").concat(encodeURIComponent(spec[param])));\n        }\n    });\n    if (params.length === 0) {\n        return baseUrl;\n    }\n    return \"\".concat(baseUrl, \"?\").concat(params.join(\"&\"));\n}\nfunction fit(source, spec) {\n    var cropRect;\n    var imgWidth = spec.width;\n    var imgHeight = spec.height;\n    // If we are not constraining the aspect ratio, we'll just use the whole crop\n    if (!(imgWidth && imgHeight)) {\n        return {\n            width: imgWidth,\n            height: imgHeight,\n            rect: source.crop\n        };\n    }\n    var crop = source.crop;\n    var hotspot = source.hotspot;\n    // If we are here, that means aspect ratio is locked and fitting will be a bit harder\n    var desiredAspectRatio = imgWidth / imgHeight;\n    var cropAspectRatio = crop.width / crop.height;\n    if (cropAspectRatio > desiredAspectRatio) {\n        // The crop is wider than the desired aspect ratio. That means we are cutting from the sides\n        var height = Math.round(crop.height);\n        var width = Math.round(height * desiredAspectRatio);\n        var top_2 = Math.max(0, Math.round(crop.top));\n        // Center output horizontally over hotspot\n        var hotspotXCenter = Math.round((hotspot.right - hotspot.left) / 2 + hotspot.left);\n        var left = Math.max(0, Math.round(hotspotXCenter - width / 2));\n        // Keep output within crop\n        if (left < crop.left) {\n            left = crop.left;\n        } else if (left + width > crop.left + crop.width) {\n            left = crop.left + crop.width - width;\n        }\n        cropRect = {\n            left: left,\n            top: top_2,\n            width: width,\n            height: height\n        };\n    } else {\n        // The crop is taller than the desired ratio, we are cutting from top and bottom\n        var width = crop.width;\n        var height = Math.round(width / desiredAspectRatio);\n        var left = Math.max(0, Math.round(crop.left));\n        // Center output vertically over hotspot\n        var hotspotYCenter = Math.round((hotspot.bottom - hotspot.top) / 2 + hotspot.top);\n        var top_3 = Math.max(0, Math.round(hotspotYCenter - height / 2));\n        // Keep output rect within crop\n        if (top_3 < crop.top) {\n            top_3 = crop.top;\n        } else if (top_3 + height > crop.top + crop.height) {\n            top_3 = crop.top + crop.height - height;\n        }\n        cropRect = {\n            left: left,\n            top: top_3,\n            width: width,\n            height: height\n        };\n    }\n    return {\n        width: imgWidth,\n        height: imgHeight,\n        rect: cropRect\n    };\n} //# sourceMappingURL=urlForImage.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9pbWFnZS11cmwvbGliL25vZGUvdXJsRm9ySW1hZ2UuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYixJQUFJQSxXQUFXLElBQUssSUFBSSxJQUFJLENBQUNBLFFBQVEsSUFBSztJQUN0Q0EsV0FBV0MsT0FBT0MsTUFBTSxJQUFJLFNBQVNDLENBQUM7UUFDbEMsSUFBSyxJQUFJQyxHQUFHQyxJQUFJLEdBQUdDLElBQUlDLFVBQVVDLE1BQU0sRUFBRUgsSUFBSUMsR0FBR0QsSUFBSztZQUNqREQsSUFBSUcsU0FBUyxDQUFDRixFQUFFO1lBQ2hCLElBQUssSUFBSUksS0FBS0wsRUFBRyxJQUFJSCxPQUFPUyxTQUFTLENBQUNDLGNBQWMsQ0FBQ0MsSUFBSSxDQUFDUixHQUFHSyxJQUN6RE4sQ0FBQyxDQUFDTSxFQUFFLEdBQUdMLENBQUMsQ0FBQ0ssRUFBRTtRQUNuQjtRQUNBLE9BQU9OO0lBQ1g7SUFDQSxPQUFPSCxTQUFTYSxLQUFLLENBQUMsSUFBSSxFQUFFTjtBQUNoQztBQUNBLElBQUlPLGtCQUFrQixJQUFLLElBQUksSUFBSSxDQUFDQSxlQUFlLElBQUssU0FBVUMsR0FBRztJQUNqRSxPQUFPLE9BQVFBLElBQUlDLFVBQVUsR0FBSUQsTUFBTTtRQUFFLFdBQVdBO0lBQUk7QUFDNUQ7QUFDQWQsOENBQTZDO0lBQUVrQixPQUFPO0FBQUssQ0FBQyxFQUFDO0FBQzdERCxtQkFBbUIsR0FBR0Esc0NBQXNDLEdBQUcsS0FBSztBQUNwRSxJQUFJSSxpQkFBaUJSLGdCQUFnQlMsbUJBQU9BLENBQUMsdUZBQWdCO0FBQzdELElBQUlDLGdCQUFnQlYsZ0JBQWdCUyxtQkFBT0EsQ0FBQyxxRkFBZTtBQUMzREwsbUJBQW1CLEdBQUdNLGNBQWNDLE9BQU87QUFDM0NQLHNDQUFzQyxHQUFHO0lBQ3JDO1FBQUM7UUFBUztLQUFJO0lBQ2Q7UUFBQztRQUFVO0tBQUk7SUFDZjtRQUFDO1FBQVU7S0FBSztJQUNoQjtRQUFDO1FBQVk7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LEtBQUtDLElBQUksR0FBR0QsS0FBS0UsS0FBSyxHQUFHQTtRQUNwQztRQUNBMEMsV0FBVztZQUFFM0MsTUFBTUE7WUFBTUcsS0FBSzZDO1lBQU8vQyxPQUFPQTtZQUFPRyxRQUFRQTtRQUFPO0lBQ3RFLE9BQ0s7UUFDRCxnRkFBZ0Y7UUFDaEYsSUFBSUgsUUFBUUYsS0FBS0UsS0FBSztRQUN0QixJQUFJRyxTQUFTUCxLQUFLQyxLQUFLLENBQUNHLFFBQVE2QztRQUNoQyxJQUFJOUMsT0FBT0gsS0FBS29ELEdBQUcsQ0FBQyxHQUFHcEQsS0FBS0MsS0FBSyxDQUFDQyxLQUFLQyxJQUFJO1FBQzNDLHdDQUF3QztRQUN4QyxJQUFJbUQsaUJBQWlCdEQsS0FBS0MsS0FBSyxDQUFDLENBQUNVLFFBQVFGLE1BQU0sR0FBR0UsUUFBUUwsR0FBRyxJQUFJLElBQUlLLFFBQVFMLEdBQUc7UUFDaEYsSUFBSWlELFFBQVF2RCxLQUFLb0QsR0FBRyxDQUFDLEdBQUdwRCxLQUFLQyxLQUFLLENBQUNxRCxpQkFBaUIvQyxTQUFTO1FBQzdELCtCQUErQjtRQUMvQixJQUFJZ0QsUUFBUXJELEtBQUtJLEdBQUcsRUFBRTtZQUNsQmlELFFBQVFyRCxLQUFLSSxHQUFHO1FBQ3BCLE9BQ0ssSUFBSWlELFFBQVFoRCxTQUFTTCxLQUFLSSxHQUFHLEdBQUdKLEtBQUtLLE1BQU0sRUFBRTtZQUM5Q2dELFFBQVFyRCxLQUFLSSxHQUFHLEdBQUdKLEtBQUtLLE1BQU0sR0FBR0E7UUFDckM7UUFDQXVDLFdBQVc7WUFBRTNDLE1BQU1BO1lBQU1HLEtBQUtpRDtZQUFPbkQsT0FBT0E7WUFBT0csUUFBUUE7UUFBTztJQUN0RTtJQUNBLE9BQU87UUFDSEgsT0FBTzJDO1FBQ1B4QyxRQUFReUM7UUFDUi9CLE1BQU02QjtJQUNWO0FBQ0osRUFDQSx1Q0FBdUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uaWtlLy4vbm9kZV9tb2R1bGVzL0BzYW5pdHkvaW1hZ2UtdXJsL2xpYi9ub2RlL3VybEZvckltYWdlLmpzP2E1NWMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wYXJzZVNvdXJjZSA9IGV4cG9ydHMuU1BFQ19OQU1FX1RPX1VSTF9OQU1FX01BUFBJTkdTID0gdm9pZCAwO1xudmFyIHBhcnNlQXNzZXRJZF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL3BhcnNlQXNzZXRJZFwiKSk7XG52YXIgcGFyc2VTb3VyY2VfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9wYXJzZVNvdXJjZVwiKSk7XG5leHBvcnRzLnBhcnNlU291cmNlID0gcGFyc2VTb3VyY2VfMS5kZWZhdWx0O1xuZXhwb3J0cy5TUEVDX05BTUVfVE9fVVJMX05BTUVfTUFQUElOR1MgPSBbXG4gICAgWyd3aWR0aCcsICd3J10sXG4gICAgWydoZWlnaHQnLCAnaCddLFxuICAgIFsnZm9ybWF0JywgJ2ZtJ10sXG4gICAgWydkb3dubG9hZCcsICdkbCddLFxuICAgIFsnYmx1cicsICdibHVyJ10sXG4gICAgWydzaGFycGVuJywgJ3NoYXJwJ10sXG4gICAgWydpbnZlcnQnLCAnaW52ZXJ0J10sXG4gICAgWydvcmllbnRhdGlvbicsICdvciddLFxuICAgIFsnbWluSGVpZ2h0JywgJ21pbi1oJ10sXG4gICAgWydtYXhIZWlnaHQnLCAnbWF4LWgnXSxcbiAgICBbJ21pbldpZHRoJywgJ21pbi13J10sXG4gICAgWydtYXhXaWR0aCcsICdtYXgtdyddLFxuICAgIFsncXVhbGl0eScsICdxJ10sXG4gICAgWydmaXQnLCAnZml0J10sXG4gICAgWydjcm9wJywgJ2Nyb3AnXSxcbiAgICBbJ3NhdHVyYXRpb24nLCAnc2F0J10sXG4gICAgWydhdXRvJywgJ2F1dG8nXSxcbiAgICBbJ2RwcicsICdkcHInXSxcbiAgICBbJ3BhZCcsICdwYWQnXSxcbl07XG5mdW5jdGlvbiB1cmxGb3JJbWFnZShvcHRpb25zKSB7XG4gICAgdmFyIHNwZWMgPSBfX2Fzc2lnbih7fSwgKG9wdGlvbnMgfHwge30pKTtcbiAgICB2YXIgc291cmNlID0gc3BlYy5zb3VyY2U7XG4gICAgZGVsZXRlIHNwZWMuc291cmNlO1xuICAgIHZhciBpbWFnZSA9ICgwLCBwYXJzZVNvdXJjZV8xLmRlZmF1bHQpKHNvdXJjZSk7XG4gICAgaWYgKCFpbWFnZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gcmVzb2x2ZSBpbWFnZSBVUkwgZnJvbSBzb3VyY2UgKFwiLmNvbmNhdChKU09OLnN0cmluZ2lmeShzb3VyY2UpLCBcIilcIikpO1xuICAgIH1cbiAgICB2YXIgaWQgPSBpbWFnZS5hc3NldC5fcmVmIHx8IGltYWdlLmFzc2V0Ll9pZCB8fCAnJztcbiAgICB2YXIgYXNzZXQgPSAoMCwgcGFyc2VBc3NldElkXzEuZGVmYXVsdCkoaWQpO1xuICAgIC8vIENvbXB1dGUgY3JvcCByZWN0IGluIHRlcm1zIG9mIHBpeGVsIGNvb3JkaW5hdGVzIGluIHRoZSByYXcgc291cmNlIGltYWdlXG4gICAgdmFyIGNyb3BMZWZ0ID0gTWF0aC5yb3VuZChpbWFnZS5jcm9wLmxlZnQgKiBhc3NldC53aWR0aCk7XG4gICAgdmFyIGNyb3BUb3AgPSBNYXRoLnJvdW5kKGltYWdlLmNyb3AudG9wICogYXNzZXQuaGVpZ2h0KTtcbiAgICB2YXIgY3JvcCA9IHtcbiAgICAgICAgbGVmdDogY3JvcExlZnQsXG4gICAgICAgIHRvcDogY3JvcFRvcCxcbiAgICAgICAgd2lkdGg6IE1hdGgucm91bmQoYXNzZXQud2lkdGggLSBpbWFnZS5jcm9wLnJpZ2h0ICogYXNzZXQud2lkdGggLSBjcm9wTGVmdCksXG4gICAgICAgIGhlaWdodDogTWF0aC5yb3VuZChhc3NldC5oZWlnaHQgLSBpbWFnZS5jcm9wLmJvdHRvbSAqIGFzc2V0LmhlaWdodCAtIGNyb3BUb3ApLFxuICAgIH07XG4gICAgLy8gQ29tcHV0ZSBob3Qgc3BvdCByZWN0IGluIHRlcm1zIG9mIHBpeGVsIGNvb3JkaW5hdGVzXG4gICAgdmFyIGhvdFNwb3RWZXJ0aWNhbFJhZGl1cyA9IChpbWFnZS5ob3RzcG90LmhlaWdodCAqIGFzc2V0LmhlaWdodCkgLyAyO1xuICAgIHZhciBob3RTcG90SG9yaXpvbnRhbFJhZGl1cyA9IChpbWFnZS5ob3RzcG90LndpZHRoICogYXNzZXQud2lkdGgpIC8gMjtcbiAgICB2YXIgaG90U3BvdENlbnRlclggPSBpbWFnZS5ob3RzcG90LnggKiBhc3NldC53aWR0aDtcbiAgICB2YXIgaG90U3BvdENlbnRlclkgPSBpbWFnZS5ob3RzcG90LnkgKiBhc3NldC5oZWlnaHQ7XG4gICAgdmFyIGhvdHNwb3QgPSB7XG4gICAgICAgIGxlZnQ6IGhvdFNwb3RDZW50ZXJYIC0gaG90U3BvdEhvcml6b250YWxSYWRpdXMsXG4gICAgICAgIHRvcDogaG90U3BvdENlbnRlclkgLSBob3RTcG90VmVydGljYWxSYWRpdXMsXG4gICAgICAgIHJpZ2h0OiBob3RTcG90Q2VudGVyWCArIGhvdFNwb3RIb3Jpem9udGFsUmFkaXVzLFxuICAgICAgICBib3R0b206IGhvdFNwb3RDZW50ZXJZICsgaG90U3BvdFZlcnRpY2FsUmFkaXVzLFxuICAgIH07XG4gICAgLy8gSWYgaXJyZWxldmFudCwgb3IgaWYgd2UgYXJlIHJlcXVlc3RlZCB0bzogZG9uJ3QgcGVyZm9ybSBjcm9wL2ZpdCBiYXNlZCBvblxuICAgIC8vIHRoZSBjcm9wL2hvdHNwb3QuXG4gICAgaWYgKCEoc3BlYy5yZWN0IHx8IHNwZWMuZm9jYWxQb2ludCB8fCBzcGVjLmlnbm9yZUltYWdlUGFyYW1zIHx8IHNwZWMuY3JvcCkpIHtcbiAgICAgICAgc3BlYyA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCBzcGVjKSwgZml0KHsgY3JvcDogY3JvcCwgaG90c3BvdDogaG90c3BvdCB9LCBzcGVjKSk7XG4gICAgfVxuICAgIHJldHVybiBzcGVjVG9JbWFnZVVybChfX2Fzc2lnbihfX2Fzc2lnbih7fSwgc3BlYyksIHsgYXNzZXQ6IGFzc2V0IH0pKTtcbn1cbmV4cG9ydHMuZGVmYXVsdCA9IHVybEZvckltYWdlO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbXBsZXhpdHlcbmZ1bmN0aW9uIHNwZWNUb0ltYWdlVXJsKHNwZWMpIHtcbiAgICB2YXIgY2RuVXJsID0gKHNwZWMuYmFzZVVybCB8fCAnaHR0cHM6Ly9jZG4uc2FuaXR5LmlvJykucmVwbGFjZSgvXFwvKyQvLCAnJyk7XG4gICAgdmFyIGZpbGVuYW1lID0gXCJcIi5jb25jYXQoc3BlYy5hc3NldC5pZCwgXCItXCIpLmNvbmNhdChzcGVjLmFzc2V0LndpZHRoLCBcInhcIikuY29uY2F0KHNwZWMuYXNzZXQuaGVpZ2h0LCBcIi5cIikuY29uY2F0KHNwZWMuYXNzZXQuZm9ybWF0KTtcbiAgICB2YXIgYmFzZVVybCA9IFwiXCIuY29uY2F0KGNkblVybCwgXCIvaW1hZ2VzL1wiKS5jb25jYXQoc3BlYy5wcm9qZWN0SWQsIFwiL1wiKS5jb25jYXQoc3BlYy5kYXRhc2V0LCBcIi9cIikuY29uY2F0KGZpbGVuYW1lKTtcbiAgICB2YXIgcGFyYW1zID0gW107XG4gICAgaWYgKHNwZWMucmVjdCkge1xuICAgICAgICAvLyBPbmx5IGJvdGhlciB1cmwgd2l0aCBhIGNyb3AgaWYgaXQgYWN0dWFsbHkgY3JvcHMgYW55dGhpbmdcbiAgICAgICAgdmFyIF9hID0gc3BlYy5yZWN0LCBsZWZ0ID0gX2EubGVmdCwgdG9wXzEgPSBfYS50b3AsIHdpZHRoID0gX2Eud2lkdGgsIGhlaWdodCA9IF9hLmhlaWdodDtcbiAgICAgICAgdmFyIGlzRWZmZWN0aXZlQ3JvcCA9IGxlZnQgIT09IDAgfHwgdG9wXzEgIT09IDAgfHwgaGVpZ2h0ICE9PSBzcGVjLmFzc2V0LmhlaWdodCB8fCB3aWR0aCAhPT0gc3BlYy5hc3NldC53aWR0aDtcbiAgICAgICAgaWYgKGlzRWZmZWN0aXZlQ3JvcCkge1xuICAgICAgICAgICAgcGFyYW1zLnB1c2goXCJyZWN0PVwiLmNvbmNhdChsZWZ0LCBcIixcIikuY29uY2F0KHRvcF8xLCBcIixcIikuY29uY2F0KHdpZHRoLCBcIixcIikuY29uY2F0KGhlaWdodCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChzcGVjLmJnKSB7XG4gICAgICAgIHBhcmFtcy5wdXNoKFwiYmc9XCIuY29uY2F0KHNwZWMuYmcpKTtcbiAgICB9XG4gICAgaWYgKHNwZWMuZm9jYWxQb2ludCkge1xuICAgICAgICBwYXJhbXMucHVzaChcImZwLXg9XCIuY29uY2F0KHNwZWMuZm9jYWxQb2ludC54KSk7XG4gICAgICAgIHBhcmFtcy5wdXNoKFwiZnAteT1cIi5jb25jYXQoc3BlYy5mb2NhbFBvaW50LnkpKTtcbiAgICB9XG4gICAgdmFyIGZsaXAgPSBbc3BlYy5mbGlwSG9yaXpvbnRhbCAmJiAnaCcsIHNwZWMuZmxpcFZlcnRpY2FsICYmICd2J10uZmlsdGVyKEJvb2xlYW4pLmpvaW4oJycpO1xuICAgIGlmIChmbGlwKSB7XG4gICAgICAgIHBhcmFtcy5wdXNoKFwiZmxpcD1cIi5jb25jYXQoZmxpcCkpO1xuICAgIH1cbiAgICAvLyBNYXAgZnJvbSBzcGVjIG5hbWUgdG8gdXJsIHBhcmFtIG5hbWUsIGFuZCBhbGxvdyB1c2luZyB0aGUgYWN0dWFsIHBhcmFtIG5hbWUgYXMgYW4gYWx0ZXJuYXRpdmVcbiAgICBleHBvcnRzLlNQRUNfTkFNRV9UT19VUkxfTkFNRV9NQVBQSU5HUy5mb3JFYWNoKGZ1bmN0aW9uIChtYXBwaW5nKSB7XG4gICAgICAgIHZhciBzcGVjTmFtZSA9IG1hcHBpbmdbMF0sIHBhcmFtID0gbWFwcGluZ1sxXTtcbiAgICAgICAgaWYgKHR5cGVvZiBzcGVjW3NwZWNOYW1lXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHBhcmFtcy5wdXNoKFwiXCIuY29uY2F0KHBhcmFtLCBcIj1cIikuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChzcGVjW3NwZWNOYW1lXSkpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2Ygc3BlY1twYXJhbV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBwYXJhbXMucHVzaChcIlwiLmNvbmNhdChwYXJhbSwgXCI9XCIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoc3BlY1twYXJhbV0pKSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAocGFyYW1zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gYmFzZVVybDtcbiAgICB9XG4gICAgcmV0dXJuIFwiXCIuY29uY2F0KGJhc2VVcmwsIFwiP1wiKS5jb25jYXQocGFyYW1zLmpvaW4oJyYnKSk7XG59XG5mdW5jdGlvbiBmaXQoc291cmNlLCBzcGVjKSB7XG4gICAgdmFyIGNyb3BSZWN0O1xuICAgIHZhciBpbWdXaWR0aCA9IHNwZWMud2lkdGg7XG4gICAgdmFyIGltZ0hlaWdodCA9IHNwZWMuaGVpZ2h0O1xuICAgIC8vIElmIHdlIGFyZSBub3QgY29uc3RyYWluaW5nIHRoZSBhc3BlY3QgcmF0aW8sIHdlJ2xsIGp1c3QgdXNlIHRoZSB3aG9sZSBjcm9wXG4gICAgaWYgKCEoaW1nV2lkdGggJiYgaW1nSGVpZ2h0KSkge1xuICAgICAgICByZXR1cm4geyB3aWR0aDogaW1nV2lkdGgsIGhlaWdodDogaW1nSGVpZ2h0LCByZWN0OiBzb3VyY2UuY3JvcCB9O1xuICAgIH1cbiAgICB2YXIgY3JvcCA9IHNvdXJjZS5jcm9wO1xuICAgIHZhciBob3RzcG90ID0gc291cmNlLmhvdHNwb3Q7XG4gICAgLy8gSWYgd2UgYXJlIGhlcmUsIHRoYXQgbWVhbnMgYXNwZWN0IHJhdGlvIGlzIGxvY2tlZCBhbmQgZml0dGluZyB3aWxsIGJlIGEgYml0IGhhcmRlclxuICAgIHZhciBkZXNpcmVkQXNwZWN0UmF0aW8gPSBpbWdXaWR0aCAvIGltZ0hlaWdodDtcbiAgICB2YXIgY3JvcEFzcGVjdFJhdGlvID0gY3JvcC53aWR0aCAvIGNyb3AuaGVpZ2h0O1xuICAgIGlmIChjcm9wQXNwZWN0UmF0aW8gPiBkZXNpcmVkQXNwZWN0UmF0aW8pIHtcbiAgICAgICAgLy8gVGhlIGNyb3AgaXMgd2lkZXIgdGhhbiB0aGUgZGVzaXJlZCBhc3BlY3QgcmF0aW8uIFRoYXQgbWVhbnMgd2UgYXJlIGN1dHRpbmcgZnJvbSB0aGUgc2lkZXNcbiAgICAgICAgdmFyIGhlaWdodCA9IE1hdGgucm91bmQoY3JvcC5oZWlnaHQpO1xuICAgICAgICB2YXIgd2lkdGggPSBNYXRoLnJvdW5kKGhlaWdodCAqIGRlc2lyZWRBc3BlY3RSYXRpbyk7XG4gICAgICAgIHZhciB0b3BfMiA9IE1hdGgubWF4KDAsIE1hdGgucm91bmQoY3JvcC50b3ApKTtcbiAgICAgICAgLy8gQ2VudGVyIG91dHB1dCBob3Jpem9udGFsbHkgb3ZlciBob3RzcG90XG4gICAgICAgIHZhciBob3RzcG90WENlbnRlciA9IE1hdGgucm91bmQoKGhvdHNwb3QucmlnaHQgLSBob3RzcG90LmxlZnQpIC8gMiArIGhvdHNwb3QubGVmdCk7XG4gICAgICAgIHZhciBsZWZ0ID0gTWF0aC5tYXgoMCwgTWF0aC5yb3VuZChob3RzcG90WENlbnRlciAtIHdpZHRoIC8gMikpO1xuICAgICAgICAvLyBLZWVwIG91dHB1dCB3aXRoaW4gY3JvcFxuICAgICAgICBpZiAobGVmdCA8IGNyb3AubGVmdCkge1xuICAgICAgICAgICAgbGVmdCA9IGNyb3AubGVmdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChsZWZ0ICsgd2lkdGggPiBjcm9wLmxlZnQgKyBjcm9wLndpZHRoKSB7XG4gICAgICAgICAgICBsZWZ0ID0gY3JvcC5sZWZ0ICsgY3JvcC53aWR0aCAtIHdpZHRoO1xuICAgICAgICB9XG4gICAgICAgIGNyb3BSZWN0ID0geyBsZWZ0OiBsZWZ0LCB0b3A6IHRvcF8yLCB3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0IH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBUaGUgY3JvcCBpcyB0YWxsZXIgdGhhbiB0aGUgZGVzaXJlZCByYXRpbywgd2UgYXJlIGN1dHRpbmcgZnJvbSB0b3AgYW5kIGJvdHRvbVxuICAgICAgICB2YXIgd2lkdGggPSBjcm9wLndpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gTWF0aC5yb3VuZCh3aWR0aCAvIGRlc2lyZWRBc3BlY3RSYXRpbyk7XG4gICAgICAgIHZhciBsZWZ0ID0gTWF0aC5tYXgoMCwgTWF0aC5yb3VuZChjcm9wLmxlZnQpKTtcbiAgICAgICAgLy8gQ2VudGVyIG91dHB1dCB2ZXJ0aWNhbGx5IG92ZXIgaG90c3BvdFxuICAgICAgICB2YXIgaG90c3BvdFlDZW50ZXIgPSBNYXRoLnJvdW5kKChob3RzcG90LmJvdHRvbSAtIGhvdHNwb3QudG9wKSAvIDIgKyBob3RzcG90LnRvcCk7XG4gICAgICAgIHZhciB0b3BfMyA9IE1hdGgubWF4KDAsIE1hdGgucm91bmQoaG90c3BvdFlDZW50ZXIgLSBoZWlnaHQgLyAyKSk7XG4gICAgICAgIC8vIEtlZXAgb3V0cHV0IHJlY3Qgd2l0aGluIGNyb3BcbiAgICAgICAgaWYgKHRvcF8zIDwgY3JvcC50b3ApIHtcbiAgICAgICAgICAgIHRvcF8zID0gY3JvcC50b3A7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodG9wXzMgKyBoZWlnaHQgPiBjcm9wLnRvcCArIGNyb3AuaGVpZ2h0KSB7XG4gICAgICAgICAgICB0b3BfMyA9IGNyb3AudG9wICsgY3JvcC5oZWlnaHQgLSBoZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgY3JvcFJlY3QgPSB7IGxlZnQ6IGxlZnQsIHRvcDogdG9wXzMsIHdpZHRoOiB3aWR0aCwgaGVpZ2h0OiBoZWlnaHQgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgd2lkdGg6IGltZ1dpZHRoLFxuICAgICAgICBoZWlnaHQ6IGltZ0hlaWdodCxcbiAgICAgICAgcmVjdDogY3JvcFJlY3QsXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVybEZvckltYWdlLmpzLm1hcCJdLCJuYW1lcyI6WyJfX2Fzc2lnbiIsIk9iamVjdCIsImFzc2lnbiIsInQiLCJzIiwiaSIsIm4iLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJwIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiYXBwbHkiLCJfX2ltcG9ydERlZmF1bHQiLCJtb2QiLCJfX2VzTW9kdWxlIiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJwYXJzZVNvdXJjZSIsIlNQRUNfTkFNRV9UT19VUkxfTkFNRV9NQVBQSU5HUyIsInBhcnNlQXNzZXRJZF8xIiwicmVxdWlyZSIsInBhcnNlU291cmNlXzEiLCJkZWZhdWx0IiwidXJsRm9ySW1hZ2UiLCJvcHRpb25zIiwic3BlYyIsInNvdXJjZSIsImltYWdlIiwiRXJyb3IiLCJjb25jYXQiLCJKU09OIiwic3RyaW5naWZ5IiwiaWQiLCJhc3NldCIsIl9yZWYiLCJfaWQiLCJjcm9wTGVmdCIsIk1hdGgiLCJyb3VuZCIsImNyb3AiLCJsZWZ0Iiwid2lkdGgiLCJjcm9wVG9wIiwidG9wIiwiaGVpZ2h0IiwicmlnaHQiLCJib3R0b20iLCJob3RTcG90VmVydGljYWxSYWRpdXMiLCJob3RzcG90IiwiaG90U3BvdEhvcml6b250YWxSYWRpdXMiLCJob3RTcG90Q2VudGVyWCIsIngiLCJob3RTcG90Q2VudGVyWSIsInkiLCJyZWN0IiwiZm9jYWxQb2ludCIsImlnbm9yZUltYWdlUGFyYW1zIiwiZml0Iiwic3BlY1RvSW1hZ2VVcmwiLCJjZG5VcmwiLCJiYXNlVXJsIiwicmVwbGFjZSIsImZpbGVuYW1lIiwiZm9ybWF0IiwicHJvamVjdElkIiwiZGF0YXNldCIsInBhcmFtcyIsIl9hIiwidG9wXzEiLCJpc0VmZmVjdGl2ZUNyb3AiLCJwdXNoIiwiYmciLCJmbGlwIiwiZmxpcEhvcml6b250YWwiLCJmbGlwVmVydGljYWwiLCJmaWx0ZXIiLCJCb29sZWFuIiwiam9pbiIsImZvckVhY2giLCJtYXBwaW5nIiwic3BlY05hbWUiLCJwYXJhbSIsImVuY29kZVVSSUNvbXBvbmVudCIsImNyb3BSZWN0IiwiaW1nV2lkdGgiLCJpbWdIZWlnaHQiLCJkZXNpcmVkQXNwZWN0UmF0aW8iLCJjcm9wQXNwZWN0UmF0aW8iLCJ0b3BfMiIsIm1heCIsImhvdHNwb3RYQ2VudGVyIiwiaG90c3BvdFlDZW50ZXIiLCJ0b3BfMyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/image-url/lib/node/urlForImage.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/client/dist/_chunks/nodeMiddleware-1l7OW-D5.cjs":
/*!******************************************************************************!*\
  !*** ./node_modules/@sanity/client/dist/_chunks/nodeMiddleware-1l7OW-D5.cjs ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nvar getIt = __webpack_require__(/*! get-it */ \"(ssr)/./node_modules/get-it/dist/index.cjs\");\nvar middleware$1 = __webpack_require__(/*! get-it/middleware */ \"(ssr)/./node_modules/get-it/dist/middleware.cjs\");\nvar rxjs = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/index.js\");\nvar operators = __webpack_require__(/*! rxjs/operators */ \"(ssr)/./node_modules/rxjs/dist/cjs/operators/index.js\");\nconst MAX_ITEMS_IN_ERROR_MESSAGE = 5;\nclass ClientError extends Error {\n    constructor(res){\n        const props = extractErrorProps(res);\n        super(props.message);\n        this.statusCode = 400;\n        Object.assign(this, props);\n    }\n}\nclass ServerError extends Error {\n    constructor(res){\n        const props = extractErrorProps(res);\n        super(props.message);\n        this.statusCode = 500;\n        Object.assign(this, props);\n    }\n}\nfunction extractErrorProps(res) {\n    const body = res.body;\n    const props = {\n        response: res,\n        statusCode: res.statusCode,\n        responseBody: stringifyBody(body, res),\n        message: \"\",\n        details: void 0\n    };\n    if (body.error && body.message) {\n        props.message = \"\".concat(body.error, \" - \").concat(body.message);\n        return props;\n    }\n    if (isMutationError(body)) {\n        const allItems = body.error.items || [];\n        const items = allItems.slice(0, MAX_ITEMS_IN_ERROR_MESSAGE).map((item)=>{\n            var _a;\n            return (_a = item.error) == null ? void 0 : _a.description;\n        }).filter(Boolean);\n        let itemsStr = items.length ? \":\\n- \".concat(items.join(\"\\n- \")) : \"\";\n        if (allItems.length > MAX_ITEMS_IN_ERROR_MESSAGE) {\n            itemsStr += \"\\n...and \".concat(allItems.length - MAX_ITEMS_IN_ERROR_MESSAGE, \" more\");\n        }\n        props.message = \"\".concat(body.error.description).concat(itemsStr);\n        props.details = body.error;\n        return props;\n    }\n    if (body.error && body.error.description) {\n        props.message = body.error.description;\n        props.details = body.error;\n        return props;\n    }\n    props.message = body.error || body.message || httpErrorMessage(res);\n    return props;\n}\nfunction isMutationError(body) {\n    return isPlainObject(body) && isPlainObject(body.error) && body.error.type === \"mutationError\" && typeof body.error.description === \"string\";\n}\nfunction isPlainObject(obj) {\n    return typeof obj === \"object\" && obj !== null && !Array.isArray(obj);\n}\nfunction httpErrorMessage(res) {\n    const statusMessage = res.statusMessage ? \" \".concat(res.statusMessage) : \"\";\n    return \"\".concat(res.method, \"-request to \").concat(res.url, \" resulted in HTTP \").concat(res.statusCode).concat(statusMessage);\n}\nfunction stringifyBody(body, res) {\n    const contentType = (res.headers[\"content-type\"] || \"\").toLowerCase();\n    const isJson = contentType.indexOf(\"application/json\") !== -1;\n    return isJson ? JSON.stringify(body, null, 2) : body;\n}\nconst httpError = {\n    onResponse: (res)=>{\n        if (res.statusCode >= 500) {\n            throw new ServerError(res);\n        } else if (res.statusCode >= 400) {\n            throw new ClientError(res);\n        }\n        return res;\n    }\n};\nconst printWarnings = {\n    onResponse: (res)=>{\n        const warn = res.headers[\"x-sanity-warning\"];\n        const warnings = Array.isArray(warn) ? warn : [\n            warn\n        ];\n        warnings.filter(Boolean).forEach((msg)=>console.warn(msg));\n        return res;\n    }\n};\nfunction defineHttpRequest(envMiddleware, _ref) {\n    let { maxRetries = 5, retryDelay } = _ref;\n    const request = getIt.getIt([\n        maxRetries > 0 ? middleware$1.retry({\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            retryDelay,\n            // This option is typed incorrectly in get-it.\n            maxRetries,\n            shouldRetry\n        }) : {},\n        ...envMiddleware,\n        printWarnings,\n        middleware$1.jsonRequest(),\n        middleware$1.jsonResponse(),\n        middleware$1.progress(),\n        httpError,\n        middleware$1.observable({\n            implementation: rxjs.Observable\n        })\n    ]);\n    function httpRequest(options) {\n        let requester = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : request;\n        return requester({\n            maxRedirects: 0,\n            ...options\n        });\n    }\n    httpRequest.defaultRequester = request;\n    return httpRequest;\n}\nfunction shouldRetry(err, attempt, options) {\n    const isSafe = options.method === \"GET\" || options.method === \"HEAD\";\n    const uri = options.uri || options.url;\n    const isQuery = uri.startsWith(\"/data/query\");\n    const isRetriableResponse = err.response && (err.response.statusCode === 429 || err.response.statusCode === 502 || err.response.statusCode === 503);\n    if ((isSafe || isQuery) && isRetriableResponse) return true;\n    return middleware$1.retry.shouldRetry(err, attempt, options);\n}\nfunction getSelection(sel) {\n    if (typeof sel === \"string\" || Array.isArray(sel)) {\n        return {\n            id: sel\n        };\n    }\n    if (typeof sel === \"object\" && sel !== null && \"query\" in sel && typeof sel.query === \"string\") {\n        return \"params\" in sel && typeof sel.params === \"object\" && sel.params !== null ? {\n            query: sel.query,\n            params: sel.params\n        } : {\n            query: sel.query\n        };\n    }\n    const selectionOpts = [\n        \"* Document ID (<docId>)\",\n        \"* Array of document IDs\",\n        \"* Object containing `query`\"\n    ].join(\"\\n\");\n    throw new Error(\"Unknown selection - must be one of:\\n\\n\".concat(selectionOpts));\n}\nconst VALID_ASSET_TYPES = [\n    \"image\",\n    \"file\"\n];\nconst VALID_INSERT_LOCATIONS = [\n    \"before\",\n    \"after\",\n    \"replace\"\n];\nconst dataset = (name)=>{\n    if (!/^(~[a-z0-9]{1}[-\\w]{0,63}|[a-z0-9]{1}[-\\w]{0,63})$/.test(name)) {\n        throw new Error(\"Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters\");\n    }\n};\nconst projectId = (id)=>{\n    if (!/^[-a-z0-9]+$/i.test(id)) {\n        throw new Error(\"`projectId` can only contain only a-z, 0-9 and dashes\");\n    }\n};\nconst validateAssetType = (type)=>{\n    if (VALID_ASSET_TYPES.indexOf(type) === -1) {\n        throw new Error(\"Invalid asset type: \".concat(type, \". Must be one of \").concat(VALID_ASSET_TYPES.join(\", \")));\n    }\n};\nconst validateObject = (op, val)=>{\n    if (val === null || typeof val !== \"object\" || Array.isArray(val)) {\n        throw new Error(\"\".concat(op, \"() takes an object of properties\"));\n    }\n};\nconst validateDocumentId = (op, id)=>{\n    if (typeof id !== \"string\" || !/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(id) || id.includes(\"..\")) {\n        throw new Error(\"\".concat(op, '(): \"').concat(id, '\" is not a valid document ID'));\n    }\n};\nconst requireDocumentId = (op, doc)=>{\n    if (!doc._id) {\n        throw new Error(\"\".concat(op, '() requires that the document contains an ID (\"_id\" property)'));\n    }\n    validateDocumentId(op, doc._id);\n};\nconst validateInsert = (at, selector, items)=>{\n    const signature = \"insert(at, selector, items)\";\n    if (VALID_INSERT_LOCATIONS.indexOf(at) === -1) {\n        const valid = VALID_INSERT_LOCATIONS.map((loc)=>'\"'.concat(loc, '\"')).join(\", \");\n        throw new Error(\"\".concat(signature, ' takes an \"at\"-argument which is one of: ').concat(valid));\n    }\n    if (typeof selector !== \"string\") {\n        throw new Error(\"\".concat(signature, ' takes a \"selector\"-argument which must be a string'));\n    }\n    if (!Array.isArray(items)) {\n        throw new Error(\"\".concat(signature, ' takes an \"items\"-argument which must be an array'));\n    }\n};\nconst hasDataset = (config)=>{\n    if (!config.dataset) {\n        throw new Error(\"`dataset` must be provided to perform queries\");\n    }\n    return config.dataset || \"\";\n};\nconst requestTag = (tag)=>{\n    if (typeof tag !== \"string\" || !/^[a-z0-9._-]{1,75}$/i.test(tag)) {\n        throw new Error(\"Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.\");\n    }\n    return tag;\n};\nvar __accessCheck$6 = (obj, member, msg)=>{\n    if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet$6 = (obj, member, getter)=>{\n    __accessCheck$6(obj, member, \"read from private field\");\n    return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd$6 = (obj, member, value)=>{\n    if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet$6 = (obj, member, value, setter)=>{\n    __accessCheck$6(obj, member, \"write to private field\");\n    setter ? setter.call(obj, value) : member.set(obj, value);\n    return value;\n};\nvar _client$5, _client2$5;\nclass BasePatch {\n    constructor(selection){\n        let operations = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        this.selection = selection;\n        this.operations = operations;\n    }\n    /**\n   * Sets the given attributes to the document. Does NOT merge objects.\n   * The operation is added to the current patch, ready to be commited by `commit()`\n   *\n   * @param attrs - Attributes to set. To set a deep attribute, use JSONMatch, eg: \\{\"nested.prop\": \"value\"\\}\n   */ set(attrs) {\n        return this._assign(\"set\", attrs);\n    }\n    /**\n   * Sets the given attributes to the document if they are not currently set. Does NOT merge objects.\n   * The operation is added to the current patch, ready to be commited by `commit()`\n   *\n   * @param attrs - Attributes to set. To set a deep attribute, use JSONMatch, eg: \\{\"nested.prop\": \"value\"\\}\n   */ setIfMissing(attrs) {\n        return this._assign(\"setIfMissing\", attrs);\n    }\n    /**\n   * Performs a \"diff-match-patch\" operation on the string attributes provided.\n   * The operation is added to the current patch, ready to be commited by `commit()`\n   *\n   * @param attrs - Attributes to perform operation on. To set a deep attribute, use JSONMatch, eg: \\{\"nested.prop\": \"dmp\"\\}\n   */ diffMatchPatch(attrs) {\n        validateObject(\"diffMatchPatch\", attrs);\n        return this._assign(\"diffMatchPatch\", attrs);\n    }\n    /**\n   * Unsets the attribute paths provided.\n   * The operation is added to the current patch, ready to be commited by `commit()`\n   *\n   * @param attrs - Attribute paths to unset.\n   */ unset(attrs) {\n        if (!Array.isArray(attrs)) {\n            throw new Error(\"unset(attrs) takes an array of attributes to unset, non-array given\");\n        }\n        this.operations = Object.assign({}, this.operations, {\n            unset: attrs\n        });\n        return this;\n    }\n    /**\n   * Increment a numeric value. Each entry in the argument is either an attribute or a JSON path. The value may be a positive or negative integer or floating-point value. The operation will fail if target value is not a numeric value, or doesn't exist.\n   *\n   * @param attrs - Object of attribute paths to increment, values representing the number to increment by.\n   */ inc(attrs) {\n        return this._assign(\"inc\", attrs);\n    }\n    /**\n   * Decrement a numeric value. Each entry in the argument is either an attribute or a JSON path. The value may be a positive or negative integer or floating-point value. The operation will fail if target value is not a numeric value, or doesn't exist.\n   *\n   * @param attrs - Object of attribute paths to decrement, values representing the number to decrement by.\n   */ dec(attrs) {\n        return this._assign(\"dec\", attrs);\n    }\n    /**\n   * Provides methods for modifying arrays, by inserting, appending and replacing elements via a JSONPath expression.\n   *\n   * @param at - Location to insert at, relative to the given selector, or 'replace' the matched path\n   * @param selector - JSONPath expression, eg `comments[-1]` or `blocks[_key==\"abc123\"]`\n   * @param items - Array of items to insert/replace\n   */ insert(at, selector, items) {\n        validateInsert(at, selector, items);\n        return this._assign(\"insert\", {\n            [at]: selector,\n            items\n        });\n    }\n    /**\n   * Append the given items to the array at the given JSONPath\n   *\n   * @param selector - Attribute/path to append to, eg `comments` or `person.hobbies`\n   * @param items - Array of items to append to the array\n   */ append(selector, items) {\n        return this.insert(\"after\", \"\".concat(selector, \"[-1]\"), items);\n    }\n    /**\n   * Prepend the given items to the array at the given JSONPath\n   *\n   * @param selector - Attribute/path to prepend to, eg `comments` or `person.hobbies`\n   * @param items - Array of items to prepend to the array\n   */ prepend(selector, items) {\n        return this.insert(\"before\", \"\".concat(selector, \"[0]\"), items);\n    }\n    /**\n   * Change the contents of an array by removing existing elements and/or adding new elements.\n   *\n   * @param selector - Attribute or JSONPath expression for array\n   * @param start - Index at which to start changing the array (with origin 0). If greater than the length of the array, actual starting index will be set to the length of the array. If negative, will begin that many elements from the end of the array (with origin -1) and will be set to 0 if absolute value is greater than the length of the array.x\n   * @param deleteCount - An integer indicating the number of old array elements to remove.\n   * @param items - The elements to add to the array, beginning at the start index. If you don't specify any elements, splice() will only remove elements from the array.\n   */ splice(selector, start, deleteCount, items) {\n        const delAll = typeof deleteCount === \"undefined\" || deleteCount === -1;\n        const startIndex = start < 0 ? start - 1 : start;\n        const delCount = delAll ? -1 : Math.max(0, start + deleteCount);\n        const delRange = startIndex < 0 && delCount >= 0 ? \"\" : delCount;\n        const rangeSelector = \"\".concat(selector, \"[\").concat(startIndex, \":\").concat(delRange, \"]\");\n        return this.insert(\"replace\", rangeSelector, items || []);\n    }\n    /**\n   * Adds a revision clause, preventing the document from being patched if the `_rev` property does not match the given value\n   *\n   * @param rev - Revision to lock the patch to\n   */ ifRevisionId(rev) {\n        this.operations.ifRevisionID = rev;\n        return this;\n    }\n    /**\n   * Return a plain JSON representation of the patch\n   */ serialize() {\n        return {\n            ...getSelection(this.selection),\n            ...this.operations\n        };\n    }\n    /**\n   * Return a plain JSON representation of the patch\n   */ toJSON() {\n        return this.serialize();\n    }\n    /**\n   * Clears the patch of all operations\n   */ reset() {\n        this.operations = {};\n        return this;\n    }\n    _assign(op, props) {\n        let merge = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n        validateObject(op, props);\n        this.operations = Object.assign({}, this.operations, {\n            [op]: Object.assign({}, merge && this.operations[op] || {}, props)\n        });\n        return this;\n    }\n    _set(op, props) {\n        return this._assign(op, props, false);\n    }\n}\nconst _ObservablePatch = class _ObservablePatch extends BasePatch {\n    constructor(selection, operations, client){\n        super(selection, operations);\n        __privateAdd$6(this, _client$5, void 0);\n        __privateSet$6(this, _client$5, client);\n    }\n    /**\n   * Clones the patch\n   */ clone() {\n        return new _ObservablePatch(this.selection, {\n            ...this.operations\n        }, __privateGet$6(this, _client$5));\n    }\n    commit(options) {\n        if (!__privateGet$6(this, _client$5)) {\n            throw new Error(\"No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method\");\n        }\n        const returnFirst = typeof this.selection === \"string\";\n        const opts = Object.assign({\n            returnFirst,\n            returnDocuments: true\n        }, options);\n        return __privateGet$6(this, _client$5).mutate({\n            patch: this.serialize()\n        }, opts);\n    }\n};\n_client$5 = new WeakMap();\nlet ObservablePatch = _ObservablePatch;\nconst _Patch = class _Patch extends BasePatch {\n    constructor(selection, operations, client){\n        super(selection, operations);\n        __privateAdd$6(this, _client2$5, void 0);\n        __privateSet$6(this, _client2$5, client);\n    }\n    /**\n   * Clones the patch\n   */ clone() {\n        return new _Patch(this.selection, {\n            ...this.operations\n        }, __privateGet$6(this, _client2$5));\n    }\n    commit(options) {\n        if (!__privateGet$6(this, _client2$5)) {\n            throw new Error(\"No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method\");\n        }\n        const returnFirst = typeof this.selection === \"string\";\n        const opts = Object.assign({\n            returnFirst,\n            returnDocuments: true\n        }, options);\n        return __privateGet$6(this, _client2$5).mutate({\n            patch: this.serialize()\n        }, opts);\n    }\n};\n_client2$5 = new WeakMap();\nlet Patch = _Patch;\nvar __accessCheck$5 = (obj, member, msg)=>{\n    if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet$5 = (obj, member, getter)=>{\n    __accessCheck$5(obj, member, \"read from private field\");\n    return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd$5 = (obj, member, value)=>{\n    if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet$5 = (obj, member, value, setter)=>{\n    __accessCheck$5(obj, member, \"write to private field\");\n    setter ? setter.call(obj, value) : member.set(obj, value);\n    return value;\n};\nvar _client$4, _client2$4;\nconst defaultMutateOptions = {\n    returnDocuments: false\n};\nclass BaseTransaction {\n    constructor(){\n        let operations = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n        let transactionId = arguments.length > 1 ? arguments[1] : undefined;\n        this.operations = operations;\n        this.trxId = transactionId;\n    }\n    /**\n   * Creates a new Sanity document. If `_id` is provided and already exists, the mutation will fail. If no `_id` is given, one will automatically be generated by the database.\n   * The operation is added to the current transaction, ready to be commited by `commit()`\n   *\n   * @param doc - Document to create. Requires a `_type` property.\n   */ create(doc) {\n        validateObject(\"create\", doc);\n        return this._add({\n            create: doc\n        });\n    }\n    /**\n   * Creates a new Sanity document. If a document with the same `_id` already exists, the create operation will be ignored.\n   * The operation is added to the current transaction, ready to be commited by `commit()`\n   *\n   * @param doc - Document to create if it does not already exist. Requires `_id` and `_type` properties.\n   */ createIfNotExists(doc) {\n        const op = \"createIfNotExists\";\n        validateObject(op, doc);\n        requireDocumentId(op, doc);\n        return this._add({\n            [op]: doc\n        });\n    }\n    /**\n   * Creates a new Sanity document, or replaces an existing one if the same `_id` is already used.\n   * The operation is added to the current transaction, ready to be commited by `commit()`\n   *\n   * @param doc - Document to create or replace. Requires `_id` and `_type` properties.\n   */ createOrReplace(doc) {\n        const op = \"createOrReplace\";\n        validateObject(op, doc);\n        requireDocumentId(op, doc);\n        return this._add({\n            [op]: doc\n        });\n    }\n    /**\n   * Deletes the document with the given document ID\n   * The operation is added to the current transaction, ready to be commited by `commit()`\n   *\n   * @param documentId - Document ID to delete\n   */ delete(documentId) {\n        validateDocumentId(\"delete\", documentId);\n        return this._add({\n            delete: {\n                id: documentId\n            }\n        });\n    }\n    transactionId(id) {\n        if (!id) {\n            return this.trxId;\n        }\n        this.trxId = id;\n        return this;\n    }\n    /**\n   * Return a plain JSON representation of the transaction\n   */ serialize() {\n        return [\n            ...this.operations\n        ];\n    }\n    /**\n   * Return a plain JSON representation of the transaction\n   */ toJSON() {\n        return this.serialize();\n    }\n    /**\n   * Clears the transaction of all operations\n   */ reset() {\n        this.operations = [];\n        return this;\n    }\n    _add(mut) {\n        this.operations.push(mut);\n        return this;\n    }\n}\nconst _Transaction = class _Transaction extends BaseTransaction {\n    constructor(operations, client, transactionId){\n        super(operations, transactionId);\n        __privateAdd$5(this, _client$4, void 0);\n        __privateSet$5(this, _client$4, client);\n    }\n    /**\n   * Clones the transaction\n   */ clone() {\n        return new _Transaction([\n            ...this.operations\n        ], __privateGet$5(this, _client$4), this.trxId);\n    }\n    commit(options) {\n        if (!__privateGet$5(this, _client$4)) {\n            throw new Error(\"No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method\");\n        }\n        return __privateGet$5(this, _client$4).mutate(this.serialize(), Object.assign({\n            transactionId: this.trxId\n        }, defaultMutateOptions, options || {}));\n    }\n    patch(patchOrDocumentId, patchOps) {\n        const isBuilder = typeof patchOps === \"function\";\n        const isPatch = typeof patchOrDocumentId !== \"string\" && patchOrDocumentId instanceof Patch;\n        if (isPatch) {\n            return this._add({\n                patch: patchOrDocumentId.serialize()\n            });\n        }\n        if (isBuilder) {\n            const patch = patchOps(new Patch(patchOrDocumentId, {}, __privateGet$5(this, _client$4)));\n            if (!(patch instanceof Patch)) {\n                throw new Error(\"function passed to `patch()` must return the patch\");\n            }\n            return this._add({\n                patch: patch.serialize()\n            });\n        }\n        return this._add({\n            patch: {\n                id: patchOrDocumentId,\n                ...patchOps\n            }\n        });\n    }\n};\n_client$4 = new WeakMap();\nlet Transaction = _Transaction;\nconst _ObservableTransaction = class _ObservableTransaction extends BaseTransaction {\n    constructor(operations, client, transactionId){\n        super(operations, transactionId);\n        __privateAdd$5(this, _client2$4, void 0);\n        __privateSet$5(this, _client2$4, client);\n    }\n    /**\n   * Clones the transaction\n   */ clone() {\n        return new _ObservableTransaction([\n            ...this.operations\n        ], __privateGet$5(this, _client2$4), this.trxId);\n    }\n    commit(options) {\n        if (!__privateGet$5(this, _client2$4)) {\n            throw new Error(\"No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method\");\n        }\n        return __privateGet$5(this, _client2$4).mutate(this.serialize(), Object.assign({\n            transactionId: this.trxId\n        }, defaultMutateOptions, options || {}));\n    }\n    patch(patchOrDocumentId, patchOps) {\n        const isBuilder = typeof patchOps === \"function\";\n        const isPatch = typeof patchOrDocumentId !== \"string\" && patchOrDocumentId instanceof ObservablePatch;\n        if (isPatch) {\n            return this._add({\n                patch: patchOrDocumentId.serialize()\n            });\n        }\n        if (isBuilder) {\n            const patch = patchOps(new ObservablePatch(patchOrDocumentId, {}, __privateGet$5(this, _client2$4)));\n            if (!(patch instanceof ObservablePatch)) {\n                throw new Error(\"function passed to `patch()` must return the patch\");\n            }\n            return this._add({\n                patch: patch.serialize()\n            });\n        }\n        return this._add({\n            patch: {\n                id: patchOrDocumentId,\n                ...patchOps\n            }\n        });\n    }\n};\n_client2$4 = new WeakMap();\nlet ObservableTransaction = _ObservableTransaction;\nconst BASE_URL = \"https://www.sanity.io/help/\";\nfunction generateHelpUrl(slug) {\n    return BASE_URL + slug;\n}\nfunction once(fn) {\n    let didCall = false;\n    let returnValue;\n    return function() {\n        if (didCall) {\n            return returnValue;\n        }\n        returnValue = fn(...arguments);\n        didCall = true;\n        return returnValue;\n    };\n}\nconst createWarningPrinter = (message)=>// eslint-disable-next-line no-console\n    once(function() {\n        for(var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++){\n            args[_key] = arguments[_key];\n        }\n        return console.warn(message.join(\" \"), ...args);\n    });\nconst printCdnWarning = createWarningPrinter([\n    \"Since you haven't set a value for `useCdn`, we will deliver content using our\",\n    \"global, edge-cached API-CDN. If you wish to have content delivered faster, set\",\n    \"`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API.\"\n]);\nconst printCdnPreviewDraftsWarning = createWarningPrinter([\n    \"The Sanity client is configured with the `perspective` set to `previewDrafts`, which doesn't support the API-CDN.\",\n    \"The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning.\"\n]);\nconst printBrowserTokenWarning = createWarningPrinter([\n    \"You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.\",\n    \"See \".concat(generateHelpUrl(\"js-client-browser-token\"), \" for more information and how to hide this warning.\")\n]);\nconst printNoApiVersionSpecifiedWarning = createWarningPrinter([\n    \"Using the Sanity client without specifying an API version is deprecated.\",\n    \"See \".concat(generateHelpUrl(\"js-client-api-version\"))\n]);\nconst printNoDefaultExport = createWarningPrinter([\n    \"The default export of @sanity/client has been deprecated. Use the named export `createClient` instead.\"\n]);\nconst defaultCdnHost = \"apicdn.sanity.io\";\nconst defaultConfig = {\n    apiHost: \"https://api.sanity.io\",\n    apiVersion: \"1\",\n    useProjectHostname: true\n};\nconst LOCALHOSTS = [\n    \"localhost\",\n    \"127.0.0.1\",\n    \"0.0.0.0\"\n];\nconst isLocal = (host)=>LOCALHOSTS.indexOf(host) !== -1;\nconst validateApiVersion = function validateApiVersion2(apiVersion) {\n    if (apiVersion === \"1\" || apiVersion === \"X\") {\n        return;\n    }\n    const apiDate = new Date(apiVersion);\n    const apiVersionValid = /^\\d{4}-\\d{2}-\\d{2}$/.test(apiVersion) && apiDate instanceof Date && apiDate.getTime() > 0;\n    if (!apiVersionValid) {\n        throw new Error(\"Invalid API version string, expected `1` or date in format `YYYY-MM-DD`\");\n    }\n};\nconst validateApiPerspective = function validateApiPerspective2(perspective) {\n    switch(perspective){\n        case \"previewDrafts\":\n        case \"published\":\n        case \"raw\":\n            return;\n        default:\n            throw new TypeError(\"Invalid API perspective string, expected `published`, `previewDrafts` or `raw`\");\n    }\n};\nconst initConfig = (config, prevConfig)=>{\n    const specifiedConfig = Object.assign({}, prevConfig, config);\n    if (!specifiedConfig.apiVersion) {\n        printNoApiVersionSpecifiedWarning();\n    }\n    const newConfig = Object.assign({}, defaultConfig, specifiedConfig);\n    const projectBased = newConfig.useProjectHostname;\n    if (typeof Promise === \"undefined\") {\n        const helpUrl = generateHelpUrl(\"js-client-promise-polyfill\");\n        throw new Error(\"No native Promise-implementation found, polyfill needed - see \".concat(helpUrl));\n    }\n    if (projectBased && !newConfig.projectId) {\n        throw new Error(\"Configuration must contain `projectId`\");\n    }\n    if (typeof newConfig.perspective === \"string\") {\n        validateApiPerspective(newConfig.perspective);\n    }\n    if (\"encodeSourceMapAtPath\" in newConfig || \"encodeSourceMap\" in newConfig || \"studioUrl\" in newConfig || \"logger\" in newConfig) {\n        throw new Error(\"It looks like you're using options meant for '@sanity/preview-kit/client', such as 'encodeSourceMapAtPath', 'encodeSourceMap', 'studioUrl' and 'logger'. Make sure you're using the right import.\");\n    }\n    if (\"stega\" in newConfig && newConfig[\"stega\"] !== void 0 && newConfig[\"stega\"] !== false) {\n        throw new Error(\"It looks like you're using options meant for '@sanity/client/stega'. Make sure you're using the right import. Or set 'stega' in 'createClient' to 'false'.\");\n    }\n    const isBrowser =  false && 0;\n    const isLocalhost = isBrowser && isLocal(window.location.hostname);\n    if (isBrowser && isLocalhost && newConfig.token && newConfig.ignoreBrowserTokenWarning !== true) {\n        printBrowserTokenWarning();\n    } else if (typeof newConfig.useCdn === \"undefined\") {\n        printCdnWarning();\n    }\n    if (projectBased) {\n        projectId(newConfig.projectId);\n    }\n    if (newConfig.dataset) {\n        dataset(newConfig.dataset);\n    }\n    if (\"requestTagPrefix\" in newConfig) {\n        newConfig.requestTagPrefix = newConfig.requestTagPrefix ? requestTag(newConfig.requestTagPrefix).replace(/\\.+$/, \"\") : void 0;\n    }\n    newConfig.apiVersion = \"\".concat(newConfig.apiVersion).replace(/^v/, \"\");\n    newConfig.isDefaultApi = newConfig.apiHost === defaultConfig.apiHost;\n    newConfig.useCdn = newConfig.useCdn !== false && !newConfig.withCredentials;\n    validateApiVersion(newConfig.apiVersion);\n    const hostParts = newConfig.apiHost.split(\"://\", 2);\n    const protocol = hostParts[0];\n    const host = hostParts[1];\n    const cdnHost = newConfig.isDefaultApi ? defaultCdnHost : host;\n    if (newConfig.useProjectHostname) {\n        newConfig.url = \"\".concat(protocol, \"://\").concat(newConfig.projectId, \".\").concat(host, \"/v\").concat(newConfig.apiVersion);\n        newConfig.cdnUrl = \"\".concat(protocol, \"://\").concat(newConfig.projectId, \".\").concat(cdnHost, \"/v\").concat(newConfig.apiVersion);\n    } else {\n        newConfig.url = \"\".concat(newConfig.apiHost, \"/v\").concat(newConfig.apiVersion);\n        newConfig.cdnUrl = newConfig.url;\n    }\n    return newConfig;\n};\nconst projectHeader = \"X-Sanity-Project-ID\";\nfunction requestOptions(config) {\n    let overrides = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const headers = {};\n    const token = overrides.token || config.token;\n    if (token) {\n        headers.Authorization = \"Bearer \".concat(token);\n    }\n    if (!overrides.useGlobalApi && !config.useProjectHostname && config.projectId) {\n        headers[projectHeader] = config.projectId;\n    }\n    const withCredentials = Boolean(typeof overrides.withCredentials === \"undefined\" ? config.token || config.withCredentials : overrides.withCredentials);\n    const timeout = typeof overrides.timeout === \"undefined\" ? config.timeout : overrides.timeout;\n    return Object.assign({}, overrides, {\n        headers: Object.assign({}, headers, overrides.headers || {}),\n        timeout: typeof timeout === \"undefined\" ? 5 * 60 * 1e3 : timeout,\n        proxy: overrides.proxy || config.proxy,\n        json: true,\n        withCredentials,\n        fetch: typeof overrides.fetch === \"object\" && typeof config.fetch === \"object\" ? {\n            ...config.fetch,\n            ...overrides.fetch\n        } : overrides.fetch || config.fetch\n    });\n}\nconst encodeQueryString = (_ref2)=>{\n    let { query, params = {}, options = {} } = _ref2;\n    const searchParams = new URLSearchParams();\n    const { tag, ...opts } = options;\n    if (tag) searchParams.append(\"tag\", tag);\n    searchParams.append(\"query\", query);\n    for (const [key, value] of Object.entries(params)){\n        searchParams.append(\"$\".concat(key), JSON.stringify(value));\n    }\n    for (const [key, value] of Object.entries(opts)){\n        if (value) searchParams.append(key, \"\".concat(value));\n    }\n    return \"?\".concat(searchParams);\n};\nconst excludeFalsey = (param, defValue)=>{\n    const value = typeof param === \"undefined\" ? defValue : param;\n    return param === false ? void 0 : value;\n};\nconst getMutationQuery = function() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return {\n        dryRun: options.dryRun,\n        returnIds: true,\n        returnDocuments: excludeFalsey(options.returnDocuments, true),\n        visibility: options.visibility || \"sync\",\n        autoGenerateArrayKeys: options.autoGenerateArrayKeys,\n        skipCrossDatasetReferenceValidation: options.skipCrossDatasetReferenceValidation\n    };\n};\nconst isResponse = (event)=>event.type === \"response\";\nconst getBody = (event)=>event.body;\nconst indexBy = (docs, attr)=>docs.reduce((indexed, doc)=>{\n        indexed[attr(doc)] = doc;\n        return indexed;\n    }, /* @__PURE__ */ Object.create(null));\nconst getQuerySizeLimit = 11264;\nfunction _fetch(client, httpRequest, query, params) {\n    let options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n    if (\"stega\" in options && options[\"stega\"] !== void 0 && options[\"stega\"] !== false) {\n        throw new Error(\"It looks like you're using options meant for '@sanity/client/stega'. Make sure you're using the right import. Or set 'stega' in 'fetch' to 'false'.\");\n    }\n    const mapResponse = options.filterResponse === false ? (res)=>res : (res)=>res.result;\n    const { cache, next, ...opts } = {\n        // Opt out of setting a `signal` on an internal `fetch` if one isn't provided.\n        // This is necessary in React Server Components to avoid opting out of Request Memoization.\n        useAbortSignal: typeof options.signal !== \"undefined\",\n        ...options\n    };\n    const reqOpts = typeof cache !== \"undefined\" || typeof next !== \"undefined\" ? {\n        ...opts,\n        fetch: {\n            cache,\n            next\n        }\n    } : opts;\n    return _dataRequest(client, httpRequest, \"query\", {\n        query,\n        params\n    }, reqOpts).pipe(operators.map(mapResponse));\n}\nfunction _getDocument(client, httpRequest, id) {\n    let opts = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    const options = {\n        uri: _getDataUrl(client, \"doc\", id),\n        json: true,\n        tag: opts.tag\n    };\n    return _requestObservable(client, httpRequest, options).pipe(operators.filter(isResponse), operators.map((event)=>event.body.documents && event.body.documents[0]));\n}\nfunction _getDocuments(client, httpRequest, ids) {\n    let opts = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    const options = {\n        uri: _getDataUrl(client, \"doc\", ids.join(\",\")),\n        json: true,\n        tag: opts.tag\n    };\n    return _requestObservable(client, httpRequest, options).pipe(operators.filter(isResponse), operators.map((event)=>{\n        const indexed = indexBy(event.body.documents || [], (doc)=>doc._id);\n        return ids.map((id)=>indexed[id] || null);\n    }));\n}\nfunction _createIfNotExists(client, httpRequest, doc, options) {\n    requireDocumentId(\"createIfNotExists\", doc);\n    return _create(client, httpRequest, doc, \"createIfNotExists\", options);\n}\nfunction _createOrReplace(client, httpRequest, doc, options) {\n    requireDocumentId(\"createOrReplace\", doc);\n    return _create(client, httpRequest, doc, \"createOrReplace\", options);\n}\nfunction _delete(client, httpRequest, selection, options) {\n    return _dataRequest(client, httpRequest, \"mutate\", {\n        mutations: [\n            {\n                delete: getSelection(selection)\n            }\n        ]\n    }, options);\n}\nfunction _mutate(client, httpRequest, mutations, options) {\n    let mut;\n    if (mutations instanceof Patch || mutations instanceof ObservablePatch) {\n        mut = {\n            patch: mutations.serialize()\n        };\n    } else if (mutations instanceof Transaction || mutations instanceof ObservableTransaction) {\n        mut = mutations.serialize();\n    } else {\n        mut = mutations;\n    }\n    const muts = Array.isArray(mut) ? mut : [\n        mut\n    ];\n    const transactionId = options && options.transactionId || void 0;\n    return _dataRequest(client, httpRequest, \"mutate\", {\n        mutations: muts,\n        transactionId\n    }, options);\n}\nfunction _dataRequest(client, httpRequest, endpoint, body) {\n    let options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n    const isMutation = endpoint === \"mutate\";\n    const isQuery = endpoint === \"query\";\n    const strQuery = isMutation ? \"\" : encodeQueryString(body);\n    const useGet = !isMutation && strQuery.length < getQuerySizeLimit;\n    const stringQuery = useGet ? strQuery : \"\";\n    const returnFirst = options.returnFirst;\n    const { timeout, token, tag, headers } = options;\n    const uri = _getDataUrl(client, endpoint, stringQuery);\n    const reqOptions = {\n        method: useGet ? \"GET\" : \"POST\",\n        uri,\n        json: true,\n        body: useGet ? void 0 : body,\n        query: isMutation && getMutationQuery(options),\n        timeout,\n        headers,\n        token,\n        tag,\n        perspective: options.perspective,\n        resultSourceMap: options.resultSourceMap,\n        canUseCdn: isQuery,\n        signal: options.signal,\n        fetch: options.fetch,\n        useAbortSignal: options.useAbortSignal,\n        useCdn: options.useCdn\n    };\n    return _requestObservable(client, httpRequest, reqOptions).pipe(operators.filter(isResponse), operators.map(getBody), operators.map((res)=>{\n        if (!isMutation) {\n            return res;\n        }\n        const results = res.results || [];\n        if (options.returnDocuments) {\n            return returnFirst ? results[0] && results[0].document : results.map((mut)=>mut.document);\n        }\n        const key = returnFirst ? \"documentId\" : \"documentIds\";\n        const ids = returnFirst ? results[0] && results[0].id : results.map((mut)=>mut.id);\n        return {\n            transactionId: res.transactionId,\n            results,\n            [key]: ids\n        };\n    }));\n}\nfunction _create(client, httpRequest, doc, op) {\n    let options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n    const mutation = {\n        [op]: doc\n    };\n    const opts = Object.assign({\n        returnFirst: true,\n        returnDocuments: true\n    }, options);\n    return _dataRequest(client, httpRequest, \"mutate\", {\n        mutations: [\n            mutation\n        ]\n    }, opts);\n}\nfunction _requestObservable(client, httpRequest, options) {\n    var _a, _b;\n    const uri = options.url || options.uri;\n    const config = client.config();\n    const canUseCdn = typeof options.canUseCdn === \"undefined\" ? [\n        \"GET\",\n        \"HEAD\"\n    ].indexOf(options.method || \"GET\") >= 0 && uri.indexOf(\"/data/\") === 0 : options.canUseCdn;\n    let useCdn = ((_a = options.useCdn) != null ? _a : config.useCdn) && canUseCdn;\n    const tag = options.tag && config.requestTagPrefix ? [\n        config.requestTagPrefix,\n        options.tag\n    ].join(\".\") : options.tag || config.requestTagPrefix;\n    if (tag && options.tag !== null) {\n        options.query = {\n            tag: requestTag(tag),\n            ...options.query\n        };\n    }\n    if ([\n        \"GET\",\n        \"HEAD\",\n        \"POST\"\n    ].indexOf(options.method || \"GET\") >= 0 && uri.indexOf(\"/data/query/\") === 0) {\n        const resultSourceMap = (_b = options.resultSourceMap) != null ? _b : config.resultSourceMap;\n        if (resultSourceMap !== void 0 && resultSourceMap !== false) {\n            options.query = {\n                resultSourceMap,\n                ...options.query\n            };\n        }\n        const perspective = options.perspective || config.perspective;\n        if (typeof perspective === \"string\" && perspective !== \"raw\") {\n            validateApiPerspective(perspective);\n            options.query = {\n                perspective,\n                ...options.query\n            };\n            if (perspective === \"previewDrafts\" && useCdn) {\n                useCdn = false;\n                printCdnPreviewDraftsWarning();\n            }\n        }\n    }\n    const reqOptions = requestOptions(config, Object.assign({}, options, {\n        url: _getUrl(client, uri, useCdn)\n    }));\n    const request = new rxjs.Observable((subscriber)=>httpRequest(reqOptions, config.requester).subscribe(subscriber));\n    return options.signal ? request.pipe(_withAbortSignal(options.signal)) : request;\n}\nfunction _request(client, httpRequest, options) {\n    const observable = _requestObservable(client, httpRequest, options).pipe(operators.filter((event)=>event.type === \"response\"), operators.map((event)=>event.body));\n    return observable;\n}\nfunction _getDataUrl(client, operation, path) {\n    const config = client.config();\n    const catalog = hasDataset(config);\n    const baseUri = \"/\".concat(operation, \"/\").concat(catalog);\n    const uri = path ? \"\".concat(baseUri, \"/\").concat(path) : baseUri;\n    return \"/data\".concat(uri).replace(/\\/($|\\?)/, \"$1\");\n}\nfunction _getUrl(client, uri) {\n    let canUseCdn = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    const { url, cdnUrl } = client.config();\n    const base = canUseCdn ? cdnUrl : url;\n    return \"\".concat(base, \"/\").concat(uri.replace(/^\\//, \"\"));\n}\nfunction _withAbortSignal(signal) {\n    return (input)=>{\n        return new rxjs.Observable((observer)=>{\n            const abort = ()=>observer.error(_createAbortError(signal));\n            if (signal && signal.aborted) {\n                abort();\n                return;\n            }\n            const subscription = input.subscribe(observer);\n            signal.addEventListener(\"abort\", abort);\n            return ()=>{\n                signal.removeEventListener(\"abort\", abort);\n                subscription.unsubscribe();\n            };\n        });\n    };\n}\nconst isDomExceptionSupported = Boolean(globalThis.DOMException);\nfunction _createAbortError(signal) {\n    var _a, _b;\n    if (isDomExceptionSupported) {\n        return new DOMException((_a = signal == null ? void 0 : signal.reason) != null ? _a : \"The operation was aborted.\", \"AbortError\");\n    }\n    const error = new Error((_b = signal == null ? void 0 : signal.reason) != null ? _b : \"The operation was aborted.\");\n    error.name = \"AbortError\";\n    return error;\n}\nvar __accessCheck$4 = (obj, member, msg)=>{\n    if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet$4 = (obj, member, getter)=>{\n    __accessCheck$4(obj, member, \"read from private field\");\n    return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd$4 = (obj, member, value)=>{\n    if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet$4 = (obj, member, value, setter)=>{\n    __accessCheck$4(obj, member, \"write to private field\");\n    setter ? setter.call(obj, value) : member.set(obj, value);\n    return value;\n};\nvar _client$3, _httpRequest$4, _client2$3, _httpRequest2$4;\nclass ObservableAssetsClient {\n    constructor(client, httpRequest){\n        __privateAdd$4(this, _client$3, void 0);\n        __privateAdd$4(this, _httpRequest$4, void 0);\n        __privateSet$4(this, _client$3, client);\n        __privateSet$4(this, _httpRequest$4, httpRequest);\n    }\n    upload(assetType, body, options) {\n        return _upload(__privateGet$4(this, _client$3), __privateGet$4(this, _httpRequest$4), assetType, body, options);\n    }\n}\n_client$3 = new WeakMap();\n_httpRequest$4 = new WeakMap();\nclass AssetsClient {\n    constructor(client, httpRequest){\n        __privateAdd$4(this, _client2$3, void 0);\n        __privateAdd$4(this, _httpRequest2$4, void 0);\n        __privateSet$4(this, _client2$3, client);\n        __privateSet$4(this, _httpRequest2$4, httpRequest);\n    }\n    upload(assetType, body, options) {\n        const observable = _upload(__privateGet$4(this, _client2$3), __privateGet$4(this, _httpRequest2$4), assetType, body, options);\n        return rxjs.lastValueFrom(observable.pipe(operators.filter((event)=>event.type === \"response\"), operators.map((event)=>event.body.document)));\n    }\n}\n_client2$3 = new WeakMap();\n_httpRequest2$4 = new WeakMap();\nfunction _upload(client, httpRequest, assetType, body) {\n    let opts = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n    validateAssetType(assetType);\n    let meta = opts.extract || void 0;\n    if (meta && !meta.length) {\n        meta = [\n            \"none\"\n        ];\n    }\n    const dataset = hasDataset(client.config());\n    const assetEndpoint = assetType === \"image\" ? \"images\" : \"files\";\n    const options = optionsFromFile(opts, body);\n    const { tag, label, title, description, creditLine, filename, source } = options;\n    const query = {\n        label,\n        title,\n        description,\n        filename,\n        meta,\n        creditLine\n    };\n    if (source) {\n        query.sourceId = source.id;\n        query.sourceName = source.name;\n        query.sourceUrl = source.url;\n    }\n    return _requestObservable(client, httpRequest, {\n        tag,\n        method: \"POST\",\n        timeout: options.timeout || 0,\n        uri: \"/assets/\".concat(assetEndpoint, \"/\").concat(dataset),\n        headers: options.contentType ? {\n            \"Content-Type\": options.contentType\n        } : {},\n        query,\n        body\n    });\n}\nfunction optionsFromFile(opts, file) {\n    if (typeof File === \"undefined\" || !(file instanceof File)) {\n        return opts;\n    }\n    return Object.assign({\n        filename: opts.preserveFilename === false ? void 0 : file.name,\n        contentType: file.type\n    }, opts);\n}\nvar defaults = (obj, defaults)=>Object.keys(defaults).concat(Object.keys(obj)).reduce((target, prop)=>{\n        target[prop] = typeof obj[prop] === \"undefined\" ? defaults[prop] : obj[prop];\n        return target;\n    }, {});\nconst pick = (obj, props)=>props.reduce((selection, prop)=>{\n        if (typeof obj[prop] === \"undefined\") {\n            return selection;\n        }\n        selection[prop] = obj[prop];\n        return selection;\n    }, {});\nconst MAX_URL_LENGTH = 16e3 - 1200;\nconst possibleOptions = [\n    \"includePreviousRevision\",\n    \"includeResult\",\n    \"visibility\",\n    \"effectFormat\",\n    \"tag\"\n];\nconst defaultOptions = {\n    includeResult: true\n};\nfunction _listen(query, params) {\n    let opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    const { url, token, withCredentials, requestTagPrefix } = this.config();\n    const tag = opts.tag && requestTagPrefix ? [\n        requestTagPrefix,\n        opts.tag\n    ].join(\".\") : opts.tag;\n    const options = {\n        ...defaults(opts, defaultOptions),\n        tag\n    };\n    const listenOpts = pick(options, possibleOptions);\n    const qs = encodeQueryString({\n        query,\n        params,\n        options: {\n            tag,\n            ...listenOpts\n        }\n    });\n    const uri = \"\".concat(url).concat(_getDataUrl(this, \"listen\", qs));\n    if (uri.length > MAX_URL_LENGTH) {\n        return new rxjs.Observable((observer)=>observer.error(new Error(\"Query too large for listener\")));\n    }\n    const listenFor = options.events ? options.events : [\n        \"mutation\"\n    ];\n    const shouldEmitReconnect = listenFor.indexOf(\"reconnect\") !== -1;\n    const esOptions = {};\n    if (token || withCredentials) {\n        esOptions.withCredentials = true;\n    }\n    if (token) {\n        esOptions.headers = {\n            Authorization: \"Bearer \".concat(token)\n        };\n    }\n    return new rxjs.Observable((observer)=>{\n        let es;\n        getEventSource().then((eventSource)=>{\n            es = eventSource;\n        }).catch((reason)=>{\n            observer.error(reason);\n            stop();\n        });\n        let reconnectTimer;\n        let stopped = false;\n        function onError() {\n            if (stopped) {\n                return;\n            }\n            emitReconnect();\n            if (stopped) {\n                return;\n            }\n            if (es.readyState === es.CLOSED) {\n                unsubscribe();\n                clearTimeout(reconnectTimer);\n                reconnectTimer = setTimeout(open, 100);\n            }\n        }\n        function onChannelError(err) {\n            observer.error(cooerceError(err));\n        }\n        function onMessage(evt) {\n            const event = parseEvent(evt);\n            return event instanceof Error ? observer.error(event) : observer.next(event);\n        }\n        function onDisconnect() {\n            stopped = true;\n            unsubscribe();\n            observer.complete();\n        }\n        function unsubscribe() {\n            if (!es) return;\n            es.removeEventListener(\"error\", onError);\n            es.removeEventListener(\"channelError\", onChannelError);\n            es.removeEventListener(\"disconnect\", onDisconnect);\n            listenFor.forEach((type)=>es.removeEventListener(type, onMessage));\n            es.close();\n        }\n        function emitReconnect() {\n            if (shouldEmitReconnect) {\n                observer.next({\n                    type: \"reconnect\"\n                });\n            }\n        }\n        async function getEventSource() {\n            const { default: EventSource } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/@sanity\"), __webpack_require__.e(\"vendor-chunks/eventsource\")]).then(__webpack_require__.t.bind(__webpack_require__, /*! @sanity/eventsource */ \"(ssr)/./node_modules/@sanity/eventsource/node.js\", 23));\n            const evs = new EventSource(uri, esOptions);\n            evs.addEventListener(\"error\", onError);\n            evs.addEventListener(\"channelError\", onChannelError);\n            evs.addEventListener(\"disconnect\", onDisconnect);\n            listenFor.forEach((type)=>evs.addEventListener(type, onMessage));\n            return evs;\n        }\n        function open() {\n            getEventSource().then((eventSource)=>{\n                es = eventSource;\n            }).catch((reason)=>{\n                observer.error(reason);\n                stop();\n            });\n        }\n        function stop() {\n            stopped = true;\n            unsubscribe();\n        }\n        return stop;\n    });\n}\nfunction parseEvent(event) {\n    try {\n        const data = event.data && JSON.parse(event.data) || {};\n        return Object.assign({\n            type: event.type\n        }, data);\n    } catch (err) {\n        return err;\n    }\n}\nfunction cooerceError(err) {\n    if (err instanceof Error) {\n        return err;\n    }\n    const evt = parseEvent(err);\n    return evt instanceof Error ? evt : new Error(extractErrorMessage(evt));\n}\nfunction extractErrorMessage(err) {\n    if (!err.error) {\n        return err.message || \"Unknown listener error\";\n    }\n    if (err.error.description) {\n        return err.error.description;\n    }\n    return typeof err.error === \"string\" ? err.error : JSON.stringify(err.error, null, 2);\n}\nvar __accessCheck$3 = (obj, member, msg)=>{\n    if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet$3 = (obj, member, getter)=>{\n    __accessCheck$3(obj, member, \"read from private field\");\n    return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd$3 = (obj, member, value)=>{\n    if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet$3 = (obj, member, value, setter)=>{\n    __accessCheck$3(obj, member, \"write to private field\");\n    setter ? setter.call(obj, value) : member.set(obj, value);\n    return value;\n};\nvar _client$2, _httpRequest$3, _client2$2, _httpRequest2$3;\nclass ObservableDatasetsClient {\n    constructor(client, httpRequest){\n        __privateAdd$3(this, _client$2, void 0);\n        __privateAdd$3(this, _httpRequest$3, void 0);\n        __privateSet$3(this, _client$2, client);\n        __privateSet$3(this, _httpRequest$3, httpRequest);\n    }\n    /**\n   * Create a new dataset with the given name\n   *\n   * @param name - Name of the dataset to create\n   * @param options - Options for the dataset\n   */ create(name, options) {\n        return _modify(__privateGet$3(this, _client$2), __privateGet$3(this, _httpRequest$3), \"PUT\", name, options);\n    }\n    /**\n   * Edit a dataset with the given name\n   *\n   * @param name - Name of the dataset to edit\n   * @param options - New options for the dataset\n   */ edit(name, options) {\n        return _modify(__privateGet$3(this, _client$2), __privateGet$3(this, _httpRequest$3), \"PATCH\", name, options);\n    }\n    /**\n   * Delete a dataset with the given name\n   *\n   * @param name - Name of the dataset to delete\n   */ delete(name) {\n        return _modify(__privateGet$3(this, _client$2), __privateGet$3(this, _httpRequest$3), \"DELETE\", name);\n    }\n    /**\n   * Fetch a list of datasets for the configured project\n   */ list() {\n        return _request(__privateGet$3(this, _client$2), __privateGet$3(this, _httpRequest$3), {\n            uri: \"/datasets\",\n            tag: null\n        });\n    }\n}\n_client$2 = new WeakMap();\n_httpRequest$3 = new WeakMap();\nclass DatasetsClient {\n    constructor(client, httpRequest){\n        __privateAdd$3(this, _client2$2, void 0);\n        __privateAdd$3(this, _httpRequest2$3, void 0);\n        __privateSet$3(this, _client2$2, client);\n        __privateSet$3(this, _httpRequest2$3, httpRequest);\n    }\n    /**\n   * Create a new dataset with the given name\n   *\n   * @param name - Name of the dataset to create\n   * @param options - Options for the dataset\n   */ create(name, options) {\n        return rxjs.lastValueFrom(_modify(__privateGet$3(this, _client2$2), __privateGet$3(this, _httpRequest2$3), \"PUT\", name, options));\n    }\n    /**\n   * Edit a dataset with the given name\n   *\n   * @param name - Name of the dataset to edit\n   * @param options - New options for the dataset\n   */ edit(name, options) {\n        return rxjs.lastValueFrom(_modify(__privateGet$3(this, _client2$2), __privateGet$3(this, _httpRequest2$3), \"PATCH\", name, options));\n    }\n    /**\n   * Delete a dataset with the given name\n   *\n   * @param name - Name of the dataset to delete\n   */ delete(name) {\n        return rxjs.lastValueFrom(_modify(__privateGet$3(this, _client2$2), __privateGet$3(this, _httpRequest2$3), \"DELETE\", name));\n    }\n    /**\n   * Fetch a list of datasets for the configured project\n   */ list() {\n        return rxjs.lastValueFrom(_request(__privateGet$3(this, _client2$2), __privateGet$3(this, _httpRequest2$3), {\n            uri: \"/datasets\",\n            tag: null\n        }));\n    }\n}\n_client2$2 = new WeakMap();\n_httpRequest2$3 = new WeakMap();\nfunction _modify(client, httpRequest, method, name, options) {\n    dataset(name);\n    return _request(client, httpRequest, {\n        method,\n        uri: \"/datasets/\".concat(name),\n        body: options,\n        tag: null\n    });\n}\nvar __accessCheck$2 = (obj, member, msg)=>{\n    if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet$2 = (obj, member, getter)=>{\n    __accessCheck$2(obj, member, \"read from private field\");\n    return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd$2 = (obj, member, value)=>{\n    if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet$2 = (obj, member, value, setter)=>{\n    __accessCheck$2(obj, member, \"write to private field\");\n    setter ? setter.call(obj, value) : member.set(obj, value);\n    return value;\n};\nvar _client$1, _httpRequest$2, _client2$1, _httpRequest2$2;\nclass ObservableProjectsClient {\n    constructor(client, httpRequest){\n        __privateAdd$2(this, _client$1, void 0);\n        __privateAdd$2(this, _httpRequest$2, void 0);\n        __privateSet$2(this, _client$1, client);\n        __privateSet$2(this, _httpRequest$2, httpRequest);\n    }\n    list(options) {\n        const uri = (options == null ? void 0 : options.includeMembers) === false ? \"/projects?includeMembers=false\" : \"/projects\";\n        return _request(__privateGet$2(this, _client$1), __privateGet$2(this, _httpRequest$2), {\n            uri\n        });\n    }\n    /**\n   * Fetch a project by project ID\n   *\n   * @param projectId - ID of the project to fetch\n   */ getById(projectId) {\n        return _request(__privateGet$2(this, _client$1), __privateGet$2(this, _httpRequest$2), {\n            uri: \"/projects/\".concat(projectId)\n        });\n    }\n}\n_client$1 = new WeakMap();\n_httpRequest$2 = new WeakMap();\nclass ProjectsClient {\n    constructor(client, httpRequest){\n        __privateAdd$2(this, _client2$1, void 0);\n        __privateAdd$2(this, _httpRequest2$2, void 0);\n        __privateSet$2(this, _client2$1, client);\n        __privateSet$2(this, _httpRequest2$2, httpRequest);\n    }\n    list(options) {\n        const uri = (options == null ? void 0 : options.includeMembers) === false ? \"/projects?includeMembers=false\" : \"/projects\";\n        return rxjs.lastValueFrom(_request(__privateGet$2(this, _client2$1), __privateGet$2(this, _httpRequest2$2), {\n            uri\n        }));\n    }\n    /**\n   * Fetch a project by project ID\n   *\n   * @param projectId - ID of the project to fetch\n   */ getById(projectId) {\n        return rxjs.lastValueFrom(_request(__privateGet$2(this, _client2$1), __privateGet$2(this, _httpRequest2$2), {\n            uri: \"/projects/\".concat(projectId)\n        }));\n    }\n}\n_client2$1 = new WeakMap();\n_httpRequest2$2 = new WeakMap();\nvar __accessCheck$1 = (obj, member, msg)=>{\n    if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet$1 = (obj, member, getter)=>{\n    __accessCheck$1(obj, member, \"read from private field\");\n    return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd$1 = (obj, member, value)=>{\n    if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet$1 = (obj, member, value, setter)=>{\n    __accessCheck$1(obj, member, \"write to private field\");\n    setter ? setter.call(obj, value) : member.set(obj, value);\n    return value;\n};\nvar _client, _httpRequest$1, _client2, _httpRequest2$1;\nclass ObservableUsersClient {\n    constructor(client, httpRequest){\n        __privateAdd$1(this, _client, void 0);\n        __privateAdd$1(this, _httpRequest$1, void 0);\n        __privateSet$1(this, _client, client);\n        __privateSet$1(this, _httpRequest$1, httpRequest);\n    }\n    /**\n   * Fetch a user by user ID\n   *\n   * @param id - User ID of the user to fetch. If `me` is provided, a minimal response including the users role is returned.\n   */ getById(id) {\n        return _request(__privateGet$1(this, _client), __privateGet$1(this, _httpRequest$1), {\n            uri: \"/users/\".concat(id)\n        });\n    }\n}\n_client = new WeakMap();\n_httpRequest$1 = new WeakMap();\nclass UsersClient {\n    constructor(client, httpRequest){\n        __privateAdd$1(this, _client2, void 0);\n        __privateAdd$1(this, _httpRequest2$1, void 0);\n        __privateSet$1(this, _client2, client);\n        __privateSet$1(this, _httpRequest2$1, httpRequest);\n    }\n    /**\n   * Fetch a user by user ID\n   *\n   * @param id - User ID of the user to fetch. If `me` is provided, a minimal response including the users role is returned.\n   */ getById(id) {\n        return rxjs.lastValueFrom(_request(__privateGet$1(this, _client2), __privateGet$1(this, _httpRequest2$1), {\n            uri: \"/users/\".concat(id)\n        }));\n    }\n}\n_client2 = new WeakMap();\n_httpRequest2$1 = new WeakMap();\nvar __accessCheck = (obj, member, msg)=>{\n    if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter)=>{\n    __accessCheck(obj, member, \"read from private field\");\n    return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value)=>{\n    if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter)=>{\n    __accessCheck(obj, member, \"write to private field\");\n    setter ? setter.call(obj, value) : member.set(obj, value);\n    return value;\n};\nvar _clientConfig, _httpRequest, _clientConfig2, _httpRequest2;\nconst _ObservableSanityClient = class _ObservableSanityClient {\n    constructor(httpRequest){\n        let config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultConfig;\n        /**\n     * Private properties\n     */ __privateAdd(this, _clientConfig, void 0);\n        __privateAdd(this, _httpRequest, void 0);\n        /**\n     * Instance properties\n     */ this.listen = _listen;\n        this.config(config);\n        __privateSet(this, _httpRequest, httpRequest);\n        this.assets = new ObservableAssetsClient(this, __privateGet(this, _httpRequest));\n        this.datasets = new ObservableDatasetsClient(this, __privateGet(this, _httpRequest));\n        this.projects = new ObservableProjectsClient(this, __privateGet(this, _httpRequest));\n        this.users = new ObservableUsersClient(this, __privateGet(this, _httpRequest));\n    }\n    /**\n   * Clone the client - returns a new instance\n   */ clone() {\n        return new _ObservableSanityClient(__privateGet(this, _httpRequest), this.config());\n    }\n    config(newConfig) {\n        if (newConfig === void 0) {\n            return {\n                ...__privateGet(this, _clientConfig)\n            };\n        }\n        if (__privateGet(this, _clientConfig) && __privateGet(this, _clientConfig).allowReconfigure === false) {\n            throw new Error(\"Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client\");\n        }\n        __privateSet(this, _clientConfig, initConfig(newConfig, __privateGet(this, _clientConfig) || {}));\n        return this;\n    }\n    /**\n   * Clone the client with a new (partial) configuration.\n   *\n   * @param newConfig - New client configuration properties, shallowly merged with existing configuration\n   */ withConfig(newConfig) {\n        return new _ObservableSanityClient(__privateGet(this, _httpRequest), {\n            ...this.config(),\n            ...newConfig\n        });\n    }\n    fetch(query, params) {\n        let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n        return _fetch(this, __privateGet(this, _httpRequest), query, params, options);\n    }\n    /**\n   * Fetch a single document with the given ID.\n   *\n   * @param id - Document ID to fetch\n   * @param options - Request options\n   */ getDocument(id, options) {\n        return _getDocument(this, __privateGet(this, _httpRequest), id, options);\n    }\n    /**\n   * Fetch multiple documents in one request.\n   * Should be used sparingly - performing a query is usually a better option.\n   * The order/position of documents is preserved based on the original array of IDs.\n   * If any of the documents are missing, they will be replaced by a `null` entry in the returned array\n   *\n   * @param ids - Document IDs to fetch\n   * @param options - Request options\n   */ getDocuments(ids, options) {\n        return _getDocuments(this, __privateGet(this, _httpRequest), ids, options);\n    }\n    create(document, options) {\n        return _create(this, __privateGet(this, _httpRequest), document, \"create\", options);\n    }\n    createIfNotExists(document, options) {\n        return _createIfNotExists(this, __privateGet(this, _httpRequest), document, options);\n    }\n    createOrReplace(document, options) {\n        return _createOrReplace(this, __privateGet(this, _httpRequest), document, options);\n    }\n    delete(selection, options) {\n        return _delete(this, __privateGet(this, _httpRequest), selection, options);\n    }\n    mutate(operations, options) {\n        return _mutate(this, __privateGet(this, _httpRequest), operations, options);\n    }\n    /**\n   * Create a new buildable patch of operations to perform\n   *\n   * @param selection - Document ID, an array of document IDs, or an object with `query` and optional `params`, defining which document(s) to patch\n   * @param operations - Optional object of patch operations to initialize the patch instance with\n   * @returns Patch instance - call `.commit()` to perform the operations defined\n   */ patch(selection, operations) {\n        return new ObservablePatch(selection, operations, this);\n    }\n    /**\n   * Create a new transaction of mutations\n   *\n   * @param operations - Optional array of mutation operations to initialize the transaction instance with\n   */ transaction(operations) {\n        return new ObservableTransaction(operations, this);\n    }\n    /**\n   * Perform an HTTP request against the Sanity API\n   *\n   * @param options - Request options\n   */ request(options) {\n        return _request(this, __privateGet(this, _httpRequest), options);\n    }\n    /**\n   * Get a Sanity API URL for the URI provided\n   *\n   * @param uri - URI/path to build URL for\n   * @param canUseCdn - Whether or not to allow using the API CDN for this route\n   */ getUrl(uri, canUseCdn) {\n        return _getUrl(this, uri, canUseCdn);\n    }\n    /**\n   * Get a Sanity API URL for the data operation and path provided\n   *\n   * @param operation - Data operation (eg `query`, `mutate`, `listen` or similar)\n   * @param path - Path to append after the operation\n   */ getDataUrl(operation, path) {\n        return _getDataUrl(this, operation, path);\n    }\n};\n_clientConfig = new WeakMap();\n_httpRequest = new WeakMap();\nlet ObservableSanityClient = _ObservableSanityClient;\nconst _SanityClient = class _SanityClient {\n    constructor(httpRequest){\n        let config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultConfig;\n        /**\n     * Private properties\n     */ __privateAdd(this, _clientConfig2, void 0);\n        __privateAdd(this, _httpRequest2, void 0);\n        /**\n     * Instance properties\n     */ this.listen = _listen;\n        this.config(config);\n        __privateSet(this, _httpRequest2, httpRequest);\n        this.assets = new AssetsClient(this, __privateGet(this, _httpRequest2));\n        this.datasets = new DatasetsClient(this, __privateGet(this, _httpRequest2));\n        this.projects = new ProjectsClient(this, __privateGet(this, _httpRequest2));\n        this.users = new UsersClient(this, __privateGet(this, _httpRequest2));\n        this.observable = new ObservableSanityClient(httpRequest, config);\n    }\n    /**\n   * Clone the client - returns a new instance\n   */ clone() {\n        return new _SanityClient(__privateGet(this, _httpRequest2), this.config());\n    }\n    config(newConfig) {\n        if (newConfig === void 0) {\n            return {\n                ...__privateGet(this, _clientConfig2)\n            };\n        }\n        if (__privateGet(this, _clientConfig2) && __privateGet(this, _clientConfig2).allowReconfigure === false) {\n            throw new Error(\"Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client\");\n        }\n        if (this.observable) {\n            this.observable.config(newConfig);\n        }\n        __privateSet(this, _clientConfig2, initConfig(newConfig, __privateGet(this, _clientConfig2) || {}));\n        return this;\n    }\n    /**\n   * Clone the client with a new (partial) configuration.\n   *\n   * @param newConfig - New client configuration properties, shallowly merged with existing configuration\n   */ withConfig(newConfig) {\n        return new _SanityClient(__privateGet(this, _httpRequest2), {\n            ...this.config(),\n            ...newConfig\n        });\n    }\n    fetch(query, params) {\n        let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n        return rxjs.lastValueFrom(_fetch(this, __privateGet(this, _httpRequest2), query, params, options));\n    }\n    /**\n   * Fetch a single document with the given ID.\n   *\n   * @param id - Document ID to fetch\n   * @param options - Request options\n   */ getDocument(id, options) {\n        return rxjs.lastValueFrom(_getDocument(this, __privateGet(this, _httpRequest2), id, options));\n    }\n    /**\n   * Fetch multiple documents in one request.\n   * Should be used sparingly - performing a query is usually a better option.\n   * The order/position of documents is preserved based on the original array of IDs.\n   * If any of the documents are missing, they will be replaced by a `null` entry in the returned array\n   *\n   * @param ids - Document IDs to fetch\n   * @param options - Request options\n   */ getDocuments(ids, options) {\n        return rxjs.lastValueFrom(_getDocuments(this, __privateGet(this, _httpRequest2), ids, options));\n    }\n    create(document, options) {\n        return rxjs.lastValueFrom(_create(this, __privateGet(this, _httpRequest2), document, \"create\", options));\n    }\n    createIfNotExists(document, options) {\n        return rxjs.lastValueFrom(_createIfNotExists(this, __privateGet(this, _httpRequest2), document, options));\n    }\n    createOrReplace(document, options) {\n        return rxjs.lastValueFrom(_createOrReplace(this, __privateGet(this, _httpRequest2), document, options));\n    }\n    delete(selection, options) {\n        return rxjs.lastValueFrom(_delete(this, __privateGet(this, _httpRequest2), selection, options));\n    }\n    mutate(operations, options) {\n        return rxjs.lastValueFrom(_mutate(this, __privateGet(this, _httpRequest2), operations, options));\n    }\n    /**\n   * Create a new buildable patch of operations to perform\n   *\n   * @param selection - Document ID, an array of document IDs, or an object with `query` and optional `params`, defining which document(s) to patch\n   * @param operations - Optional object of patch operations to initialize the patch instance with\n   * @returns Patch instance - call `.commit()` to perform the operations defined\n   */ patch(documentId, operations) {\n        return new Patch(documentId, operations, this);\n    }\n    /**\n   * Create a new transaction of mutations\n   *\n   * @param operations - Optional array of mutation operations to initialize the transaction instance with\n   */ transaction(operations) {\n        return new Transaction(operations, this);\n    }\n    /**\n   * Perform a request against the Sanity API\n   * NOTE: Only use this for Sanity API endpoints, not for your own APIs!\n   *\n   * @param options - Request options\n   * @returns Promise resolving to the response body\n   */ request(options) {\n        return rxjs.lastValueFrom(_request(this, __privateGet(this, _httpRequest2), options));\n    }\n    /**\n   * Perform an HTTP request a `/data` sub-endpoint\n   * NOTE: Considered internal, thus marked as deprecated. Use `request` instead.\n   *\n   * @deprecated - Use `request()` or your own HTTP library instead\n   * @param endpoint - Endpoint to hit (mutate, query etc)\n   * @param body - Request body\n   * @param options - Request options\n   * @internal\n   */ dataRequest(endpoint, body, options) {\n        return rxjs.lastValueFrom(_dataRequest(this, __privateGet(this, _httpRequest2), endpoint, body, options));\n    }\n    /**\n   * Get a Sanity API URL for the URI provided\n   *\n   * @param uri - URI/path to build URL for\n   * @param canUseCdn - Whether or not to allow using the API CDN for this route\n   */ getUrl(uri, canUseCdn) {\n        return _getUrl(this, uri, canUseCdn);\n    }\n    /**\n   * Get a Sanity API URL for the data operation and path provided\n   *\n   * @param operation - Data operation (eg `query`, `mutate`, `listen` or similar)\n   * @param path - Path to append after the operation\n   */ getDataUrl(operation, path) {\n        return _getDataUrl(this, operation, path);\n    }\n};\n_clientConfig2 = new WeakMap();\n_httpRequest2 = new WeakMap();\nlet SanityClient = _SanityClient;\nfunction defineCreateClientExports(envMiddleware, ClassConstructor) {\n    const httpRequest = defineHttpRequest(envMiddleware, {});\n    const requester = httpRequest.defaultRequester;\n    const createClient = (config)=>new ClassConstructor(defineHttpRequest(envMiddleware, {\n            maxRetries: config.maxRetries,\n            retryDelay: config.retryDelay\n        }), config);\n    return {\n        requester,\n        createClient\n    };\n}\nvar name = \"@sanity/client\";\nvar version = \"6.10.0\";\nconst middleware = [\n    middleware$1.debug({\n        verbose: true,\n        namespace: \"sanity:client\"\n    }),\n    middleware$1.headers({\n        \"User-Agent\": \"\".concat(name, \" \").concat(version)\n    }),\n    // Enable keep-alive, and in addition limit the number of sockets that can be opened.\n    // This avoids opening too many connections to the server if someone tries to execute\n    // a bunch of requests in parallel. It's recommended to have a concurrency limit\n    // at a \"higher limit\" (i.e. you shouldn't actually execute hundreds of requests in parallel),\n    // and this is mainly to minimize the impact for the network and server.\n    //\n    // We're currently matching the same defaults as browsers:\n    // https://stackoverflow.com/questions/26003756/is-there-a-limit-practical-or-otherwise-to-the-number-of-web-sockets-a-page-op\n    middleware$1.agent({\n        keepAlive: true,\n        maxSockets: 30,\n        maxTotalSockets: 256\n    })\n];\nexports.BasePatch = BasePatch;\nexports.BaseTransaction = BaseTransaction;\nexports.ClientError = ClientError;\nexports.ObservablePatch = ObservablePatch;\nexports.ObservableSanityClient = ObservableSanityClient;\nexports.ObservableTransaction = ObservableTransaction;\nexports.Patch = Patch;\nexports.SanityClient = SanityClient;\nexports.ServerError = ServerError;\nexports.Transaction = Transaction;\nexports.defaultConfig = defaultConfig;\nexports.defineCreateClientExports = defineCreateClientExports;\nexports.middleware = middleware;\nexports.printNoDefaultExport = printNoDefaultExport; //# sourceMappingURL=nodeMiddleware-1l7OW-D5.cjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9jbGllbnQvZGlzdC9fY2h1bmtzL25vZGVNaWRkbGV3YXJlLTFsN09XLUQ1LmNqcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUVBLElBQUlBLFFBQVFDLG1CQUFPQSxDQUFDO0FBQ3BCLElBQUlDLGVBQWVELG1CQUFPQSxDQUFDO0FBQzNCLElBQUlFLE9BQU9GLG1CQUFPQSxDQUFDO0FBQ25CLElBQUlHLFlBQVlILG1CQUFPQSxDQUFDO0FBQ3hCLE1BQU1JLDZCQUE2QjtBQUNuQyxNQUFNQyxvQkFBb0JDO0lBQ3hCQyxZQUFZQyxHQUFHLENBQUU7UUFDZixNQUFNQyxRQUFRQyxrQkFBa0JGO1FBQ2hDLEtBQUssQ0FBQ0MsTUFBTUUsT0FBTztRQUNuQixJQUFJLENBQUNDLFVBQVUsR0FBRztRQUNsQkMsT0FBT0MsTUFBTSxDQUFDLElBQUksRUFBRUw7SUFDdEI7QUFDRjtBQUNBLE1BQU1NLG9CQUFvQlQ7SUFDeEJDLFlBQVlDLEdBQUcsQ0FBRTtRQUNmLE1BQU1DLFFBQVFDLGtCQUFrQkY7UUFDaEMsS0FBSyxDQUFDQyxNQUFNRSxPQUFPO1FBQ25CLElBQUksQ0FBQ0MsVUFBVSxHQUFHO1FBQ2xCQyxPQUFPQyxNQUFNLENBQUMsSUFBSSxFQUFFTDtJQUN0QjtBQUNGO0FBQ0EsU0FBU0Msa0JBQWtCRixHQUFHO0lBQzVCLE1BQU1RLE9BQU9SLElBQUlRLElBQUk7SUFDckIsTUFBTVAsUUFBUTtRQUNaUSxVQUFVVDtRQUNWSSxZQUFZSixJQUFJSSxVQUFVO1FBQzFCTSxjQUFjQyxjQUFjSCxNQUFNUjtRQUNsQ0csU0FBUztRQUNUUyxTQUFTLEtBQUs7SUFDaEI7SUFDQSxJQUFJSixLQUFLSyxLQUFLLElBQUlMLEtBQUtMLE9BQU8sRUFBRTtRQUM5QkYsTUFBTUUsT0FBTyxHQUFHLEdBQUdXLE1BQU0sQ0FBQ04sS0FBS0ssS0FBSyxFQUFFLE9BQU9DLE1BQU0sQ0FBQ04sS0FBS0wsT0FBTztRQUNoRSxPQUFPRjtJQUNUO0lB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QUFrQixHQUFHUjtBQUNyQlEsNEJBQTRCLEdBQUd4UixzQkFDL0Isb0RBQW9EIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmlrZS8uL25vZGVfbW9kdWxlcy9Ac2FuaXR5L2NsaWVudC9kaXN0L19jaHVua3Mvbm9kZU1pZGRsZXdhcmUtMWw3T1ctRDUuY2pzP2FiYjEiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgZ2V0SXQgPSByZXF1aXJlKCdnZXQtaXQnKTtcbnZhciBtaWRkbGV3YXJlJDEgPSByZXF1aXJlKCdnZXQtaXQvbWlkZGxld2FyZScpO1xudmFyIHJ4anMgPSByZXF1aXJlKCdyeGpzJyk7XG52YXIgb3BlcmF0b3JzID0gcmVxdWlyZSgncnhqcy9vcGVyYXRvcnMnKTtcbmNvbnN0IE1BWF9JVEVNU19JTl9FUlJPUl9NRVNTQUdFID0gNTtcbmNsYXNzIENsaWVudEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihyZXMpIHtcbiAgICBjb25zdCBwcm9wcyA9IGV4dHJhY3RFcnJvclByb3BzKHJlcyk7XG4gICAgc3VwZXIocHJvcHMubWVzc2FnZSk7XG4gICAgdGhpcy5zdGF0dXNDb2RlID0gNDAwO1xuICAgIE9iamVjdC5hc3NpZ24odGhpcywgcHJvcHMpO1xuICB9XG59XG5jbGFzcyBTZXJ2ZXJFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IocmVzKSB7XG4gICAgY29uc3QgcHJvcHMgPSBleHRyYWN0RXJyb3JQcm9wcyhyZXMpO1xuICAgIHN1cGVyKHByb3BzLm1lc3NhZ2UpO1xuICAgIHRoaXMuc3RhdHVzQ29kZSA9IDUwMDtcbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIHByb3BzKTtcbiAgfVxufVxuZnVuY3Rpb24gZXh0cmFjdEVycm9yUHJvcHMocmVzKSB7XG4gIGNvbnN0IGJvZHkgPSByZXMuYm9keTtcbiAgY29uc3QgcHJvcHMgPSB7XG4gICAgcmVzcG9uc2U6IHJlcyxcbiAgICBzdGF0dXNDb2RlOiByZXMuc3RhdHVzQ29kZSxcbiAgICByZXNwb25zZUJvZHk6IHN0cmluZ2lmeUJvZHkoYm9keSwgcmVzKSxcbiAgICBtZXNzYWdlOiBcIlwiLFxuICAgIGRldGFpbHM6IHZvaWQgMFxuICB9O1xuICBpZiAoYm9keS5lcnJvciAmJiBib2R5Lm1lc3NhZ2UpIHtcbiAgICBwcm9wcy5tZXNzYWdlID0gXCJcIi5jb25jYXQoYm9keS5lcnJvciwgXCIgLSBcIikuY29uY2F0KGJvZHkubWVzc2FnZSk7XG4gICAgcmV0dXJuIHByb3BzO1xuICB9XG4gIGlmIChpc011dGF0aW9uRXJyb3IoYm9keSkpIHtcbiAgICBjb25zdCBhbGxJdGVtcyA9IGJvZHkuZXJyb3IuaXRlbXMgfHwgW107XG4gICAgY29uc3QgaXRlbXMgPSBhbGxJdGVtcy5zbGljZSgwLCBNQVhfSVRFTVNfSU5fRVJST1JfTUVTU0FHRSkubWFwKGl0ZW0gPT4ge1xuICAgICAgdmFyIF9hO1xuICAgICAgcmV0dXJuIChfYSA9IGl0ZW0uZXJyb3IpID09IG51bGwgPyB2b2lkIDAgOiBfYS5kZXNjcmlwdGlvbjtcbiAgICB9KS5maWx0ZXIoQm9vbGVhbik7XG4gICAgbGV0IGl0ZW1zU3RyID0gaXRlbXMubGVuZ3RoID8gXCI6XFxuLSBcIi5jb25jYXQoaXRlbXMuam9pbihcIlxcbi0gXCIpKSA6IFwiXCI7XG4gICAgaWYgKGFsbEl0ZW1zLmxlbmd0aCA+IE1BWF9JVEVNU19JTl9FUlJPUl9NRVNTQUdFKSB7XG4gICAgICBpdGVtc1N0ciArPSBcIlxcbi4uLmFuZCBcIi5jb25jYXQoYWxsSXRlbXMubGVuZ3RoIC0gTUFYX0lURU1TX0lOX0VSUk9SX01FU1NBR0UsIFwiIG1vcmVcIik7XG4gICAgfVxuICAgIHByb3BzLm1lc3NhZ2UgPSBcIlwiLmNvbmNhdChib2R5LmVycm9yLmRlc2NyaXB0aW9uKS5jb25jYXQoaXRlbXNTdHIpO1xuICAgIHByb3BzLmRldGFpbHMgPSBib2R5LmVycm9yO1xuICAgIHJldHVybiBwcm9wcztcbiAgfVxuICBpZiAoYm9keS5lcnJvciAmJiBib2R5LmVycm9yLmRlc2NyaXB0aW9uKSB7XG4gICAgcHJvcHMubWVzc2FnZSA9IGJvZHkuZXJyb3IuZGVzY3JpcHRpb247XG4gICAgcHJvcHMuZGV0YWlscyA9IGJvZHkuZXJyb3I7XG4gICAgcmV0dXJuIHByb3BzO1xuICB9XG4gIHByb3BzLm1lc3NhZ2UgPSBib2R5LmVycm9yIHx8IGJvZHkubWVzc2FnZSB8fCBodHRwRXJyb3JNZXNzYWdlKHJlcyk7XG4gIHJldHVybiBwcm9wcztcbn1cbmZ1bmN0aW9uIGlzTXV0YXRpb25FcnJvcihib2R5KSB7XG4gIHJldHVybiBpc1BsYWluT2JqZWN0KGJvZHkpICYmIGlzUGxhaW5PYmplY3QoYm9keS5lcnJvcikgJiYgYm9keS5lcnJvci50eXBlID09PSBcIm11dGF0aW9uRXJyb3JcIiAmJiB0eXBlb2YgYm9keS5lcnJvci5kZXNjcmlwdGlvbiA9PT0gXCJzdHJpbmdcIjtcbn1cbmZ1bmN0aW9uIGlzUGxhaW5PYmplY3Qob2JqKSB7XG4gIHJldHVybiB0eXBlb2Ygb2JqID09PSBcIm9iamVjdFwiICYmIG9iaiAhPT0gbnVsbCAmJiAhQXJyYXkuaXNBcnJheShvYmopO1xufVxuZnVuY3Rpb24gaHR0cEVycm9yTWVzc2FnZShyZXMpIHtcbiAgY29uc3Qgc3RhdHVzTWVzc2FnZSA9IHJlcy5zdGF0dXNNZXNzYWdlID8gXCIgXCIuY29uY2F0KHJlcy5zdGF0dXNNZXNzYWdlKSA6IFwiXCI7XG4gIHJldHVybiBcIlwiLmNvbmNhdChyZXMubWV0aG9kLCBcIi1yZXF1ZXN0IHRvIFwiKS5jb25jYXQocmVzLnVybCwgXCIgcmVzdWx0ZWQgaW4gSFRUUCBcIikuY29uY2F0KHJlcy5zdGF0dXNDb2RlKS5jb25jYXQoc3RhdHVzTWVzc2FnZSk7XG59XG5mdW5jdGlvbiBzdHJpbmdpZnlCb2R5KGJvZHksIHJlcykge1xuICBjb25zdCBjb250ZW50VHlwZSA9IChyZXMuaGVhZGVyc1tcImNvbnRlbnQtdHlwZVwiXSB8fCBcIlwiKS50b0xvd2VyQ2FzZSgpO1xuICBjb25zdCBpc0pzb24gPSBjb250ZW50VHlwZS5pbmRleE9mKFwiYXBwbGljYXRpb24vanNvblwiKSAhPT0gLTE7XG4gIHJldHVybiBpc0pzb24gPyBKU09OLnN0cmluZ2lmeShib2R5LCBudWxsLCAyKSA6IGJvZHk7XG59XG5jb25zdCBodHRwRXJyb3IgPSB7XG4gIG9uUmVzcG9uc2U6IHJlcyA9PiB7XG4gICAgaWYgKHJlcy5zdGF0dXNDb2RlID49IDUwMCkge1xuICAgICAgdGhyb3cgbmV3IFNlcnZlckVycm9yKHJlcyk7XG4gICAgfSBlbHNlIGlmIChyZXMuc3RhdHVzQ29kZSA+PSA0MDApIHtcbiAgICAgIHRocm93IG5ldyBDbGllbnRFcnJvcihyZXMpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xuICB9XG59O1xuY29uc3QgcHJpbnRXYXJuaW5ncyA9IHtcbiAgb25SZXNwb25zZTogcmVzID0+IHtcbiAgICBjb25zdCB3YXJuID0gcmVzLmhlYWRlcnNbXCJ4LXNhbml0eS13YXJuaW5nXCJdO1xuICAgIGNvbnN0IHdhcm5pbmdzID0gQXJyYXkuaXNBcnJheSh3YXJuKSA/IHdhcm4gOiBbd2Fybl07XG4gICAgd2FybmluZ3MuZmlsdGVyKEJvb2xlYW4pLmZvckVhY2gobXNnID0+IGNvbnNvbGUud2Fybihtc2cpKTtcbiAgICByZXR1cm4gcmVzO1xuICB9XG59O1xuZnVuY3Rpb24gZGVmaW5lSHR0cFJlcXVlc3QoZW52TWlkZGxld2FyZSwgX3JlZikge1xuICBsZXQge1xuICAgIG1heFJldHJpZXMgPSA1LFxuICAgIHJldHJ5RGVsYXlcbiAgfSA9IF9yZWY7XG4gIGNvbnN0IHJlcXVlc3QgPSBnZXRJdC5nZXRJdChbbWF4UmV0cmllcyA+IDAgPyBtaWRkbGV3YXJlJDEucmV0cnkoe1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgcmV0cnlEZWxheSxcbiAgICAvLyBUaGlzIG9wdGlvbiBpcyB0eXBlZCBpbmNvcnJlY3RseSBpbiBnZXQtaXQuXG4gICAgbWF4UmV0cmllcyxcbiAgICBzaG91bGRSZXRyeVxuICB9KSA6IHt9LCAuLi5lbnZNaWRkbGV3YXJlLCBwcmludFdhcm5pbmdzLCBtaWRkbGV3YXJlJDEuanNvblJlcXVlc3QoKSwgbWlkZGxld2FyZSQxLmpzb25SZXNwb25zZSgpLCBtaWRkbGV3YXJlJDEucHJvZ3Jlc3MoKSwgaHR0cEVycm9yLCBtaWRkbGV3YXJlJDEub2JzZXJ2YWJsZSh7XG4gICAgaW1wbGVtZW50YXRpb246IHJ4anMuT2JzZXJ2YWJsZVxuICB9KV0pO1xuICBmdW5jdGlvbiBodHRwUmVxdWVzdChvcHRpb25zKSB7XG4gICAgbGV0IHJlcXVlc3RlciA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogcmVxdWVzdDtcbiAgICByZXR1cm4gcmVxdWVzdGVyKHtcbiAgICAgIG1heFJlZGlyZWN0czogMCxcbiAgICAgIC4uLm9wdGlvbnNcbiAgICB9KTtcbiAgfVxuICBodHRwUmVxdWVzdC5kZWZhdWx0UmVxdWVzdGVyID0gcmVxdWVzdDtcbiAgcmV0dXJuIGh0dHBSZXF1ZXN0O1xufVxuZnVuY3Rpb24gc2hvdWxkUmV0cnkoZXJyLCBhdHRlbXB0LCBvcHRpb25zKSB7XG4gIGNvbnN0IGlzU2FmZSA9IG9wdGlvbnMubWV0aG9kID09PSBcIkdFVFwiIHx8IG9wdGlvbnMubWV0aG9kID09PSBcIkhFQURcIjtcbiAgY29uc3QgdXJpID0gb3B0aW9ucy51cmkgfHwgb3B0aW9ucy51cmw7XG4gIGNvbnN0IGlzUXVlcnkgPSB1cmkuc3RhcnRzV2l0aChcIi9kYXRhL3F1ZXJ5XCIpO1xuICBjb25zdCBpc1JldHJpYWJsZVJlc3BvbnNlID0gZXJyLnJlc3BvbnNlICYmIChlcnIucmVzcG9uc2Uuc3RhdHVzQ29kZSA9PT0gNDI5IHx8IGVyci5yZXNwb25zZS5zdGF0dXNDb2RlID09PSA1MDIgfHwgZXJyLnJlc3BvbnNlLnN0YXR1c0NvZGUgPT09IDUwMyk7XG4gIGlmICgoaXNTYWZlIHx8IGlzUXVlcnkpICYmIGlzUmV0cmlhYmxlUmVzcG9uc2UpIHJldHVybiB0cnVlO1xuICByZXR1cm4gbWlkZGxld2FyZSQxLnJldHJ5LnNob3VsZFJldHJ5KGVyciwgYXR0ZW1wdCwgb3B0aW9ucyk7XG59XG5mdW5jdGlvbiBnZXRTZWxlY3Rpb24oc2VsKSB7XG4gIGlmICh0eXBlb2Ygc2VsID09PSBcInN0cmluZ1wiIHx8IEFycmF5LmlzQXJyYXkoc2VsKSkge1xuICAgIHJldHVybiB7XG4gICAgICBpZDogc2VsXG4gICAgfTtcbiAgfVxuICBpZiAodHlwZW9mIHNlbCA9PT0gXCJvYmplY3RcIiAmJiBzZWwgIT09IG51bGwgJiYgXCJxdWVyeVwiIGluIHNlbCAmJiB0eXBlb2Ygc2VsLnF1ZXJ5ID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIFwicGFyYW1zXCIgaW4gc2VsICYmIHR5cGVvZiBzZWwucGFyYW1zID09PSBcIm9iamVjdFwiICYmIHNlbC5wYXJhbXMgIT09IG51bGwgPyB7XG4gICAgICBxdWVyeTogc2VsLnF1ZXJ5LFxuICAgICAgcGFyYW1zOiBzZWwucGFyYW1zXG4gICAgfSA6IHtcbiAgICAgIHF1ZXJ5OiBzZWwucXVlcnlcbiAgICB9O1xuICB9XG4gIGNvbnN0IHNlbGVjdGlvbk9wdHMgPSBbXCIqIERvY3VtZW50IElEICg8ZG9jSWQ+KVwiLCBcIiogQXJyYXkgb2YgZG9jdW1lbnQgSURzXCIsIFwiKiBPYmplY3QgY29udGFpbmluZyBgcXVlcnlgXCJdLmpvaW4oXCJcXG5cIik7XG4gIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gc2VsZWN0aW9uIC0gbXVzdCBiZSBvbmUgb2Y6XFxuXFxuXCIuY29uY2F0KHNlbGVjdGlvbk9wdHMpKTtcbn1cbmNvbnN0IFZBTElEX0FTU0VUX1RZUEVTID0gW1wiaW1hZ2VcIiwgXCJmaWxlXCJdO1xuY29uc3QgVkFMSURfSU5TRVJUX0xPQ0FUSU9OUyA9IFtcImJlZm9yZVwiLCBcImFmdGVyXCIsIFwicmVwbGFjZVwiXTtcbmNvbnN0IGRhdGFzZXQgPSBuYW1lID0+IHtcbiAgaWYgKCEvXih+W2EtejAtOV17MX1bLVxcd117MCw2M318W2EtejAtOV17MX1bLVxcd117MCw2M30pJC8udGVzdChuYW1lKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkRhdGFzZXRzIGNhbiBvbmx5IGNvbnRhaW4gbG93ZXJjYXNlIGNoYXJhY3RlcnMsIG51bWJlcnMsIHVuZGVyc2NvcmVzIGFuZCBkYXNoZXMsIGFuZCBzdGFydCB3aXRoIHRpbGRlLCBhbmQgYmUgbWF4aW11bSA2NCBjaGFyYWN0ZXJzXCIpO1xuICB9XG59O1xuY29uc3QgcHJvamVjdElkID0gaWQgPT4ge1xuICBpZiAoIS9eWy1hLXowLTldKyQvaS50ZXN0KGlkKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcImBwcm9qZWN0SWRgIGNhbiBvbmx5IGNvbnRhaW4gb25seSBhLXosIDAtOSBhbmQgZGFzaGVzXCIpO1xuICB9XG59O1xuY29uc3QgdmFsaWRhdGVBc3NldFR5cGUgPSB0eXBlID0+IHtcbiAgaWYgKFZBTElEX0FTU0VUX1RZUEVTLmluZGV4T2YodHlwZSkgPT09IC0xKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBhc3NldCB0eXBlOiBcIi5jb25jYXQodHlwZSwgXCIuIE11c3QgYmUgb25lIG9mIFwiKS5jb25jYXQoVkFMSURfQVNTRVRfVFlQRVMuam9pbihcIiwgXCIpKSk7XG4gIH1cbn07XG5jb25zdCB2YWxpZGF0ZU9iamVjdCA9IChvcCwgdmFsKSA9PiB7XG4gIGlmICh2YWwgPT09IG51bGwgfHwgdHlwZW9mIHZhbCAhPT0gXCJvYmplY3RcIiB8fCBBcnJheS5pc0FycmF5KHZhbCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJcIi5jb25jYXQob3AsIFwiKCkgdGFrZXMgYW4gb2JqZWN0IG9mIHByb3BlcnRpZXNcIikpO1xuICB9XG59O1xuY29uc3QgdmFsaWRhdGVEb2N1bWVudElkID0gKG9wLCBpZCkgPT4ge1xuICBpZiAodHlwZW9mIGlkICE9PSBcInN0cmluZ1wiIHx8ICEvXlthLXowLTlfXVthLXowLTlfLi1dezAsMTI3fSQvaS50ZXN0KGlkKSB8fCBpZC5pbmNsdWRlcyhcIi4uXCIpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiXCIuY29uY2F0KG9wLCAnKCk6IFwiJykuY29uY2F0KGlkLCAnXCIgaXMgbm90IGEgdmFsaWQgZG9jdW1lbnQgSUQnKSk7XG4gIH1cbn07XG5jb25zdCByZXF1aXJlRG9jdW1lbnRJZCA9IChvcCwgZG9jKSA9PiB7XG4gIGlmICghZG9jLl9pZCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlwiLmNvbmNhdChvcCwgJygpIHJlcXVpcmVzIHRoYXQgdGhlIGRvY3VtZW50IGNvbnRhaW5zIGFuIElEIChcIl9pZFwiIHByb3BlcnR5KScpKTtcbiAgfVxuICB2YWxpZGF0ZURvY3VtZW50SWQob3AsIGRvYy5faWQpO1xufTtcbmNvbnN0IHZhbGlkYXRlSW5zZXJ0ID0gKGF0LCBzZWxlY3RvciwgaXRlbXMpID0+IHtcbiAgY29uc3Qgc2lnbmF0dXJlID0gXCJpbnNlcnQoYXQsIHNlbGVjdG9yLCBpdGVtcylcIjtcbiAgaWYgKFZBTElEX0lOU0VSVF9MT0NBVElPTlMuaW5kZXhPZihhdCkgPT09IC0xKSB7XG4gICAgY29uc3QgdmFsaWQgPSBWQUxJRF9JTlNFUlRfTE9DQVRJT05TLm1hcChsb2MgPT4gJ1wiJy5jb25jYXQobG9jLCAnXCInKSkuam9pbihcIiwgXCIpO1xuICAgIHRocm93IG5ldyBFcnJvcihcIlwiLmNvbmNhdChzaWduYXR1cmUsICcgdGFrZXMgYW4gXCJhdFwiLWFyZ3VtZW50IHdoaWNoIGlzIG9uZSBvZjogJykuY29uY2F0KHZhbGlkKSk7XG4gIH1cbiAgaWYgKHR5cGVvZiBzZWxlY3RvciAhPT0gXCJzdHJpbmdcIikge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlwiLmNvbmNhdChzaWduYXR1cmUsICcgdGFrZXMgYSBcInNlbGVjdG9yXCItYXJndW1lbnQgd2hpY2ggbXVzdCBiZSBhIHN0cmluZycpKTtcbiAgfVxuICBpZiAoIUFycmF5LmlzQXJyYXkoaXRlbXMpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiXCIuY29uY2F0KHNpZ25hdHVyZSwgJyB0YWtlcyBhbiBcIml0ZW1zXCItYXJndW1lbnQgd2hpY2ggbXVzdCBiZSBhbiBhcnJheScpKTtcbiAgfVxufTtcbmNvbnN0IGhhc0RhdGFzZXQgPSBjb25maWcgPT4ge1xuICBpZiAoIWNvbmZpZy5kYXRhc2V0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiYGRhdGFzZXRgIG11c3QgYmUgcHJvdmlkZWQgdG8gcGVyZm9ybSBxdWVyaWVzXCIpO1xuICB9XG4gIHJldHVybiBjb25maWcuZGF0YXNldCB8fCBcIlwiO1xufTtcbmNvbnN0IHJlcXVlc3RUYWcgPSB0YWcgPT4ge1xuICBpZiAodHlwZW9mIHRhZyAhPT0gXCJzdHJpbmdcIiB8fCAhL15bYS16MC05Ll8tXXsxLDc1fSQvaS50ZXN0KHRhZykpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJUYWcgY2FuIG9ubHkgY29udGFpbiBhbHBoYW51bWVyaWMgY2hhcmFjdGVycywgdW5kZXJzY29yZXMsIGRhc2hlcyBhbmQgZG90cywgYW5kIGJlIGJldHdlZW4gb25lIGFuZCA3NSBjaGFyYWN0ZXJzIGxvbmcuXCIpO1xuICB9XG4gIHJldHVybiB0YWc7XG59O1xudmFyIF9fYWNjZXNzQ2hlY2skNiA9IChvYmosIG1lbWJlciwgbXNnKSA9PiB7XG4gIGlmICghbWVtYmVyLmhhcyhvYmopKSB0aHJvdyBUeXBlRXJyb3IoXCJDYW5ub3QgXCIgKyBtc2cpO1xufTtcbnZhciBfX3ByaXZhdGVHZXQkNiA9IChvYmosIG1lbWJlciwgZ2V0dGVyKSA9PiB7XG4gIF9fYWNjZXNzQ2hlY2skNihvYmosIG1lbWJlciwgXCJyZWFkIGZyb20gcHJpdmF0ZSBmaWVsZFwiKTtcbiAgcmV0dXJuIGdldHRlciA/IGdldHRlci5jYWxsKG9iaikgOiBtZW1iZXIuZ2V0KG9iaik7XG59O1xudmFyIF9fcHJpdmF0ZUFkZCQ2ID0gKG9iaiwgbWVtYmVyLCB2YWx1ZSkgPT4ge1xuICBpZiAobWVtYmVyLmhhcyhvYmopKSB0aHJvdyBUeXBlRXJyb3IoXCJDYW5ub3QgYWRkIHRoZSBzYW1lIHByaXZhdGUgbWVtYmVyIG1vcmUgdGhhbiBvbmNlXCIpO1xuICBtZW1iZXIgaW5zdGFuY2VvZiBXZWFrU2V0ID8gbWVtYmVyLmFkZChvYmopIDogbWVtYmVyLnNldChvYmosIHZhbHVlKTtcbn07XG52YXIgX19wcml2YXRlU2V0JDYgPSAob2JqLCBtZW1iZXIsIHZhbHVlLCBzZXR0ZXIpID0+IHtcbiAgX19hY2Nlc3NDaGVjayQ2KG9iaiwgbWVtYmVyLCBcIndyaXRlIHRvIHByaXZhdGUgZmllbGRcIik7XG4gIHNldHRlciA/IHNldHRlci5jYWxsKG9iaiwgdmFsdWUpIDogbWVtYmVyLnNldChvYmosIHZhbHVlKTtcbiAgcmV0dXJuIHZhbHVlO1xufTtcbnZhciBfY2xpZW50JDUsIF9jbGllbnQyJDU7XG5jbGFzcyBCYXNlUGF0Y2gge1xuICBjb25zdHJ1Y3RvcihzZWxlY3Rpb24pIHtcbiAgICBsZXQgb3BlcmF0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgdGhpcy5zZWxlY3Rpb24gPSBzZWxlY3Rpb247XG4gICAgdGhpcy5vcGVyYXRpb25zID0gb3BlcmF0aW9ucztcbiAgfVxuICAvKipcbiAgICogU2V0cyB0aGUgZ2l2ZW4gYXR0cmlidXRlcyB0byB0aGUgZG9jdW1lbnQuIERvZXMgTk9UIG1lcmdlIG9iamVjdHMuXG4gICAqIFRoZSBvcGVyYXRpb24gaXMgYWRkZWQgdG8gdGhlIGN1cnJlbnQgcGF0Y2gsIHJlYWR5IHRvIGJlIGNvbW1pdGVkIGJ5IGBjb21taXQoKWBcbiAgICpcbiAgICogQHBhcmFtIGF0dHJzIC0gQXR0cmlidXRlcyB0byBzZXQuIFRvIHNldCBhIGRlZXAgYXR0cmlidXRlLCB1c2UgSlNPTk1hdGNoLCBlZzogXFx7XCJuZXN0ZWQucHJvcFwiOiBcInZhbHVlXCJcXH1cbiAgICovXG4gIHNldChhdHRycykge1xuICAgIHJldHVybiB0aGlzLl9hc3NpZ24oXCJzZXRcIiwgYXR0cnMpO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIHRoZSBnaXZlbiBhdHRyaWJ1dGVzIHRvIHRoZSBkb2N1bWVudCBpZiB0aGV5IGFyZSBub3QgY3VycmVudGx5IHNldC4gRG9lcyBOT1QgbWVyZ2Ugb2JqZWN0cy5cbiAgICogVGhlIG9wZXJhdGlvbiBpcyBhZGRlZCB0byB0aGUgY3VycmVudCBwYXRjaCwgcmVhZHkgdG8gYmUgY29tbWl0ZWQgYnkgYGNvbW1pdCgpYFxuICAgKlxuICAgKiBAcGFyYW0gYXR0cnMgLSBBdHRyaWJ1dGVzIHRvIHNldC4gVG8gc2V0IGEgZGVlcCBhdHRyaWJ1dGUsIHVzZSBKU09OTWF0Y2gsIGVnOiBcXHtcIm5lc3RlZC5wcm9wXCI6IFwidmFsdWVcIlxcfVxuICAgKi9cbiAgc2V0SWZNaXNzaW5nKGF0dHJzKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Fzc2lnbihcInNldElmTWlzc2luZ1wiLCBhdHRycyk7XG4gIH1cbiAgLyoqXG4gICAqIFBlcmZvcm1zIGEgXCJkaWZmLW1hdGNoLXBhdGNoXCIgb3BlcmF0aW9uIG9uIHRoZSBzdHJpbmcgYXR0cmlidXRlcyBwcm92aWRlZC5cbiAgICogVGhlIG9wZXJhdGlvbiBpcyBhZGRlZCB0byB0aGUgY3VycmVudCBwYXRjaCwgcmVhZHkgdG8gYmUgY29tbWl0ZWQgYnkgYGNvbW1pdCgpYFxuICAgKlxuICAgKiBAcGFyYW0gYXR0cnMgLSBBdHRyaWJ1dGVzIHRvIHBlcmZvcm0gb3BlcmF0aW9uIG9uLiBUbyBzZXQgYSBkZWVwIGF0dHJpYnV0ZSwgdXNlIEpTT05NYXRjaCwgZWc6IFxce1wibmVzdGVkLnByb3BcIjogXCJkbXBcIlxcfVxuICAgKi9cbiAgZGlmZk1hdGNoUGF0Y2goYXR0cnMpIHtcbiAgICB2YWxpZGF0ZU9iamVjdChcImRpZmZNYXRjaFBhdGNoXCIsIGF0dHJzKTtcbiAgICByZXR1cm4gdGhpcy5fYXNzaWduKFwiZGlmZk1hdGNoUGF0Y2hcIiwgYXR0cnMpO1xuICB9XG4gIC8qKlxuICAgKiBVbnNldHMgdGhlIGF0dHJpYnV0ZSBwYXRocyBwcm92aWRlZC5cbiAgICogVGhlIG9wZXJhdGlvbiBpcyBhZGRlZCB0byB0aGUgY3VycmVudCBwYXRjaCwgcmVhZHkgdG8gYmUgY29tbWl0ZWQgYnkgYGNvbW1pdCgpYFxuICAgKlxuICAgKiBAcGFyYW0gYXR0cnMgLSBBdHRyaWJ1dGUgcGF0aHMgdG8gdW5zZXQuXG4gICAqL1xuICB1bnNldChhdHRycykge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShhdHRycykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInVuc2V0KGF0dHJzKSB0YWtlcyBhbiBhcnJheSBvZiBhdHRyaWJ1dGVzIHRvIHVuc2V0LCBub24tYXJyYXkgZ2l2ZW5cIik7XG4gICAgfVxuICAgIHRoaXMub3BlcmF0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMub3BlcmF0aW9ucywge1xuICAgICAgdW5zZXQ6IGF0dHJzXG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIEluY3JlbWVudCBhIG51bWVyaWMgdmFsdWUuIEVhY2ggZW50cnkgaW4gdGhlIGFyZ3VtZW50IGlzIGVpdGhlciBhbiBhdHRyaWJ1dGUgb3IgYSBKU09OIHBhdGguIFRoZSB2YWx1ZSBtYXkgYmUgYSBwb3NpdGl2ZSBvciBuZWdhdGl2ZSBpbnRlZ2VyIG9yIGZsb2F0aW5nLXBvaW50IHZhbHVlLiBUaGUgb3BlcmF0aW9uIHdpbGwgZmFpbCBpZiB0YXJnZXQgdmFsdWUgaXMgbm90IGEgbnVtZXJpYyB2YWx1ZSwgb3IgZG9lc24ndCBleGlzdC5cbiAgICpcbiAgICogQHBhcmFtIGF0dHJzIC0gT2JqZWN0IG9mIGF0dHJpYnV0ZSBwYXRocyB0byBpbmNyZW1lbnQsIHZhbHVlcyByZXByZXNlbnRpbmcgdGhlIG51bWJlciB0byBpbmNyZW1lbnQgYnkuXG4gICAqL1xuICBpbmMoYXR0cnMpIHtcbiAgICByZXR1cm4gdGhpcy5fYXNzaWduKFwiaW5jXCIsIGF0dHJzKTtcbiAgfVxuICAvKipcbiAgICogRGVjcmVtZW50IGEgbnVtZXJpYyB2YWx1ZS4gRWFjaCBlbnRyeSBpbiB0aGUgYXJndW1lbnQgaXMgZWl0aGVyIGFuIGF0dHJpYnV0ZSBvciBhIEpTT04gcGF0aC4gVGhlIHZhbHVlIG1heSBiZSBhIHBvc2l0aXZlIG9yIG5lZ2F0aXZlIGludGVnZXIgb3IgZmxvYXRpbmctcG9pbnQgdmFsdWUuIFRoZSBvcGVyYXRpb24gd2lsbCBmYWlsIGlmIHRhcmdldCB2YWx1ZSBpcyBub3QgYSBudW1lcmljIHZhbHVlLCBvciBkb2Vzbid0IGV4aXN0LlxuICAgKlxuICAgKiBAcGFyYW0gYXR0cnMgLSBPYmplY3Qgb2YgYXR0cmlidXRlIHBhdGhzIHRvIGRlY3JlbWVudCwgdmFsdWVzIHJlcHJlc2VudGluZyB0aGUgbnVtYmVyIHRvIGRlY3JlbWVudCBieS5cbiAgICovXG4gIGRlYyhhdHRycykge1xuICAgIHJldHVybiB0aGlzLl9hc3NpZ24oXCJkZWNcIiwgYXR0cnMpO1xuICB9XG4gIC8qKlxuICAgKiBQcm92aWRlcyBtZXRob2RzIGZvciBtb2RpZnlpbmcgYXJyYXlzLCBieSBpbnNlcnRpbmcsIGFwcGVuZGluZyBhbmQgcmVwbGFjaW5nIGVsZW1lbnRzIHZpYSBhIEpTT05QYXRoIGV4cHJlc3Npb24uXG4gICAqXG4gICAqIEBwYXJhbSBhdCAtIExvY2F0aW9uIHRvIGluc2VydCBhdCwgcmVsYXRpdmUgdG8gdGhlIGdpdmVuIHNlbGVjdG9yLCBvciAncmVwbGFjZScgdGhlIG1hdGNoZWQgcGF0aFxuICAgKiBAcGFyYW0gc2VsZWN0b3IgLSBKU09OUGF0aCBleHByZXNzaW9uLCBlZyBgY29tbWVudHNbLTFdYCBvciBgYmxvY2tzW19rZXk9PVwiYWJjMTIzXCJdYFxuICAgKiBAcGFyYW0gaXRlbXMgLSBBcnJheSBvZiBpdGVtcyB0byBpbnNlcnQvcmVwbGFjZVxuICAgKi9cbiAgaW5zZXJ0KGF0LCBzZWxlY3RvciwgaXRlbXMpIHtcbiAgICB2YWxpZGF0ZUluc2VydChhdCwgc2VsZWN0b3IsIGl0ZW1zKTtcbiAgICByZXR1cm4gdGhpcy5fYXNzaWduKFwiaW5zZXJ0XCIsIHtcbiAgICAgIFthdF06IHNlbGVjdG9yLFxuICAgICAgaXRlbXNcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQXBwZW5kIHRoZSBnaXZlbiBpdGVtcyB0byB0aGUgYXJyYXkgYXQgdGhlIGdpdmVuIEpTT05QYXRoXG4gICAqXG4gICAqIEBwYXJhbSBzZWxlY3RvciAtIEF0dHJpYnV0ZS9wYXRoIHRvIGFwcGVuZCB0bywgZWcgYGNvbW1lbnRzYCBvciBgcGVyc29uLmhvYmJpZXNgXG4gICAqIEBwYXJhbSBpdGVtcyAtIEFycmF5IG9mIGl0ZW1zIHRvIGFwcGVuZCB0byB0aGUgYXJyYXlcbiAgICovXG4gIGFwcGVuZChzZWxlY3RvciwgaXRlbXMpIHtcbiAgICByZXR1cm4gdGhpcy5pbnNlcnQoXCJhZnRlclwiLCBcIlwiLmNvbmNhdChzZWxlY3RvciwgXCJbLTFdXCIpLCBpdGVtcyk7XG4gIH1cbiAgLyoqXG4gICAqIFByZXBlbmQgdGhlIGdpdmVuIGl0ZW1zIHRvIHRoZSBhcnJheSBhdCB0aGUgZ2l2ZW4gSlNPTlBhdGhcbiAgICpcbiAgICogQHBhcmFtIHNlbGVjdG9yIC0gQXR0cmlidXRlL3BhdGggdG8gcHJlcGVuZCB0bywgZWcgYGNvbW1lbnRzYCBvciBgcGVyc29uLmhvYmJpZXNgXG4gICAqIEBwYXJhbSBpdGVtcyAtIEFycmF5IG9mIGl0ZW1zIHRvIHByZXBlbmQgdG8gdGhlIGFycmF5XG4gICAqL1xuICBwcmVwZW5kKHNlbGVjdG9yLCBpdGVtcykge1xuICAgIHJldHVybiB0aGlzLmluc2VydChcImJlZm9yZVwiLCBcIlwiLmNvbmNhdChzZWxlY3RvciwgXCJbMF1cIiksIGl0ZW1zKTtcbiAgfVxuICAvKipcbiAgICogQ2hhbmdlIHRoZSBjb250ZW50cyBvZiBhbiBhcnJheSBieSByZW1vdmluZyBleGlzdGluZyBlbGVtZW50cyBhbmQvb3IgYWRkaW5nIG5ldyBlbGVtZW50cy5cbiAgICpcbiAgICogQHBhcmFtIHNlbGVjdG9yIC0gQXR0cmlidXRlIG9yIEpTT05QYXRoIGV4cHJlc3Npb24gZm9yIGFycmF5XG4gICAqIEBwYXJhbSBzdGFydCAtIEluZGV4IGF0IHdoaWNoIHRvIHN0YXJ0IGNoYW5naW5nIHRoZSBhcnJheSAod2l0aCBvcmlnaW4gMCkuIElmIGdyZWF0ZXIgdGhhbiB0aGUgbGVuZ3RoIG9mIHRoZSBhcnJheSwgYWN0dWFsIHN0YXJ0aW5nIGluZGV4IHdpbGwgYmUgc2V0IHRvIHRoZSBsZW5ndGggb2YgdGhlIGFycmF5LiBJZiBuZWdhdGl2ZSwgd2lsbCBiZWdpbiB0aGF0IG1hbnkgZWxlbWVudHMgZnJvbSB0aGUgZW5kIG9mIHRoZSBhcnJheSAod2l0aCBvcmlnaW4gLTEpIGFuZCB3aWxsIGJlIHNldCB0byAwIGlmIGFic29sdXRlIHZhbHVlIGlzIGdyZWF0ZXIgdGhhbiB0aGUgbGVuZ3RoIG9mIHRoZSBhcnJheS54XG4gICAqIEBwYXJhbSBkZWxldGVDb3VudCAtIEFuIGludGVnZXIgaW5kaWNhdGluZyB0aGUgbnVtYmVyIG9mIG9sZCBhcnJheSBlbGVtZW50cyB0byByZW1vdmUuXG4gICAqIEBwYXJhbSBpdGVtcyAtIFRoZSBlbGVtZW50cyB0byBhZGQgdG8gdGhlIGFycmF5LCBiZWdpbm5pbmcgYXQgdGhlIHN0YXJ0IGluZGV4LiBJZiB5b3UgZG9uJ3Qgc3BlY2lmeSBhbnkgZWxlbWVudHMsIHNwbGljZSgpIHdpbGwgb25seSByZW1vdmUgZWxlbWVudHMgZnJvbSB0aGUgYXJyYXkuXG4gICAqL1xuICBzcGxpY2Uoc2VsZWN0b3IsIHN0YXJ0LCBkZWxldGVDb3VudCwgaXRlbXMpIHtcbiAgICBjb25zdCBkZWxBbGwgPSB0eXBlb2YgZGVsZXRlQ291bnQgPT09IFwidW5kZWZpbmVkXCIgfHwgZGVsZXRlQ291bnQgPT09IC0xO1xuICAgIGNvbnN0IHN0YXJ0SW5kZXggPSBzdGFydCA8IDAgPyBzdGFydCAtIDEgOiBzdGFydDtcbiAgICBjb25zdCBkZWxDb3VudCA9IGRlbEFsbCA/IC0xIDogTWF0aC5tYXgoMCwgc3RhcnQgKyBkZWxldGVDb3VudCk7XG4gICAgY29uc3QgZGVsUmFuZ2UgPSBzdGFydEluZGV4IDwgMCAmJiBkZWxDb3VudCA+PSAwID8gXCJcIiA6IGRlbENvdW50O1xuICAgIGNvbnN0IHJhbmdlU2VsZWN0b3IgPSBcIlwiLmNvbmNhdChzZWxlY3RvciwgXCJbXCIpLmNvbmNhdChzdGFydEluZGV4LCBcIjpcIikuY29uY2F0KGRlbFJhbmdlLCBcIl1cIik7XG4gICAgcmV0dXJuIHRoaXMuaW5zZXJ0KFwicmVwbGFjZVwiLCByYW5nZVNlbGVjdG9yLCBpdGVtcyB8fCBbXSk7XG4gIH1cbiAgLyoqXG4gICAqIEFkZHMgYSByZXZpc2lvbiBjbGF1c2UsIHByZXZlbnRpbmcgdGhlIGRvY3VtZW50IGZyb20gYmVpbmcgcGF0Y2hlZCBpZiB0aGUgYF9yZXZgIHByb3BlcnR5IGRvZXMgbm90IG1hdGNoIHRoZSBnaXZlbiB2YWx1ZVxuICAgKlxuICAgKiBAcGFyYW0gcmV2IC0gUmV2aXNpb24gdG8gbG9jayB0aGUgcGF0Y2ggdG9cbiAgICovXG4gIGlmUmV2aXNpb25JZChyZXYpIHtcbiAgICB0aGlzLm9wZXJhdGlvbnMuaWZSZXZpc2lvbklEID0gcmV2O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gYSBwbGFpbiBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBwYXRjaFxuICAgKi9cbiAgc2VyaWFsaXplKCkge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5nZXRTZWxlY3Rpb24odGhpcy5zZWxlY3Rpb24pLFxuICAgICAgLi4udGhpcy5vcGVyYXRpb25zXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIGEgcGxhaW4gSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgcGF0Y2hcbiAgICovXG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4gdGhpcy5zZXJpYWxpemUoKTtcbiAgfVxuICAvKipcbiAgICogQ2xlYXJzIHRoZSBwYXRjaCBvZiBhbGwgb3BlcmF0aW9uc1xuICAgKi9cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5vcGVyYXRpb25zID0ge307XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgX2Fzc2lnbihvcCwgcHJvcHMpIHtcbiAgICBsZXQgbWVyZ2UgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHRydWU7XG4gICAgdmFsaWRhdGVPYmplY3Qob3AsIHByb3BzKTtcbiAgICB0aGlzLm9wZXJhdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLm9wZXJhdGlvbnMsIHtcbiAgICAgIFtvcF06IE9iamVjdC5hc3NpZ24oe30sIG1lcmdlICYmIHRoaXMub3BlcmF0aW9uc1tvcF0gfHwge30sIHByb3BzKVxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIF9zZXQob3AsIHByb3BzKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Fzc2lnbihvcCwgcHJvcHMsIGZhbHNlKTtcbiAgfVxufVxuY29uc3QgX09ic2VydmFibGVQYXRjaCA9IGNsYXNzIF9PYnNlcnZhYmxlUGF0Y2ggZXh0ZW5kcyBCYXNlUGF0Y2gge1xuICBjb25zdHJ1Y3RvcihzZWxlY3Rpb24sIG9wZXJhdGlvbnMsIGNsaWVudCkge1xuICAgIHN1cGVyKHNlbGVjdGlvbiwgb3BlcmF0aW9ucyk7XG4gICAgX19wcml2YXRlQWRkJDYodGhpcywgX2NsaWVudCQ1LCB2b2lkIDApO1xuICAgIF9fcHJpdmF0ZVNldCQ2KHRoaXMsIF9jbGllbnQkNSwgY2xpZW50KTtcbiAgfVxuICAvKipcbiAgICogQ2xvbmVzIHRoZSBwYXRjaFxuICAgKi9cbiAgY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBfT2JzZXJ2YWJsZVBhdGNoKHRoaXMuc2VsZWN0aW9uLCB7XG4gICAgICAuLi50aGlzLm9wZXJhdGlvbnNcbiAgICB9LCBfX3ByaXZhdGVHZXQkNih0aGlzLCBfY2xpZW50JDUpKTtcbiAgfVxuICBjb21taXQob3B0aW9ucykge1xuICAgIGlmICghX19wcml2YXRlR2V0JDYodGhpcywgX2NsaWVudCQ1KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gYGNsaWVudGAgcGFzc2VkIHRvIHBhdGNoLCBlaXRoZXIgcHJvdmlkZSBvbmUgb3IgcGFzcyB0aGUgcGF0Y2ggdG8gYSBjbGllbnRzIGBtdXRhdGUoKWAgbWV0aG9kXCIpO1xuICAgIH1cbiAgICBjb25zdCByZXR1cm5GaXJzdCA9IHR5cGVvZiB0aGlzLnNlbGVjdGlvbiA9PT0gXCJzdHJpbmdcIjtcbiAgICBjb25zdCBvcHRzID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICByZXR1cm5GaXJzdCxcbiAgICAgIHJldHVybkRvY3VtZW50czogdHJ1ZVxuICAgIH0sIG9wdGlvbnMpO1xuICAgIHJldHVybiBfX3ByaXZhdGVHZXQkNih0aGlzLCBfY2xpZW50JDUpLm11dGF0ZSh7XG4gICAgICBwYXRjaDogdGhpcy5zZXJpYWxpemUoKVxuICAgIH0sIG9wdHMpO1xuICB9XG59O1xuX2NsaWVudCQ1ID0gbmV3IFdlYWtNYXAoKTtcbmxldCBPYnNlcnZhYmxlUGF0Y2ggPSBfT2JzZXJ2YWJsZVBhdGNoO1xuY29uc3QgX1BhdGNoID0gY2xhc3MgX1BhdGNoIGV4dGVuZHMgQmFzZVBhdGNoIHtcbiAgY29uc3RydWN0b3Ioc2VsZWN0aW9uLCBvcGVyYXRpb25zLCBjbGllbnQpIHtcbiAgICBzdXBlcihzZWxlY3Rpb24sIG9wZXJhdGlvbnMpO1xuICAgIF9fcHJpdmF0ZUFkZCQ2KHRoaXMsIF9jbGllbnQyJDUsIHZvaWQgMCk7XG4gICAgX19wcml2YXRlU2V0JDYodGhpcywgX2NsaWVudDIkNSwgY2xpZW50KTtcbiAgfVxuICAvKipcbiAgICogQ2xvbmVzIHRoZSBwYXRjaFxuICAgKi9cbiAgY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBfUGF0Y2godGhpcy5zZWxlY3Rpb24sIHtcbiAgICAgIC4uLnRoaXMub3BlcmF0aW9uc1xuICAgIH0sIF9fcHJpdmF0ZUdldCQ2KHRoaXMsIF9jbGllbnQyJDUpKTtcbiAgfVxuICBjb21taXQob3B0aW9ucykge1xuICAgIGlmICghX19wcml2YXRlR2V0JDYodGhpcywgX2NsaWVudDIkNSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGBjbGllbnRgIHBhc3NlZCB0byBwYXRjaCwgZWl0aGVyIHByb3ZpZGUgb25lIG9yIHBhc3MgdGhlIHBhdGNoIHRvIGEgY2xpZW50cyBgbXV0YXRlKClgIG1ldGhvZFwiKTtcbiAgICB9XG4gICAgY29uc3QgcmV0dXJuRmlyc3QgPSB0eXBlb2YgdGhpcy5zZWxlY3Rpb24gPT09IFwic3RyaW5nXCI7XG4gICAgY29uc3Qgb3B0cyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgcmV0dXJuRmlyc3QsXG4gICAgICByZXR1cm5Eb2N1bWVudHM6IHRydWVcbiAgICB9LCBvcHRpb25zKTtcbiAgICByZXR1cm4gX19wcml2YXRlR2V0JDYodGhpcywgX2NsaWVudDIkNSkubXV0YXRlKHtcbiAgICAgIHBhdGNoOiB0aGlzLnNlcmlhbGl6ZSgpXG4gICAgfSwgb3B0cyk7XG4gIH1cbn07XG5fY2xpZW50MiQ1ID0gbmV3IFdlYWtNYXAoKTtcbmxldCBQYXRjaCA9IF9QYXRjaDtcbnZhciBfX2FjY2Vzc0NoZWNrJDUgPSAob2JqLCBtZW1iZXIsIG1zZykgPT4ge1xuICBpZiAoIW1lbWJlci5oYXMob2JqKSkgdGhyb3cgVHlwZUVycm9yKFwiQ2Fubm90IFwiICsgbXNnKTtcbn07XG52YXIgX19wcml2YXRlR2V0JDUgPSAob2JqLCBtZW1iZXIsIGdldHRlcikgPT4ge1xuICBfX2FjY2Vzc0NoZWNrJDUob2JqLCBtZW1iZXIsIFwicmVhZCBmcm9tIHByaXZhdGUgZmllbGRcIik7XG4gIHJldHVybiBnZXR0ZXIgPyBnZXR0ZXIuY2FsbChvYmopIDogbWVtYmVyLmdldChvYmopO1xufTtcbnZhciBfX3ByaXZhdGVBZGQkNSA9IChvYmosIG1lbWJlciwgdmFsdWUpID0+IHtcbiAgaWYgKG1lbWJlci5oYXMob2JqKSkgdGhyb3cgVHlwZUVycm9yKFwiQ2Fubm90IGFkZCB0aGUgc2FtZSBwcml2YXRlIG1lbWJlciBtb3JlIHRoYW4gb25jZVwiKTtcbiAgbWVtYmVyIGluc3RhbmNlb2YgV2Vha1NldCA/IG1lbWJlci5hZGQob2JqKSA6IG1lbWJlci5zZXQob2JqLCB2YWx1ZSk7XG59O1xudmFyIF9fcHJpdmF0ZVNldCQ1ID0gKG9iaiwgbWVtYmVyLCB2YWx1ZSwgc2V0dGVyKSA9PiB7XG4gIF9fYWNjZXNzQ2hlY2skNShvYmosIG1lbWJlciwgXCJ3cml0ZSB0byBwcml2YXRlIGZpZWxkXCIpO1xuICBzZXR0ZXIgPyBzZXR0ZXIuY2FsbChvYmosIHZhbHVlKSA6IG1lbWJlci5zZXQob2JqLCB2YWx1ZSk7XG4gIHJldHVybiB2YWx1ZTtcbn07XG52YXIgX2NsaWVudCQ0LCBfY2xpZW50MiQ0O1xuY29uc3QgZGVmYXVsdE11dGF0ZU9wdGlvbnMgPSB7XG4gIHJldHVybkRvY3VtZW50czogZmFsc2Vcbn07XG5jbGFzcyBCYXNlVHJhbnNhY3Rpb24ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBsZXQgb3BlcmF0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogW107XG4gICAgbGV0IHRyYW5zYWN0aW9uSWQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDtcbiAgICB0aGlzLm9wZXJhdGlvbnMgPSBvcGVyYXRpb25zO1xuICAgIHRoaXMudHJ4SWQgPSB0cmFuc2FjdGlvbklkO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IFNhbml0eSBkb2N1bWVudC4gSWYgYF9pZGAgaXMgcHJvdmlkZWQgYW5kIGFscmVhZHkgZXhpc3RzLCB0aGUgbXV0YXRpb24gd2lsbCBmYWlsLiBJZiBubyBgX2lkYCBpcyBnaXZlbiwgb25lIHdpbGwgYXV0b21hdGljYWxseSBiZSBnZW5lcmF0ZWQgYnkgdGhlIGRhdGFiYXNlLlxuICAgKiBUaGUgb3BlcmF0aW9uIGlzIGFkZGVkIHRvIHRoZSBjdXJyZW50IHRyYW5zYWN0aW9uLCByZWFkeSB0byBiZSBjb21taXRlZCBieSBgY29tbWl0KClgXG4gICAqXG4gICAqIEBwYXJhbSBkb2MgLSBEb2N1bWVudCB0byBjcmVhdGUuIFJlcXVpcmVzIGEgYF90eXBlYCBwcm9wZXJ0eS5cbiAgICovXG4gIGNyZWF0ZShkb2MpIHtcbiAgICB2YWxpZGF0ZU9iamVjdChcImNyZWF0ZVwiLCBkb2MpO1xuICAgIHJldHVybiB0aGlzLl9hZGQoe1xuICAgICAgY3JlYXRlOiBkb2NcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBTYW5pdHkgZG9jdW1lbnQuIElmIGEgZG9jdW1lbnQgd2l0aCB0aGUgc2FtZSBgX2lkYCBhbHJlYWR5IGV4aXN0cywgdGhlIGNyZWF0ZSBvcGVyYXRpb24gd2lsbCBiZSBpZ25vcmVkLlxuICAgKiBUaGUgb3BlcmF0aW9uIGlzIGFkZGVkIHRvIHRoZSBjdXJyZW50IHRyYW5zYWN0aW9uLCByZWFkeSB0byBiZSBjb21taXRlZCBieSBgY29tbWl0KClgXG4gICAqXG4gICAqIEBwYXJhbSBkb2MgLSBEb2N1bWVudCB0byBjcmVhdGUgaWYgaXQgZG9lcyBub3QgYWxyZWFkeSBleGlzdC4gUmVxdWlyZXMgYF9pZGAgYW5kIGBfdHlwZWAgcHJvcGVydGllcy5cbiAgICovXG4gIGNyZWF0ZUlmTm90RXhpc3RzKGRvYykge1xuICAgIGNvbnN0IG9wID0gXCJjcmVhdGVJZk5vdEV4aXN0c1wiO1xuICAgIHZhbGlkYXRlT2JqZWN0KG9wLCBkb2MpO1xuICAgIHJlcXVpcmVEb2N1bWVudElkKG9wLCBkb2MpO1xuICAgIHJldHVybiB0aGlzLl9hZGQoe1xuICAgICAgW29wXTogZG9jXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgU2FuaXR5IGRvY3VtZW50LCBvciByZXBsYWNlcyBhbiBleGlzdGluZyBvbmUgaWYgdGhlIHNhbWUgYF9pZGAgaXMgYWxyZWFkeSB1c2VkLlxuICAgKiBUaGUgb3BlcmF0aW9uIGlzIGFkZGVkIHRvIHRoZSBjdXJyZW50IHRyYW5zYWN0aW9uLCByZWFkeSB0byBiZSBjb21taXRlZCBieSBgY29tbWl0KClgXG4gICAqXG4gICAqIEBwYXJhbSBkb2MgLSBEb2N1bWVudCB0byBjcmVhdGUgb3IgcmVwbGFjZS4gUmVxdWlyZXMgYF9pZGAgYW5kIGBfdHlwZWAgcHJvcGVydGllcy5cbiAgICovXG4gIGNyZWF0ZU9yUmVwbGFjZShkb2MpIHtcbiAgICBjb25zdCBvcCA9IFwiY3JlYXRlT3JSZXBsYWNlXCI7XG4gICAgdmFsaWRhdGVPYmplY3Qob3AsIGRvYyk7XG4gICAgcmVxdWlyZURvY3VtZW50SWQob3AsIGRvYyk7XG4gICAgcmV0dXJuIHRoaXMuX2FkZCh7XG4gICAgICBbb3BdOiBkb2NcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogRGVsZXRlcyB0aGUgZG9jdW1lbnQgd2l0aCB0aGUgZ2l2ZW4gZG9jdW1lbnQgSURcbiAgICogVGhlIG9wZXJhdGlvbiBpcyBhZGRlZCB0byB0aGUgY3VycmVudCB0cmFuc2FjdGlvbiwgcmVhZHkgdG8gYmUgY29tbWl0ZWQgYnkgYGNvbW1pdCgpYFxuICAgKlxuICAgKiBAcGFyYW0gZG9jdW1lbnRJZCAtIERvY3VtZW50IElEIHRvIGRlbGV0ZVxuICAgKi9cbiAgZGVsZXRlKGRvY3VtZW50SWQpIHtcbiAgICB2YWxpZGF0ZURvY3VtZW50SWQoXCJkZWxldGVcIiwgZG9jdW1lbnRJZCk7XG4gICAgcmV0dXJuIHRoaXMuX2FkZCh7XG4gICAgICBkZWxldGU6IHtcbiAgICAgICAgaWQ6IGRvY3VtZW50SWRcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICB0cmFuc2FjdGlvbklkKGlkKSB7XG4gICAgaWYgKCFpZCkge1xuICAgICAgcmV0dXJuIHRoaXMudHJ4SWQ7XG4gICAgfVxuICAgIHRoaXMudHJ4SWQgPSBpZDtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIGEgcGxhaW4gSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgdHJhbnNhY3Rpb25cbiAgICovXG4gIHNlcmlhbGl6ZSgpIHtcbiAgICByZXR1cm4gWy4uLnRoaXMub3BlcmF0aW9uc107XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBhIHBsYWluIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIHRyYW5zYWN0aW9uXG4gICAqL1xuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHRoaXMuc2VyaWFsaXplKCk7XG4gIH1cbiAgLyoqXG4gICAqIENsZWFycyB0aGUgdHJhbnNhY3Rpb24gb2YgYWxsIG9wZXJhdGlvbnNcbiAgICovXG4gIHJlc2V0KCkge1xuICAgIHRoaXMub3BlcmF0aW9ucyA9IFtdO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIF9hZGQobXV0KSB7XG4gICAgdGhpcy5vcGVyYXRpb25zLnB1c2gobXV0KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuY29uc3QgX1RyYW5zYWN0aW9uID0gY2xhc3MgX1RyYW5zYWN0aW9uIGV4dGVuZHMgQmFzZVRyYW5zYWN0aW9uIHtcbiAgY29uc3RydWN0b3Iob3BlcmF0aW9ucywgY2xpZW50LCB0cmFuc2FjdGlvbklkKSB7XG4gICAgc3VwZXIob3BlcmF0aW9ucywgdHJhbnNhY3Rpb25JZCk7XG4gICAgX19wcml2YXRlQWRkJDUodGhpcywgX2NsaWVudCQ0LCB2b2lkIDApO1xuICAgIF9fcHJpdmF0ZVNldCQ1KHRoaXMsIF9jbGllbnQkNCwgY2xpZW50KTtcbiAgfVxuICAvKipcbiAgICogQ2xvbmVzIHRoZSB0cmFuc2FjdGlvblxuICAgKi9cbiAgY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBfVHJhbnNhY3Rpb24oWy4uLnRoaXMub3BlcmF0aW9uc10sIF9fcHJpdmF0ZUdldCQ1KHRoaXMsIF9jbGllbnQkNCksIHRoaXMudHJ4SWQpO1xuICB9XG4gIGNvbW1pdChvcHRpb25zKSB7XG4gICAgaWYgKCFfX3ByaXZhdGVHZXQkNSh0aGlzLCBfY2xpZW50JDQpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBgY2xpZW50YCBwYXNzZWQgdG8gdHJhbnNhY3Rpb24sIGVpdGhlciBwcm92aWRlIG9uZSBvciBwYXNzIHRoZSB0cmFuc2FjdGlvbiB0byBhIGNsaWVudHMgYG11dGF0ZSgpYCBtZXRob2RcIik7XG4gICAgfVxuICAgIHJldHVybiBfX3ByaXZhdGVHZXQkNSh0aGlzLCBfY2xpZW50JDQpLm11dGF0ZSh0aGlzLnNlcmlhbGl6ZSgpLCBPYmplY3QuYXNzaWduKHtcbiAgICAgIHRyYW5zYWN0aW9uSWQ6IHRoaXMudHJ4SWRcbiAgICB9LCBkZWZhdWx0TXV0YXRlT3B0aW9ucywgb3B0aW9ucyB8fCB7fSkpO1xuICB9XG4gIHBhdGNoKHBhdGNoT3JEb2N1bWVudElkLCBwYXRjaE9wcykge1xuICAgIGNvbnN0IGlzQnVpbGRlciA9IHR5cGVvZiBwYXRjaE9wcyA9PT0gXCJmdW5jdGlvblwiO1xuICAgIGNvbnN0IGlzUGF0Y2ggPSB0eXBlb2YgcGF0Y2hPckRvY3VtZW50SWQgIT09IFwic3RyaW5nXCIgJiYgcGF0Y2hPckRvY3VtZW50SWQgaW5zdGFuY2VvZiBQYXRjaDtcbiAgICBpZiAoaXNQYXRjaCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2FkZCh7XG4gICAgICAgIHBhdGNoOiBwYXRjaE9yRG9jdW1lbnRJZC5zZXJpYWxpemUoKVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpc0J1aWxkZXIpIHtcbiAgICAgIGNvbnN0IHBhdGNoID0gcGF0Y2hPcHMobmV3IFBhdGNoKHBhdGNoT3JEb2N1bWVudElkLCB7fSwgX19wcml2YXRlR2V0JDUodGhpcywgX2NsaWVudCQ0KSkpO1xuICAgICAgaWYgKCEocGF0Y2ggaW5zdGFuY2VvZiBQYXRjaCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZnVuY3Rpb24gcGFzc2VkIHRvIGBwYXRjaCgpYCBtdXN0IHJldHVybiB0aGUgcGF0Y2hcIik7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5fYWRkKHtcbiAgICAgICAgcGF0Y2g6IHBhdGNoLnNlcmlhbGl6ZSgpXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2FkZCh7XG4gICAgICBwYXRjaDoge1xuICAgICAgICBpZDogcGF0Y2hPckRvY3VtZW50SWQsXG4gICAgICAgIC4uLnBhdGNoT3BzXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn07XG5fY2xpZW50JDQgPSBuZXcgV2Vha01hcCgpO1xubGV0IFRyYW5zYWN0aW9uID0gX1RyYW5zYWN0aW9uO1xuY29uc3QgX09ic2VydmFibGVUcmFuc2FjdGlvbiA9IGNsYXNzIF9PYnNlcnZhYmxlVHJhbnNhY3Rpb24gZXh0ZW5kcyBCYXNlVHJhbnNhY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihvcGVyYXRpb25zLCBjbGllbnQsIHRyYW5zYWN0aW9uSWQpIHtcbiAgICBzdXBlcihvcGVyYXRpb25zLCB0cmFuc2FjdGlvbklkKTtcbiAgICBfX3ByaXZhdGVBZGQkNSh0aGlzLCBfY2xpZW50MiQ0LCB2b2lkIDApO1xuICAgIF9fcHJpdmF0ZVNldCQ1KHRoaXMsIF9jbGllbnQyJDQsIGNsaWVudCk7XG4gIH1cbiAgLyoqXG4gICAqIENsb25lcyB0aGUgdHJhbnNhY3Rpb25cbiAgICovXG4gIGNsb25lKCkge1xuICAgIHJldHVybiBuZXcgX09ic2VydmFibGVUcmFuc2FjdGlvbihbLi4udGhpcy5vcGVyYXRpb25zXSwgX19wcml2YXRlR2V0JDUodGhpcywgX2NsaWVudDIkNCksIHRoaXMudHJ4SWQpO1xuICB9XG4gIGNvbW1pdChvcHRpb25zKSB7XG4gICAgaWYgKCFfX3ByaXZhdGVHZXQkNSh0aGlzLCBfY2xpZW50MiQ0KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gYGNsaWVudGAgcGFzc2VkIHRvIHRyYW5zYWN0aW9uLCBlaXRoZXIgcHJvdmlkZSBvbmUgb3IgcGFzcyB0aGUgdHJhbnNhY3Rpb24gdG8gYSBjbGllbnRzIGBtdXRhdGUoKWAgbWV0aG9kXCIpO1xuICAgIH1cbiAgICByZXR1cm4gX19wcml2YXRlR2V0JDUodGhpcywgX2NsaWVudDIkNCkubXV0YXRlKHRoaXMuc2VyaWFsaXplKCksIE9iamVjdC5hc3NpZ24oe1xuICAgICAgdHJhbnNhY3Rpb25JZDogdGhpcy50cnhJZFxuICAgIH0sIGRlZmF1bHRNdXRhdGVPcHRpb25zLCBvcHRpb25zIHx8IHt9KSk7XG4gIH1cbiAgcGF0Y2gocGF0Y2hPckRvY3VtZW50SWQsIHBhdGNoT3BzKSB7XG4gICAgY29uc3QgaXNCdWlsZGVyID0gdHlwZW9mIHBhdGNoT3BzID09PSBcImZ1bmN0aW9uXCI7XG4gICAgY29uc3QgaXNQYXRjaCA9IHR5cGVvZiBwYXRjaE9yRG9jdW1lbnRJZCAhPT0gXCJzdHJpbmdcIiAmJiBwYXRjaE9yRG9jdW1lbnRJZCBpbnN0YW5jZW9mIE9ic2VydmFibGVQYXRjaDtcbiAgICBpZiAoaXNQYXRjaCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2FkZCh7XG4gICAgICAgIHBhdGNoOiBwYXRjaE9yRG9jdW1lbnRJZC5zZXJpYWxpemUoKVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpc0J1aWxkZXIpIHtcbiAgICAgIGNvbnN0IHBhdGNoID0gcGF0Y2hPcHMobmV3IE9ic2VydmFibGVQYXRjaChwYXRjaE9yRG9jdW1lbnRJZCwge30sIF9fcHJpdmF0ZUdldCQ1KHRoaXMsIF9jbGllbnQyJDQpKSk7XG4gICAgICBpZiAoIShwYXRjaCBpbnN0YW5jZW9mIE9ic2VydmFibGVQYXRjaCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZnVuY3Rpb24gcGFzc2VkIHRvIGBwYXRjaCgpYCBtdXN0IHJldHVybiB0aGUgcGF0Y2hcIik7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5fYWRkKHtcbiAgICAgICAgcGF0Y2g6IHBhdGNoLnNlcmlhbGl6ZSgpXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2FkZCh7XG4gICAgICBwYXRjaDoge1xuICAgICAgICBpZDogcGF0Y2hPckRvY3VtZW50SWQsXG4gICAgICAgIC4uLnBhdGNoT3BzXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn07XG5fY2xpZW50MiQ0ID0gbmV3IFdlYWtNYXAoKTtcbmxldCBPYnNlcnZhYmxlVHJhbnNhY3Rpb24gPSBfT2JzZXJ2YWJsZVRyYW5zYWN0aW9uO1xuY29uc3QgQkFTRV9VUkwgPSBcImh0dHBzOi8vd3d3LnNhbml0eS5pby9oZWxwL1wiO1xuZnVuY3Rpb24gZ2VuZXJhdGVIZWxwVXJsKHNsdWcpIHtcbiAgcmV0dXJuIEJBU0VfVVJMICsgc2x1Zztcbn1cbmZ1bmN0aW9uIG9uY2UoZm4pIHtcbiAgbGV0IGRpZENhbGwgPSBmYWxzZTtcbiAgbGV0IHJldHVyblZhbHVlO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGlmIChkaWRDYWxsKSB7XG4gICAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG4gICAgfVxuICAgIHJldHVyblZhbHVlID0gZm4oLi4uYXJndW1lbnRzKTtcbiAgICBkaWRDYWxsID0gdHJ1ZTtcbiAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG4gIH07XG59XG5jb25zdCBjcmVhdGVXYXJuaW5nUHJpbnRlciA9IG1lc3NhZ2UgPT5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG5vbmNlKGZ1bmN0aW9uICgpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuICByZXR1cm4gY29uc29sZS53YXJuKG1lc3NhZ2Uuam9pbihcIiBcIiksIC4uLmFyZ3MpO1xufSk7XG5jb25zdCBwcmludENkbldhcm5pbmcgPSBjcmVhdGVXYXJuaW5nUHJpbnRlcihbXCJTaW5jZSB5b3UgaGF2ZW4ndCBzZXQgYSB2YWx1ZSBmb3IgYHVzZUNkbmAsIHdlIHdpbGwgZGVsaXZlciBjb250ZW50IHVzaW5nIG91clwiLCBcImdsb2JhbCwgZWRnZS1jYWNoZWQgQVBJLUNETi4gSWYgeW91IHdpc2ggdG8gaGF2ZSBjb250ZW50IGRlbGl2ZXJlZCBmYXN0ZXIsIHNldFwiLCBcImB1c2VDZG46IGZhbHNlYCB0byB1c2UgdGhlIExpdmUgQVBJLiBOb3RlOiBZb3UgbWF5IGluY3VyIGhpZ2hlciBjb3N0cyB1c2luZyB0aGUgbGl2ZSBBUEkuXCJdKTtcbmNvbnN0IHByaW50Q2RuUHJldmlld0RyYWZ0c1dhcm5pbmcgPSBjcmVhdGVXYXJuaW5nUHJpbnRlcihbXCJUaGUgU2FuaXR5IGNsaWVudCBpcyBjb25maWd1cmVkIHdpdGggdGhlIGBwZXJzcGVjdGl2ZWAgc2V0IHRvIGBwcmV2aWV3RHJhZnRzYCwgd2hpY2ggZG9lc24ndCBzdXBwb3J0IHRoZSBBUEktQ0ROLlwiLCBcIlRoZSBMaXZlIEFQSSB3aWxsIGJlIHVzZWQgaW5zdGVhZC4gU2V0IGB1c2VDZG46IGZhbHNlYCBpbiB5b3VyIGNvbmZpZ3VyYXRpb24gdG8gaGlkZSB0aGlzIHdhcm5pbmcuXCJdKTtcbmNvbnN0IHByaW50QnJvd3NlclRva2VuV2FybmluZyA9IGNyZWF0ZVdhcm5pbmdQcmludGVyKFtcIllvdSBoYXZlIGNvbmZpZ3VyZWQgU2FuaXR5IGNsaWVudCB0byB1c2UgYSB0b2tlbiBpbiB0aGUgYnJvd3Nlci4gVGhpcyBtYXkgY2F1c2UgdW5pbnRlbnRpb25hbCBzZWN1cml0eSBpc3N1ZXMuXCIsIFwiU2VlIFwiLmNvbmNhdChnZW5lcmF0ZUhlbHBVcmwoXCJqcy1jbGllbnQtYnJvd3Nlci10b2tlblwiKSwgXCIgZm9yIG1vcmUgaW5mb3JtYXRpb24gYW5kIGhvdyB0byBoaWRlIHRoaXMgd2FybmluZy5cIildKTtcbmNvbnN0IHByaW50Tm9BcGlWZXJzaW9uU3BlY2lmaWVkV2FybmluZyA9IGNyZWF0ZVdhcm5pbmdQcmludGVyKFtcIlVzaW5nIHRoZSBTYW5pdHkgY2xpZW50IHdpdGhvdXQgc3BlY2lmeWluZyBhbiBBUEkgdmVyc2lvbiBpcyBkZXByZWNhdGVkLlwiLCBcIlNlZSBcIi5jb25jYXQoZ2VuZXJhdGVIZWxwVXJsKFwianMtY2xpZW50LWFwaS12ZXJzaW9uXCIpKV0pO1xuY29uc3QgcHJpbnROb0RlZmF1bHRFeHBvcnQgPSBjcmVhdGVXYXJuaW5nUHJpbnRlcihbXCJUaGUgZGVmYXVsdCBleHBvcnQgb2YgQHNhbml0eS9jbGllbnQgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIHRoZSBuYW1lZCBleHBvcnQgYGNyZWF0ZUNsaWVudGAgaW5zdGVhZC5cIl0pO1xuY29uc3QgZGVmYXVsdENkbkhvc3QgPSBcImFwaWNkbi5zYW5pdHkuaW9cIjtcbmNvbnN0IGRlZmF1bHRDb25maWcgPSB7XG4gIGFwaUhvc3Q6IFwiaHR0cHM6Ly9hcGkuc2FuaXR5LmlvXCIsXG4gIGFwaVZlcnNpb246IFwiMVwiLFxuICB1c2VQcm9qZWN0SG9zdG5hbWU6IHRydWVcbn07XG5jb25zdCBMT0NBTEhPU1RTID0gW1wibG9jYWxob3N0XCIsIFwiMTI3LjAuMC4xXCIsIFwiMC4wLjAuMFwiXTtcbmNvbnN0IGlzTG9jYWwgPSBob3N0ID0+IExPQ0FMSE9TVFMuaW5kZXhPZihob3N0KSAhPT0gLTE7XG5jb25zdCB2YWxpZGF0ZUFwaVZlcnNpb24gPSBmdW5jdGlvbiB2YWxpZGF0ZUFwaVZlcnNpb24yKGFwaVZlcnNpb24pIHtcbiAgaWYgKGFwaVZlcnNpb24gPT09IFwiMVwiIHx8IGFwaVZlcnNpb24gPT09IFwiWFwiKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IGFwaURhdGUgPSBuZXcgRGF0ZShhcGlWZXJzaW9uKTtcbiAgY29uc3QgYXBpVmVyc2lvblZhbGlkID0gL15cXGR7NH0tXFxkezJ9LVxcZHsyfSQvLnRlc3QoYXBpVmVyc2lvbikgJiYgYXBpRGF0ZSBpbnN0YW5jZW9mIERhdGUgJiYgYXBpRGF0ZS5nZXRUaW1lKCkgPiAwO1xuICBpZiAoIWFwaVZlcnNpb25WYWxpZCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgQVBJIHZlcnNpb24gc3RyaW5nLCBleHBlY3RlZCBgMWAgb3IgZGF0ZSBpbiBmb3JtYXQgYFlZWVktTU0tRERgXCIpO1xuICB9XG59O1xuY29uc3QgdmFsaWRhdGVBcGlQZXJzcGVjdGl2ZSA9IGZ1bmN0aW9uIHZhbGlkYXRlQXBpUGVyc3BlY3RpdmUyKHBlcnNwZWN0aXZlKSB7XG4gIHN3aXRjaCAocGVyc3BlY3RpdmUpIHtcbiAgICBjYXNlIFwicHJldmlld0RyYWZ0c1wiOlxuICAgIGNhc2UgXCJwdWJsaXNoZWRcIjpcbiAgICBjYXNlIFwicmF3XCI6XG4gICAgICByZXR1cm47XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIEFQSSBwZXJzcGVjdGl2ZSBzdHJpbmcsIGV4cGVjdGVkIGBwdWJsaXNoZWRgLCBgcHJldmlld0RyYWZ0c2Agb3IgYHJhd2BcIik7XG4gIH1cbn07XG5jb25zdCBpbml0Q29uZmlnID0gKGNvbmZpZywgcHJldkNvbmZpZykgPT4ge1xuICBjb25zdCBzcGVjaWZpZWRDb25maWcgPSBPYmplY3QuYXNzaWduKHt9LCBwcmV2Q29uZmlnLCBjb25maWcpO1xuICBpZiAoIXNwZWNpZmllZENvbmZpZy5hcGlWZXJzaW9uKSB7XG4gICAgcHJpbnROb0FwaVZlcnNpb25TcGVjaWZpZWRXYXJuaW5nKCk7XG4gIH1cbiAgY29uc3QgbmV3Q29uZmlnID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdENvbmZpZywgc3BlY2lmaWVkQ29uZmlnKTtcbiAgY29uc3QgcHJvamVjdEJhc2VkID0gbmV3Q29uZmlnLnVzZVByb2plY3RIb3N0bmFtZTtcbiAgaWYgKHR5cGVvZiBQcm9taXNlID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgY29uc3QgaGVscFVybCA9IGdlbmVyYXRlSGVscFVybChcImpzLWNsaWVudC1wcm9taXNlLXBvbHlmaWxsXCIpO1xuICAgIHRocm93IG5ldyBFcnJvcihcIk5vIG5hdGl2ZSBQcm9taXNlLWltcGxlbWVudGF0aW9uIGZvdW5kLCBwb2x5ZmlsbCBuZWVkZWQgLSBzZWUgXCIuY29uY2F0KGhlbHBVcmwpKTtcbiAgfVxuICBpZiAocHJvamVjdEJhc2VkICYmICFuZXdDb25maWcucHJvamVjdElkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ29uZmlndXJhdGlvbiBtdXN0IGNvbnRhaW4gYHByb2plY3RJZGBcIik7XG4gIH1cbiAgaWYgKHR5cGVvZiBuZXdDb25maWcucGVyc3BlY3RpdmUgPT09IFwic3RyaW5nXCIpIHtcbiAgICB2YWxpZGF0ZUFwaVBlcnNwZWN0aXZlKG5ld0NvbmZpZy5wZXJzcGVjdGl2ZSk7XG4gIH1cbiAgaWYgKFwiZW5jb2RlU291cmNlTWFwQXRQYXRoXCIgaW4gbmV3Q29uZmlnIHx8IFwiZW5jb2RlU291cmNlTWFwXCIgaW4gbmV3Q29uZmlnIHx8IFwic3R1ZGlvVXJsXCIgaW4gbmV3Q29uZmlnIHx8IFwibG9nZ2VyXCIgaW4gbmV3Q29uZmlnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSXQgbG9va3MgbGlrZSB5b3UncmUgdXNpbmcgb3B0aW9ucyBtZWFudCBmb3IgJ0BzYW5pdHkvcHJldmlldy1raXQvY2xpZW50Jywgc3VjaCBhcyAnZW5jb2RlU291cmNlTWFwQXRQYXRoJywgJ2VuY29kZVNvdXJjZU1hcCcsICdzdHVkaW9VcmwnIGFuZCAnbG9nZ2VyJy4gTWFrZSBzdXJlIHlvdSdyZSB1c2luZyB0aGUgcmlnaHQgaW1wb3J0LlwiKTtcbiAgfVxuICBpZiAoXCJzdGVnYVwiIGluIG5ld0NvbmZpZyAmJiBuZXdDb25maWdbXCJzdGVnYVwiXSAhPT0gdm9pZCAwICYmIG5ld0NvbmZpZ1tcInN0ZWdhXCJdICE9PSBmYWxzZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkl0IGxvb2tzIGxpa2UgeW91J3JlIHVzaW5nIG9wdGlvbnMgbWVhbnQgZm9yICdAc2FuaXR5L2NsaWVudC9zdGVnYScuIE1ha2Ugc3VyZSB5b3UncmUgdXNpbmcgdGhlIHJpZ2h0IGltcG9ydC4gT3Igc2V0ICdzdGVnYScgaW4gJ2NyZWF0ZUNsaWVudCcgdG8gJ2ZhbHNlJy5cIik7XG4gIH1cbiAgY29uc3QgaXNCcm93c2VyID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cubG9jYXRpb24gJiYgd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lO1xuICBjb25zdCBpc0xvY2FsaG9zdCA9IGlzQnJvd3NlciAmJiBpc0xvY2FsKHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSk7XG4gIGlmIChpc0Jyb3dzZXIgJiYgaXNMb2NhbGhvc3QgJiYgbmV3Q29uZmlnLnRva2VuICYmIG5ld0NvbmZpZy5pZ25vcmVCcm93c2VyVG9rZW5XYXJuaW5nICE9PSB0cnVlKSB7XG4gICAgcHJpbnRCcm93c2VyVG9rZW5XYXJuaW5nKCk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIG5ld0NvbmZpZy51c2VDZG4gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBwcmludENkbldhcm5pbmcoKTtcbiAgfVxuICBpZiAocHJvamVjdEJhc2VkKSB7XG4gICAgcHJvamVjdElkKG5ld0NvbmZpZy5wcm9qZWN0SWQpO1xuICB9XG4gIGlmIChuZXdDb25maWcuZGF0YXNldCkge1xuICAgIGRhdGFzZXQobmV3Q29uZmlnLmRhdGFzZXQpO1xuICB9XG4gIGlmIChcInJlcXVlc3RUYWdQcmVmaXhcIiBpbiBuZXdDb25maWcpIHtcbiAgICBuZXdDb25maWcucmVxdWVzdFRhZ1ByZWZpeCA9IG5ld0NvbmZpZy5yZXF1ZXN0VGFnUHJlZml4ID8gcmVxdWVzdFRhZyhuZXdDb25maWcucmVxdWVzdFRhZ1ByZWZpeCkucmVwbGFjZSgvXFwuKyQvLCBcIlwiKSA6IHZvaWQgMDtcbiAgfVxuICBuZXdDb25maWcuYXBpVmVyc2lvbiA9IFwiXCIuY29uY2F0KG5ld0NvbmZpZy5hcGlWZXJzaW9uKS5yZXBsYWNlKC9edi8sIFwiXCIpO1xuICBuZXdDb25maWcuaXNEZWZhdWx0QXBpID0gbmV3Q29uZmlnLmFwaUhvc3QgPT09IGRlZmF1bHRDb25maWcuYXBpSG9zdDtcbiAgbmV3Q29uZmlnLnVzZUNkbiA9IG5ld0NvbmZpZy51c2VDZG4gIT09IGZhbHNlICYmICFuZXdDb25maWcud2l0aENyZWRlbnRpYWxzO1xuICB2YWxpZGF0ZUFwaVZlcnNpb24obmV3Q29uZmlnLmFwaVZlcnNpb24pO1xuICBjb25zdCBob3N0UGFydHMgPSBuZXdDb25maWcuYXBpSG9zdC5zcGxpdChcIjovL1wiLCAyKTtcbiAgY29uc3QgcHJvdG9jb2wgPSBob3N0UGFydHNbMF07XG4gIGNvbnN0IGhvc3QgPSBob3N0UGFydHNbMV07XG4gIGNvbnN0IGNkbkhvc3QgPSBuZXdDb25maWcuaXNEZWZhdWx0QXBpID8gZGVmYXVsdENkbkhvc3QgOiBob3N0O1xuICBpZiAobmV3Q29uZmlnLnVzZVByb2plY3RIb3N0bmFtZSkge1xuICAgIG5ld0NvbmZpZy51cmwgPSBcIlwiLmNvbmNhdChwcm90b2NvbCwgXCI6Ly9cIikuY29uY2F0KG5ld0NvbmZpZy5wcm9qZWN0SWQsIFwiLlwiKS5jb25jYXQoaG9zdCwgXCIvdlwiKS5jb25jYXQobmV3Q29uZmlnLmFwaVZlcnNpb24pO1xuICAgIG5ld0NvbmZpZy5jZG5VcmwgPSBcIlwiLmNvbmNhdChwcm90b2NvbCwgXCI6Ly9cIikuY29uY2F0KG5ld0NvbmZpZy5wcm9qZWN0SWQsIFwiLlwiKS5jb25jYXQoY2RuSG9zdCwgXCIvdlwiKS5jb25jYXQobmV3Q29uZmlnLmFwaVZlcnNpb24pO1xuICB9IGVsc2Uge1xuICAgIG5ld0NvbmZpZy51cmwgPSBcIlwiLmNvbmNhdChuZXdDb25maWcuYXBpSG9zdCwgXCIvdlwiKS5jb25jYXQobmV3Q29uZmlnLmFwaVZlcnNpb24pO1xuICAgIG5ld0NvbmZpZy5jZG5VcmwgPSBuZXdDb25maWcudXJsO1xuICB9XG4gIHJldHVybiBuZXdDb25maWc7XG59O1xuY29uc3QgcHJvamVjdEhlYWRlciA9IFwiWC1TYW5pdHktUHJvamVjdC1JRFwiO1xuZnVuY3Rpb24gcmVxdWVzdE9wdGlvbnMoY29uZmlnKSB7XG4gIGxldCBvdmVycmlkZXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICBjb25zdCBoZWFkZXJzID0ge307XG4gIGNvbnN0IHRva2VuID0gb3ZlcnJpZGVzLnRva2VuIHx8IGNvbmZpZy50b2tlbjtcbiAgaWYgKHRva2VuKSB7XG4gICAgaGVhZGVycy5BdXRob3JpemF0aW9uID0gXCJCZWFyZXIgXCIuY29uY2F0KHRva2VuKTtcbiAgfVxuICBpZiAoIW92ZXJyaWRlcy51c2VHbG9iYWxBcGkgJiYgIWNvbmZpZy51c2VQcm9qZWN0SG9zdG5hbWUgJiYgY29uZmlnLnByb2plY3RJZCkge1xuICAgIGhlYWRlcnNbcHJvamVjdEhlYWRlcl0gPSBjb25maWcucHJvamVjdElkO1xuICB9XG4gIGNvbnN0IHdpdGhDcmVkZW50aWFscyA9IEJvb2xlYW4odHlwZW9mIG92ZXJyaWRlcy53aXRoQ3JlZGVudGlhbHMgPT09IFwidW5kZWZpbmVkXCIgPyBjb25maWcudG9rZW4gfHwgY29uZmlnLndpdGhDcmVkZW50aWFscyA6IG92ZXJyaWRlcy53aXRoQ3JlZGVudGlhbHMpO1xuICBjb25zdCB0aW1lb3V0ID0gdHlwZW9mIG92ZXJyaWRlcy50aW1lb3V0ID09PSBcInVuZGVmaW5lZFwiID8gY29uZmlnLnRpbWVvdXQgOiBvdmVycmlkZXMudGltZW91dDtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIG92ZXJyaWRlcywge1xuICAgIGhlYWRlcnM6IE9iamVjdC5hc3NpZ24oe30sIGhlYWRlcnMsIG92ZXJyaWRlcy5oZWFkZXJzIHx8IHt9KSxcbiAgICB0aW1lb3V0OiB0eXBlb2YgdGltZW91dCA9PT0gXCJ1bmRlZmluZWRcIiA/IDUgKiA2MCAqIDFlMyA6IHRpbWVvdXQsXG4gICAgcHJveHk6IG92ZXJyaWRlcy5wcm94eSB8fCBjb25maWcucHJveHksXG4gICAganNvbjogdHJ1ZSxcbiAgICB3aXRoQ3JlZGVudGlhbHMsXG4gICAgZmV0Y2g6IHR5cGVvZiBvdmVycmlkZXMuZmV0Y2ggPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIGNvbmZpZy5mZXRjaCA9PT0gXCJvYmplY3RcIiA/IHtcbiAgICAgIC4uLmNvbmZpZy5mZXRjaCxcbiAgICAgIC4uLm92ZXJyaWRlcy5mZXRjaFxuICAgIH0gOiBvdmVycmlkZXMuZmV0Y2ggfHwgY29uZmlnLmZldGNoXG4gIH0pO1xufVxuY29uc3QgZW5jb2RlUXVlcnlTdHJpbmcgPSBfcmVmMiA9PiB7XG4gIGxldCB7XG4gICAgcXVlcnksXG4gICAgcGFyYW1zID0ge30sXG4gICAgb3B0aW9ucyA9IHt9XG4gIH0gPSBfcmVmMjtcbiAgY29uc3Qgc2VhcmNoUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICBjb25zdCB7XG4gICAgdGFnLFxuICAgIC4uLm9wdHNcbiAgfSA9IG9wdGlvbnM7XG4gIGlmICh0YWcpIHNlYXJjaFBhcmFtcy5hcHBlbmQoXCJ0YWdcIiwgdGFnKTtcbiAgc2VhcmNoUGFyYW1zLmFwcGVuZChcInF1ZXJ5XCIsIHF1ZXJ5KTtcbiAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMocGFyYW1zKSkge1xuICAgIHNlYXJjaFBhcmFtcy5hcHBlbmQoXCIkXCIuY29uY2F0KGtleSksIEpTT04uc3RyaW5naWZ5KHZhbHVlKSk7XG4gIH1cbiAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMob3B0cykpIHtcbiAgICBpZiAodmFsdWUpIHNlYXJjaFBhcmFtcy5hcHBlbmQoa2V5LCBcIlwiLmNvbmNhdCh2YWx1ZSkpO1xuICB9XG4gIHJldHVybiBcIj9cIi5jb25jYXQoc2VhcmNoUGFyYW1zKTtcbn07XG5jb25zdCBleGNsdWRlRmFsc2V5ID0gKHBhcmFtLCBkZWZWYWx1ZSkgPT4ge1xuICBjb25zdCB2YWx1ZSA9IHR5cGVvZiBwYXJhbSA9PT0gXCJ1bmRlZmluZWRcIiA/IGRlZlZhbHVlIDogcGFyYW07XG4gIHJldHVybiBwYXJhbSA9PT0gZmFsc2UgPyB2b2lkIDAgOiB2YWx1ZTtcbn07XG5jb25zdCBnZXRNdXRhdGlvblF1ZXJ5ID0gZnVuY3Rpb24gKCkge1xuICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gIHJldHVybiB7XG4gICAgZHJ5UnVuOiBvcHRpb25zLmRyeVJ1bixcbiAgICByZXR1cm5JZHM6IHRydWUsXG4gICAgcmV0dXJuRG9jdW1lbnRzOiBleGNsdWRlRmFsc2V5KG9wdGlvbnMucmV0dXJuRG9jdW1lbnRzLCB0cnVlKSxcbiAgICB2aXNpYmlsaXR5OiBvcHRpb25zLnZpc2liaWxpdHkgfHwgXCJzeW5jXCIsXG4gICAgYXV0b0dlbmVyYXRlQXJyYXlLZXlzOiBvcHRpb25zLmF1dG9HZW5lcmF0ZUFycmF5S2V5cyxcbiAgICBza2lwQ3Jvc3NEYXRhc2V0UmVmZXJlbmNlVmFsaWRhdGlvbjogb3B0aW9ucy5za2lwQ3Jvc3NEYXRhc2V0UmVmZXJlbmNlVmFsaWRhdGlvblxuICB9O1xufTtcbmNvbnN0IGlzUmVzcG9uc2UgPSBldmVudCA9PiBldmVudC50eXBlID09PSBcInJlc3BvbnNlXCI7XG5jb25zdCBnZXRCb2R5ID0gZXZlbnQgPT4gZXZlbnQuYm9keTtcbmNvbnN0IGluZGV4QnkgPSAoZG9jcywgYXR0cikgPT4gZG9jcy5yZWR1Y2UoKGluZGV4ZWQsIGRvYykgPT4ge1xuICBpbmRleGVkW2F0dHIoZG9jKV0gPSBkb2M7XG4gIHJldHVybiBpbmRleGVkO1xufSwgLyogQF9fUFVSRV9fICovT2JqZWN0LmNyZWF0ZShudWxsKSk7XG5jb25zdCBnZXRRdWVyeVNpemVMaW1pdCA9IDExMjY0O1xuZnVuY3Rpb24gX2ZldGNoKGNsaWVudCwgaHR0cFJlcXVlc3QsIHF1ZXJ5LCBwYXJhbXMpIHtcbiAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IHt9O1xuICBpZiAoXCJzdGVnYVwiIGluIG9wdGlvbnMgJiYgb3B0aW9uc1tcInN0ZWdhXCJdICE9PSB2b2lkIDAgJiYgb3B0aW9uc1tcInN0ZWdhXCJdICE9PSBmYWxzZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkl0IGxvb2tzIGxpa2UgeW91J3JlIHVzaW5nIG9wdGlvbnMgbWVhbnQgZm9yICdAc2FuaXR5L2NsaWVudC9zdGVnYScuIE1ha2Ugc3VyZSB5b3UncmUgdXNpbmcgdGhlIHJpZ2h0IGltcG9ydC4gT3Igc2V0ICdzdGVnYScgaW4gJ2ZldGNoJyB0byAnZmFsc2UnLlwiKTtcbiAgfVxuICBjb25zdCBtYXBSZXNwb25zZSA9IG9wdGlvbnMuZmlsdGVyUmVzcG9uc2UgPT09IGZhbHNlID8gcmVzID0+IHJlcyA6IHJlcyA9PiByZXMucmVzdWx0O1xuICBjb25zdCB7XG4gICAgY2FjaGUsXG4gICAgbmV4dCxcbiAgICAuLi5vcHRzXG4gIH0gPSB7XG4gICAgLy8gT3B0IG91dCBvZiBzZXR0aW5nIGEgYHNpZ25hbGAgb24gYW4gaW50ZXJuYWwgYGZldGNoYCBpZiBvbmUgaXNuJ3QgcHJvdmlkZWQuXG4gICAgLy8gVGhpcyBpcyBuZWNlc3NhcnkgaW4gUmVhY3QgU2VydmVyIENvbXBvbmVudHMgdG8gYXZvaWQgb3B0aW5nIG91dCBvZiBSZXF1ZXN0IE1lbW9pemF0aW9uLlxuICAgIHVzZUFib3J0U2lnbmFsOiB0eXBlb2Ygb3B0aW9ucy5zaWduYWwgIT09IFwidW5kZWZpbmVkXCIsXG4gICAgLi4ub3B0aW9uc1xuICB9O1xuICBjb25zdCByZXFPcHRzID0gdHlwZW9mIGNhY2hlICE9PSBcInVuZGVmaW5lZFwiIHx8IHR5cGVvZiBuZXh0ICE9PSBcInVuZGVmaW5lZFwiID8ge1xuICAgIC4uLm9wdHMsXG4gICAgZmV0Y2g6IHtcbiAgICAgIGNhY2hlLFxuICAgICAgbmV4dFxuICAgIH1cbiAgfSA6IG9wdHM7XG4gIHJldHVybiBfZGF0YVJlcXVlc3QoY2xpZW50LCBodHRwUmVxdWVzdCwgXCJxdWVyeVwiLCB7XG4gICAgcXVlcnksXG4gICAgcGFyYW1zXG4gIH0sIHJlcU9wdHMpLnBpcGUob3BlcmF0b3JzLm1hcChtYXBSZXNwb25zZSkpO1xufVxuZnVuY3Rpb24gX2dldERvY3VtZW50KGNsaWVudCwgaHR0cFJlcXVlc3QsIGlkKSB7XG4gIGxldCBvcHRzID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiB7fTtcbiAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICB1cmk6IF9nZXREYXRhVXJsKGNsaWVudCwgXCJkb2NcIiwgaWQpLFxuICAgIGpzb246IHRydWUsXG4gICAgdGFnOiBvcHRzLnRhZ1xuICB9O1xuICByZXR1cm4gX3JlcXVlc3RPYnNlcnZhYmxlKGNsaWVudCwgaHR0cFJlcXVlc3QsIG9wdGlvbnMpLnBpcGUob3BlcmF0b3JzLmZpbHRlcihpc1Jlc3BvbnNlKSwgb3BlcmF0b3JzLm1hcChldmVudCA9PiBldmVudC5ib2R5LmRvY3VtZW50cyAmJiBldmVudC5ib2R5LmRvY3VtZW50c1swXSkpO1xufVxuZnVuY3Rpb24gX2dldERvY3VtZW50cyhjbGllbnQsIGh0dHBSZXF1ZXN0LCBpZHMpIHtcbiAgbGV0IG9wdHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IHt9O1xuICBjb25zdCBvcHRpb25zID0ge1xuICAgIHVyaTogX2dldERhdGFVcmwoY2xpZW50LCBcImRvY1wiLCBpZHMuam9pbihcIixcIikpLFxuICAgIGpzb246IHRydWUsXG4gICAgdGFnOiBvcHRzLnRhZ1xuICB9O1xuICByZXR1cm4gX3JlcXVlc3RPYnNlcnZhYmxlKGNsaWVudCwgaHR0cFJlcXVlc3QsIG9wdGlvbnMpLnBpcGUob3BlcmF0b3JzLmZpbHRlcihpc1Jlc3BvbnNlKSwgb3BlcmF0b3JzLm1hcChldmVudCA9PiB7XG4gICAgY29uc3QgaW5kZXhlZCA9IGluZGV4QnkoZXZlbnQuYm9keS5kb2N1bWVudHMgfHwgW10sIGRvYyA9PiBkb2MuX2lkKTtcbiAgICByZXR1cm4gaWRzLm1hcChpZCA9PiBpbmRleGVkW2lkXSB8fCBudWxsKTtcbiAgfSkpO1xufVxuZnVuY3Rpb24gX2NyZWF0ZUlmTm90RXhpc3RzKGNsaWVudCwgaHR0cFJlcXVlc3QsIGRvYywgb3B0aW9ucykge1xuICByZXF1aXJlRG9jdW1lbnRJZChcImNyZWF0ZUlmTm90RXhpc3RzXCIsIGRvYyk7XG4gIHJldHVybiBfY3JlYXRlKGNsaWVudCwgaHR0cFJlcXVlc3QsIGRvYywgXCJjcmVhdGVJZk5vdEV4aXN0c1wiLCBvcHRpb25zKTtcbn1cbmZ1bmN0aW9uIF9jcmVhdGVPclJlcGxhY2UoY2xpZW50LCBodHRwUmVxdWVzdCwgZG9jLCBvcHRpb25zKSB7XG4gIHJlcXVpcmVEb2N1bWVudElkKFwiY3JlYXRlT3JSZXBsYWNlXCIsIGRvYyk7XG4gIHJldHVybiBfY3JlYXRlKGNsaWVudCwgaHR0cFJlcXVlc3QsIGRvYywgXCJjcmVhdGVPclJlcGxhY2VcIiwgb3B0aW9ucyk7XG59XG5mdW5jdGlvbiBfZGVsZXRlKGNsaWVudCwgaHR0cFJlcXVlc3QsIHNlbGVjdGlvbiwgb3B0aW9ucykge1xuICByZXR1cm4gX2RhdGFSZXF1ZXN0KGNsaWVudCwgaHR0cFJlcXVlc3QsIFwibXV0YXRlXCIsIHtcbiAgICBtdXRhdGlvbnM6IFt7XG4gICAgICBkZWxldGU6IGdldFNlbGVjdGlvbihzZWxlY3Rpb24pXG4gICAgfV1cbiAgfSwgb3B0aW9ucyk7XG59XG5mdW5jdGlvbiBfbXV0YXRlKGNsaWVudCwgaHR0cFJlcXVlc3QsIG11dGF0aW9ucywgb3B0aW9ucykge1xuICBsZXQgbXV0O1xuICBpZiAobXV0YXRpb25zIGluc3RhbmNlb2YgUGF0Y2ggfHwgbXV0YXRpb25zIGluc3RhbmNlb2YgT2JzZXJ2YWJsZVBhdGNoKSB7XG4gICAgbXV0ID0ge1xuICAgICAgcGF0Y2g6IG11dGF0aW9ucy5zZXJpYWxpemUoKVxuICAgIH07XG4gIH0gZWxzZSBpZiAobXV0YXRpb25zIGluc3RhbmNlb2YgVHJhbnNhY3Rpb24gfHwgbXV0YXRpb25zIGluc3RhbmNlb2YgT2JzZXJ2YWJsZVRyYW5zYWN0aW9uKSB7XG4gICAgbXV0ID0gbXV0YXRpb25zLnNlcmlhbGl6ZSgpO1xuICB9IGVsc2Uge1xuICAgIG11dCA9IG11dGF0aW9ucztcbiAgfVxuICBjb25zdCBtdXRzID0gQXJyYXkuaXNBcnJheShtdXQpID8gbXV0IDogW211dF07XG4gIGNvbnN0IHRyYW5zYWN0aW9uSWQgPSBvcHRpb25zICYmIG9wdGlvbnMudHJhbnNhY3Rpb25JZCB8fCB2b2lkIDA7XG4gIHJldHVybiBfZGF0YVJlcXVlc3QoY2xpZW50LCBodHRwUmVxdWVzdCwgXCJtdXRhdGVcIiwge1xuICAgIG11dGF0aW9uczogbXV0cyxcbiAgICB0cmFuc2FjdGlvbklkXG4gIH0sIG9wdGlvbnMpO1xufVxuZnVuY3Rpb24gX2RhdGFSZXF1ZXN0KGNsaWVudCwgaHR0cFJlcXVlc3QsIGVuZHBvaW50LCBib2R5KSB7XG4gIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDQgJiYgYXJndW1lbnRzWzRdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNF0gOiB7fTtcbiAgY29uc3QgaXNNdXRhdGlvbiA9IGVuZHBvaW50ID09PSBcIm11dGF0ZVwiO1xuICBjb25zdCBpc1F1ZXJ5ID0gZW5kcG9pbnQgPT09IFwicXVlcnlcIjtcbiAgY29uc3Qgc3RyUXVlcnkgPSBpc011dGF0aW9uID8gXCJcIiA6IGVuY29kZVF1ZXJ5U3RyaW5nKGJvZHkpO1xuICBjb25zdCB1c2VHZXQgPSAhaXNNdXRhdGlvbiAmJiBzdHJRdWVyeS5sZW5ndGggPCBnZXRRdWVyeVNpemVMaW1pdDtcbiAgY29uc3Qgc3RyaW5nUXVlcnkgPSB1c2VHZXQgPyBzdHJRdWVyeSA6IFwiXCI7XG4gIGNvbnN0IHJldHVybkZpcnN0ID0gb3B0aW9ucy5yZXR1cm5GaXJzdDtcbiAgY29uc3Qge1xuICAgIHRpbWVvdXQsXG4gICAgdG9rZW4sXG4gICAgdGFnLFxuICAgIGhlYWRlcnNcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHVyaSA9IF9nZXREYXRhVXJsKGNsaWVudCwgZW5kcG9pbnQsIHN0cmluZ1F1ZXJ5KTtcbiAgY29uc3QgcmVxT3B0aW9ucyA9IHtcbiAgICBtZXRob2Q6IHVzZUdldCA/IFwiR0VUXCIgOiBcIlBPU1RcIixcbiAgICB1cmksXG4gICAganNvbjogdHJ1ZSxcbiAgICBib2R5OiB1c2VHZXQgPyB2b2lkIDAgOiBib2R5LFxuICAgIHF1ZXJ5OiBpc011dGF0aW9uICYmIGdldE11dGF0aW9uUXVlcnkob3B0aW9ucyksXG4gICAgdGltZW91dCxcbiAgICBoZWFkZXJzLFxuICAgIHRva2VuLFxuICAgIHRhZyxcbiAgICBwZXJzcGVjdGl2ZTogb3B0aW9ucy5wZXJzcGVjdGl2ZSxcbiAgICByZXN1bHRTb3VyY2VNYXA6IG9wdGlvbnMucmVzdWx0U291cmNlTWFwLFxuICAgIGNhblVzZUNkbjogaXNRdWVyeSxcbiAgICBzaWduYWw6IG9wdGlvbnMuc2lnbmFsLFxuICAgIGZldGNoOiBvcHRpb25zLmZldGNoLFxuICAgIHVzZUFib3J0U2lnbmFsOiBvcHRpb25zLnVzZUFib3J0U2lnbmFsLFxuICAgIHVzZUNkbjogb3B0aW9ucy51c2VDZG5cbiAgfTtcbiAgcmV0dXJuIF9yZXF1ZXN0T2JzZXJ2YWJsZShjbGllbnQsIGh0dHBSZXF1ZXN0LCByZXFPcHRpb25zKS5waXBlKG9wZXJhdG9ycy5maWx0ZXIoaXNSZXNwb25zZSksIG9wZXJhdG9ycy5tYXAoZ2V0Qm9keSksIG9wZXJhdG9ycy5tYXAocmVzID0+IHtcbiAgICBpZiAoIWlzTXV0YXRpb24pIHtcbiAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdHMgPSByZXMucmVzdWx0cyB8fCBbXTtcbiAgICBpZiAob3B0aW9ucy5yZXR1cm5Eb2N1bWVudHMpIHtcbiAgICAgIHJldHVybiByZXR1cm5GaXJzdCA/IHJlc3VsdHNbMF0gJiYgcmVzdWx0c1swXS5kb2N1bWVudCA6IHJlc3VsdHMubWFwKG11dCA9PiBtdXQuZG9jdW1lbnQpO1xuICAgIH1cbiAgICBjb25zdCBrZXkgPSByZXR1cm5GaXJzdCA/IFwiZG9jdW1lbnRJZFwiIDogXCJkb2N1bWVudElkc1wiO1xuICAgIGNvbnN0IGlkcyA9IHJldHVybkZpcnN0ID8gcmVzdWx0c1swXSAmJiByZXN1bHRzWzBdLmlkIDogcmVzdWx0cy5tYXAobXV0ID0+IG11dC5pZCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRyYW5zYWN0aW9uSWQ6IHJlcy50cmFuc2FjdGlvbklkLFxuICAgICAgcmVzdWx0cyxcbiAgICAgIFtrZXldOiBpZHNcbiAgICB9O1xuICB9KSk7XG59XG5mdW5jdGlvbiBfY3JlYXRlKGNsaWVudCwgaHR0cFJlcXVlc3QsIGRvYywgb3ApIHtcbiAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IHt9O1xuICBjb25zdCBtdXRhdGlvbiA9IHtcbiAgICBbb3BdOiBkb2NcbiAgfTtcbiAgY29uc3Qgb3B0cyA9IE9iamVjdC5hc3NpZ24oe1xuICAgIHJldHVybkZpcnN0OiB0cnVlLFxuICAgIHJldHVybkRvY3VtZW50czogdHJ1ZVxuICB9LCBvcHRpb25zKTtcbiAgcmV0dXJuIF9kYXRhUmVxdWVzdChjbGllbnQsIGh0dHBSZXF1ZXN0LCBcIm11dGF0ZVwiLCB7XG4gICAgbXV0YXRpb25zOiBbbXV0YXRpb25dXG4gIH0sIG9wdHMpO1xufVxuZnVuY3Rpb24gX3JlcXVlc3RPYnNlcnZhYmxlKGNsaWVudCwgaHR0cFJlcXVlc3QsIG9wdGlvbnMpIHtcbiAgdmFyIF9hLCBfYjtcbiAgY29uc3QgdXJpID0gb3B0aW9ucy51cmwgfHwgb3B0aW9ucy51cmk7XG4gIGNvbnN0IGNvbmZpZyA9IGNsaWVudC5jb25maWcoKTtcbiAgY29uc3QgY2FuVXNlQ2RuID0gdHlwZW9mIG9wdGlvbnMuY2FuVXNlQ2RuID09PSBcInVuZGVmaW5lZFwiID8gW1wiR0VUXCIsIFwiSEVBRFwiXS5pbmRleE9mKG9wdGlvbnMubWV0aG9kIHx8IFwiR0VUXCIpID49IDAgJiYgdXJpLmluZGV4T2YoXCIvZGF0YS9cIikgPT09IDAgOiBvcHRpb25zLmNhblVzZUNkbjtcbiAgbGV0IHVzZUNkbiA9ICgoX2EgPSBvcHRpb25zLnVzZUNkbikgIT0gbnVsbCA/IF9hIDogY29uZmlnLnVzZUNkbikgJiYgY2FuVXNlQ2RuO1xuICBjb25zdCB0YWcgPSBvcHRpb25zLnRhZyAmJiBjb25maWcucmVxdWVzdFRhZ1ByZWZpeCA/IFtjb25maWcucmVxdWVzdFRhZ1ByZWZpeCwgb3B0aW9ucy50YWddLmpvaW4oXCIuXCIpIDogb3B0aW9ucy50YWcgfHwgY29uZmlnLnJlcXVlc3RUYWdQcmVmaXg7XG4gIGlmICh0YWcgJiYgb3B0aW9ucy50YWcgIT09IG51bGwpIHtcbiAgICBvcHRpb25zLnF1ZXJ5ID0ge1xuICAgICAgdGFnOiByZXF1ZXN0VGFnKHRhZyksXG4gICAgICAuLi5vcHRpb25zLnF1ZXJ5XG4gICAgfTtcbiAgfVxuICBpZiAoW1wiR0VUXCIsIFwiSEVBRFwiLCBcIlBPU1RcIl0uaW5kZXhPZihvcHRpb25zLm1ldGhvZCB8fCBcIkdFVFwiKSA+PSAwICYmIHVyaS5pbmRleE9mKFwiL2RhdGEvcXVlcnkvXCIpID09PSAwKSB7XG4gICAgY29uc3QgcmVzdWx0U291cmNlTWFwID0gKF9iID0gb3B0aW9ucy5yZXN1bHRTb3VyY2VNYXApICE9IG51bGwgPyBfYiA6IGNvbmZpZy5yZXN1bHRTb3VyY2VNYXA7XG4gICAgaWYgKHJlc3VsdFNvdXJjZU1hcCAhPT0gdm9pZCAwICYmIHJlc3VsdFNvdXJjZU1hcCAhPT0gZmFsc2UpIHtcbiAgICAgIG9wdGlvbnMucXVlcnkgPSB7XG4gICAgICAgIHJlc3VsdFNvdXJjZU1hcCxcbiAgICAgICAgLi4ub3B0aW9ucy5xdWVyeVxuICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgcGVyc3BlY3RpdmUgPSBvcHRpb25zLnBlcnNwZWN0aXZlIHx8IGNvbmZpZy5wZXJzcGVjdGl2ZTtcbiAgICBpZiAodHlwZW9mIHBlcnNwZWN0aXZlID09PSBcInN0cmluZ1wiICYmIHBlcnNwZWN0aXZlICE9PSBcInJhd1wiKSB7XG4gICAgICB2YWxpZGF0ZUFwaVBlcnNwZWN0aXZlKHBlcnNwZWN0aXZlKTtcbiAgICAgIG9wdGlvbnMucXVlcnkgPSB7XG4gICAgICAgIHBlcnNwZWN0aXZlLFxuICAgICAgICAuLi5vcHRpb25zLnF1ZXJ5XG4gICAgICB9O1xuICAgICAgaWYgKHBlcnNwZWN0aXZlID09PSBcInByZXZpZXdEcmFmdHNcIiAmJiB1c2VDZG4pIHtcbiAgICAgICAgdXNlQ2RuID0gZmFsc2U7XG4gICAgICAgIHByaW50Q2RuUHJldmlld0RyYWZ0c1dhcm5pbmcoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgY29uc3QgcmVxT3B0aW9ucyA9IHJlcXVlc3RPcHRpb25zKGNvbmZpZywgT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucywge1xuICAgIHVybDogX2dldFVybChjbGllbnQsIHVyaSwgdXNlQ2RuKVxuICB9KSk7XG4gIGNvbnN0IHJlcXVlc3QgPSBuZXcgcnhqcy5PYnNlcnZhYmxlKHN1YnNjcmliZXIgPT4gaHR0cFJlcXVlc3QocmVxT3B0aW9ucywgY29uZmlnLnJlcXVlc3Rlcikuc3Vic2NyaWJlKHN1YnNjcmliZXIpKTtcbiAgcmV0dXJuIG9wdGlvbnMuc2lnbmFsID8gcmVxdWVzdC5waXBlKF93aXRoQWJvcnRTaWduYWwob3B0aW9ucy5zaWduYWwpKSA6IHJlcXVlc3Q7XG59XG5mdW5jdGlvbiBfcmVxdWVzdChjbGllbnQsIGh0dHBSZXF1ZXN0LCBvcHRpb25zKSB7XG4gIGNvbnN0IG9ic2VydmFibGUgPSBfcmVxdWVzdE9ic2VydmFibGUoY2xpZW50LCBodHRwUmVxdWVzdCwgb3B0aW9ucykucGlwZShvcGVyYXRvcnMuZmlsdGVyKGV2ZW50ID0+IGV2ZW50LnR5cGUgPT09IFwicmVzcG9uc2VcIiksIG9wZXJhdG9ycy5tYXAoZXZlbnQgPT4gZXZlbnQuYm9keSkpO1xuICByZXR1cm4gb2JzZXJ2YWJsZTtcbn1cbmZ1bmN0aW9uIF9nZXREYXRhVXJsKGNsaWVudCwgb3BlcmF0aW9uLCBwYXRoKSB7XG4gIGNvbnN0IGNvbmZpZyA9IGNsaWVudC5jb25maWcoKTtcbiAgY29uc3QgY2F0YWxvZyA9IGhhc0RhdGFzZXQoY29uZmlnKTtcbiAgY29uc3QgYmFzZVVyaSA9IFwiL1wiLmNvbmNhdChvcGVyYXRpb24sIFwiL1wiKS5jb25jYXQoY2F0YWxvZyk7XG4gIGNvbnN0IHVyaSA9IHBhdGggPyBcIlwiLmNvbmNhdChiYXNlVXJpLCBcIi9cIikuY29uY2F0KHBhdGgpIDogYmFzZVVyaTtcbiAgcmV0dXJuIFwiL2RhdGFcIi5jb25jYXQodXJpKS5yZXBsYWNlKC9cXC8oJHxcXD8pLywgXCIkMVwiKTtcbn1cbmZ1bmN0aW9uIF9nZXRVcmwoY2xpZW50LCB1cmkpIHtcbiAgbGV0IGNhblVzZUNkbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogZmFsc2U7XG4gIGNvbnN0IHtcbiAgICB1cmwsXG4gICAgY2RuVXJsXG4gIH0gPSBjbGllbnQuY29uZmlnKCk7XG4gIGNvbnN0IGJhc2UgPSBjYW5Vc2VDZG4gPyBjZG5VcmwgOiB1cmw7XG4gIHJldHVybiBcIlwiLmNvbmNhdChiYXNlLCBcIi9cIikuY29uY2F0KHVyaS5yZXBsYWNlKC9eXFwvLywgXCJcIikpO1xufVxuZnVuY3Rpb24gX3dpdGhBYm9ydFNpZ25hbChzaWduYWwpIHtcbiAgcmV0dXJuIGlucHV0ID0+IHtcbiAgICByZXR1cm4gbmV3IHJ4anMuT2JzZXJ2YWJsZShvYnNlcnZlciA9PiB7XG4gICAgICBjb25zdCBhYm9ydCA9ICgpID0+IG9ic2VydmVyLmVycm9yKF9jcmVhdGVBYm9ydEVycm9yKHNpZ25hbCkpO1xuICAgICAgaWYgKHNpZ25hbCAmJiBzaWduYWwuYWJvcnRlZCkge1xuICAgICAgICBhYm9ydCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBzdWJzY3JpcHRpb24gPSBpbnB1dC5zdWJzY3JpYmUob2JzZXJ2ZXIpO1xuICAgICAgc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCBhYm9ydCk7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBzaWduYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsIGFib3J0KTtcbiAgICAgICAgc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICB9O1xuICAgIH0pO1xuICB9O1xufVxuY29uc3QgaXNEb21FeGNlcHRpb25TdXBwb3J0ZWQgPSBCb29sZWFuKGdsb2JhbFRoaXMuRE9NRXhjZXB0aW9uKTtcbmZ1bmN0aW9uIF9jcmVhdGVBYm9ydEVycm9yKHNpZ25hbCkge1xuICB2YXIgX2EsIF9iO1xuICBpZiAoaXNEb21FeGNlcHRpb25TdXBwb3J0ZWQpIHtcbiAgICByZXR1cm4gbmV3IERPTUV4Y2VwdGlvbigoX2EgPSBzaWduYWwgPT0gbnVsbCA/IHZvaWQgMCA6IHNpZ25hbC5yZWFzb24pICE9IG51bGwgPyBfYSA6IFwiVGhlIG9wZXJhdGlvbiB3YXMgYWJvcnRlZC5cIiwgXCJBYm9ydEVycm9yXCIpO1xuICB9XG4gIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKChfYiA9IHNpZ25hbCA9PSBudWxsID8gdm9pZCAwIDogc2lnbmFsLnJlYXNvbikgIT0gbnVsbCA/IF9iIDogXCJUaGUgb3BlcmF0aW9uIHdhcyBhYm9ydGVkLlwiKTtcbiAgZXJyb3IubmFtZSA9IFwiQWJvcnRFcnJvclwiO1xuICByZXR1cm4gZXJyb3I7XG59XG52YXIgX19hY2Nlc3NDaGVjayQ0ID0gKG9iaiwgbWVtYmVyLCBtc2cpID0+IHtcbiAgaWYgKCFtZW1iZXIuaGFzKG9iaikpIHRocm93IFR5cGVFcnJvcihcIkNhbm5vdCBcIiArIG1zZyk7XG59O1xudmFyIF9fcHJpdmF0ZUdldCQ0ID0gKG9iaiwgbWVtYmVyLCBnZXR0ZXIpID0+IHtcbiAgX19hY2Nlc3NDaGVjayQ0KG9iaiwgbWVtYmVyLCBcInJlYWQgZnJvbSBwcml2YXRlIGZpZWxkXCIpO1xuICByZXR1cm4gZ2V0dGVyID8gZ2V0dGVyLmNhbGwob2JqKSA6IG1lbWJlci5nZXQob2JqKTtcbn07XG52YXIgX19wcml2YXRlQWRkJDQgPSAob2JqLCBtZW1iZXIsIHZhbHVlKSA9PiB7XG4gIGlmIChtZW1iZXIuaGFzKG9iaikpIHRocm93IFR5cGVFcnJvcihcIkNhbm5vdCBhZGQgdGhlIHNhbWUgcHJpdmF0ZSBtZW1iZXIgbW9yZSB0aGFuIG9uY2VcIik7XG4gIG1lbWJlciBpbnN0YW5jZW9mIFdlYWtTZXQgPyBtZW1iZXIuYWRkKG9iaikgOiBtZW1iZXIuc2V0KG9iaiwgdmFsdWUpO1xufTtcbnZhciBfX3ByaXZhdGVTZXQkNCA9IChvYmosIG1lbWJlciwgdmFsdWUsIHNldHRlcikgPT4ge1xuICBfX2FjY2Vzc0NoZWNrJDQob2JqLCBtZW1iZXIsIFwid3JpdGUgdG8gcHJpdmF0ZSBmaWVsZFwiKTtcbiAgc2V0dGVyID8gc2V0dGVyLmNhbGwob2JqLCB2YWx1ZSkgOiBtZW1iZXIuc2V0KG9iaiwgdmFsdWUpO1xuICByZXR1cm4gdmFsdWU7XG59O1xudmFyIF9jbGllbnQkMywgX2h0dHBSZXF1ZXN0JDQsIF9jbGllbnQyJDMsIF9odHRwUmVxdWVzdDIkNDtcbmNsYXNzIE9ic2VydmFibGVBc3NldHNDbGllbnQge1xuICBjb25zdHJ1Y3RvcihjbGllbnQsIGh0dHBSZXF1ZXN0KSB7XG4gICAgX19wcml2YXRlQWRkJDQodGhpcywgX2NsaWVudCQzLCB2b2lkIDApO1xuICAgIF9fcHJpdmF0ZUFkZCQ0KHRoaXMsIF9odHRwUmVxdWVzdCQ0LCB2b2lkIDApO1xuICAgIF9fcHJpdmF0ZVNldCQ0KHRoaXMsIF9jbGllbnQkMywgY2xpZW50KTtcbiAgICBfX3ByaXZhdGVTZXQkNCh0aGlzLCBfaHR0cFJlcXVlc3QkNCwgaHR0cFJlcXVlc3QpO1xuICB9XG4gIHVwbG9hZChhc3NldFR5cGUsIGJvZHksIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gX3VwbG9hZChfX3ByaXZhdGVHZXQkNCh0aGlzLCBfY2xpZW50JDMpLCBfX3ByaXZhdGVHZXQkNCh0aGlzLCBfaHR0cFJlcXVlc3QkNCksIGFzc2V0VHlwZSwgYm9keSwgb3B0aW9ucyk7XG4gIH1cbn1cbl9jbGllbnQkMyA9IG5ldyBXZWFrTWFwKCk7XG5faHR0cFJlcXVlc3QkNCA9IG5ldyBXZWFrTWFwKCk7XG5jbGFzcyBBc3NldHNDbGllbnQge1xuICBjb25zdHJ1Y3RvcihjbGllbnQsIGh0dHBSZXF1ZXN0KSB7XG4gICAgX19wcml2YXRlQWRkJDQodGhpcywgX2NsaWVudDIkMywgdm9pZCAwKTtcbiAgICBfX3ByaXZhdGVBZGQkNCh0aGlzLCBfaHR0cFJlcXVlc3QyJDQsIHZvaWQgMCk7XG4gICAgX19wcml2YXRlU2V0JDQodGhpcywgX2NsaWVudDIkMywgY2xpZW50KTtcbiAgICBfX3ByaXZhdGVTZXQkNCh0aGlzLCBfaHR0cFJlcXVlc3QyJDQsIGh0dHBSZXF1ZXN0KTtcbiAgfVxuICB1cGxvYWQoYXNzZXRUeXBlLCBib2R5LCBvcHRpb25zKSB7XG4gICAgY29uc3Qgb2JzZXJ2YWJsZSA9IF91cGxvYWQoX19wcml2YXRlR2V0JDQodGhpcywgX2NsaWVudDIkMyksIF9fcHJpdmF0ZUdldCQ0KHRoaXMsIF9odHRwUmVxdWVzdDIkNCksIGFzc2V0VHlwZSwgYm9keSwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIHJ4anMubGFzdFZhbHVlRnJvbShvYnNlcnZhYmxlLnBpcGUob3BlcmF0b3JzLmZpbHRlcihldmVudCA9PiBldmVudC50eXBlID09PSBcInJlc3BvbnNlXCIpLCBvcGVyYXRvcnMubWFwKGV2ZW50ID0+IGV2ZW50LmJvZHkuZG9jdW1lbnQpKSk7XG4gIH1cbn1cbl9jbGllbnQyJDMgPSBuZXcgV2Vha01hcCgpO1xuX2h0dHBSZXF1ZXN0MiQ0ID0gbmV3IFdlYWtNYXAoKTtcbmZ1bmN0aW9uIF91cGxvYWQoY2xpZW50LCBodHRwUmVxdWVzdCwgYXNzZXRUeXBlLCBib2R5KSB7XG4gIGxldCBvcHRzID0gYXJndW1lbnRzLmxlbmd0aCA+IDQgJiYgYXJndW1lbnRzWzRdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNF0gOiB7fTtcbiAgdmFsaWRhdGVBc3NldFR5cGUoYXNzZXRUeXBlKTtcbiAgbGV0IG1ldGEgPSBvcHRzLmV4dHJhY3QgfHwgdm9pZCAwO1xuICBpZiAobWV0YSAmJiAhbWV0YS5sZW5ndGgpIHtcbiAgICBtZXRhID0gW1wibm9uZVwiXTtcbiAgfVxuICBjb25zdCBkYXRhc2V0ID0gaGFzRGF0YXNldChjbGllbnQuY29uZmlnKCkpO1xuICBjb25zdCBhc3NldEVuZHBvaW50ID0gYXNzZXRUeXBlID09PSBcImltYWdlXCIgPyBcImltYWdlc1wiIDogXCJmaWxlc1wiO1xuICBjb25zdCBvcHRpb25zID0gb3B0aW9uc0Zyb21GaWxlKG9wdHMsIGJvZHkpO1xuICBjb25zdCB7XG4gICAgdGFnLFxuICAgIGxhYmVsLFxuICAgIHRpdGxlLFxuICAgIGRlc2NyaXB0aW9uLFxuICAgIGNyZWRpdExpbmUsXG4gICAgZmlsZW5hbWUsXG4gICAgc291cmNlXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBxdWVyeSA9IHtcbiAgICBsYWJlbCxcbiAgICB0aXRsZSxcbiAgICBkZXNjcmlwdGlvbixcbiAgICBmaWxlbmFtZSxcbiAgICBtZXRhLFxuICAgIGNyZWRpdExpbmVcbiAgfTtcbiAgaWYgKHNvdXJjZSkge1xuICAgIHF1ZXJ5LnNvdXJjZUlkID0gc291cmNlLmlkO1xuICAgIHF1ZXJ5LnNvdXJjZU5hbWUgPSBzb3VyY2UubmFtZTtcbiAgICBxdWVyeS5zb3VyY2VVcmwgPSBzb3VyY2UudXJsO1xuICB9XG4gIHJldHVybiBfcmVxdWVzdE9ic2VydmFibGUoY2xpZW50LCBodHRwUmVxdWVzdCwge1xuICAgIHRhZyxcbiAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgIHRpbWVvdXQ6IG9wdGlvbnMudGltZW91dCB8fCAwLFxuICAgIHVyaTogXCIvYXNzZXRzL1wiLmNvbmNhdChhc3NldEVuZHBvaW50LCBcIi9cIikuY29uY2F0KGRhdGFzZXQpLFxuICAgIGhlYWRlcnM6IG9wdGlvbnMuY29udGVudFR5cGUgPyB7XG4gICAgICBcIkNvbnRlbnQtVHlwZVwiOiBvcHRpb25zLmNvbnRlbnRUeXBlXG4gICAgfSA6IHt9LFxuICAgIHF1ZXJ5LFxuICAgIGJvZHlcbiAgfSk7XG59XG5mdW5jdGlvbiBvcHRpb25zRnJvbUZpbGUob3B0cywgZmlsZSkge1xuICBpZiAodHlwZW9mIEZpbGUgPT09IFwidW5kZWZpbmVkXCIgfHwgIShmaWxlIGluc3RhbmNlb2YgRmlsZSkpIHtcbiAgICByZXR1cm4gb3B0cztcbiAgfVxuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7XG4gICAgZmlsZW5hbWU6IG9wdHMucHJlc2VydmVGaWxlbmFtZSA9PT0gZmFsc2UgPyB2b2lkIDAgOiBmaWxlLm5hbWUsXG4gICAgY29udGVudFR5cGU6IGZpbGUudHlwZVxuICB9LCBvcHRzKTtcbn1cbnZhciBkZWZhdWx0cyA9IChvYmosIGRlZmF1bHRzKSA9PiBPYmplY3Qua2V5cyhkZWZhdWx0cykuY29uY2F0KE9iamVjdC5rZXlzKG9iaikpLnJlZHVjZSgodGFyZ2V0LCBwcm9wKSA9PiB7XG4gIHRhcmdldFtwcm9wXSA9IHR5cGVvZiBvYmpbcHJvcF0gPT09IFwidW5kZWZpbmVkXCIgPyBkZWZhdWx0c1twcm9wXSA6IG9ialtwcm9wXTtcbiAgcmV0dXJuIHRhcmdldDtcbn0sIHt9KTtcbmNvbnN0IHBpY2sgPSAob2JqLCBwcm9wcykgPT4gcHJvcHMucmVkdWNlKChzZWxlY3Rpb24sIHByb3ApID0+IHtcbiAgaWYgKHR5cGVvZiBvYmpbcHJvcF0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm4gc2VsZWN0aW9uO1xuICB9XG4gIHNlbGVjdGlvbltwcm9wXSA9IG9ialtwcm9wXTtcbiAgcmV0dXJuIHNlbGVjdGlvbjtcbn0sIHt9KTtcbmNvbnN0IE1BWF9VUkxfTEVOR1RIID0gMTZlMyAtIDEyMDA7XG5jb25zdCBwb3NzaWJsZU9wdGlvbnMgPSBbXCJpbmNsdWRlUHJldmlvdXNSZXZpc2lvblwiLCBcImluY2x1ZGVSZXN1bHRcIiwgXCJ2aXNpYmlsaXR5XCIsIFwiZWZmZWN0Rm9ybWF0XCIsIFwidGFnXCJdO1xuY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7XG4gIGluY2x1ZGVSZXN1bHQ6IHRydWVcbn07XG5mdW5jdGlvbiBfbGlzdGVuKHF1ZXJ5LCBwYXJhbXMpIHtcbiAgbGV0IG9wdHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICBjb25zdCB7XG4gICAgdXJsLFxuICAgIHRva2VuLFxuICAgIHdpdGhDcmVkZW50aWFscyxcbiAgICByZXF1ZXN0VGFnUHJlZml4XG4gIH0gPSB0aGlzLmNvbmZpZygpO1xuICBjb25zdCB0YWcgPSBvcHRzLnRhZyAmJiByZXF1ZXN0VGFnUHJlZml4ID8gW3JlcXVlc3RUYWdQcmVmaXgsIG9wdHMudGFnXS5qb2luKFwiLlwiKSA6IG9wdHMudGFnO1xuICBjb25zdCBvcHRpb25zID0ge1xuICAgIC4uLmRlZmF1bHRzKG9wdHMsIGRlZmF1bHRPcHRpb25zKSxcbiAgICB0YWdcbiAgfTtcbiAgY29uc3QgbGlzdGVuT3B0cyA9IHBpY2sob3B0aW9ucywgcG9zc2libGVPcHRpb25zKTtcbiAgY29uc3QgcXMgPSBlbmNvZGVRdWVyeVN0cmluZyh7XG4gICAgcXVlcnksXG4gICAgcGFyYW1zLFxuICAgIG9wdGlvbnM6IHtcbiAgICAgIHRhZyxcbiAgICAgIC4uLmxpc3Rlbk9wdHNcbiAgICB9XG4gIH0pO1xuICBjb25zdCB1cmkgPSBcIlwiLmNvbmNhdCh1cmwpLmNvbmNhdChfZ2V0RGF0YVVybCh0aGlzLCBcImxpc3RlblwiLCBxcykpO1xuICBpZiAodXJpLmxlbmd0aCA+IE1BWF9VUkxfTEVOR1RIKSB7XG4gICAgcmV0dXJuIG5ldyByeGpzLk9ic2VydmFibGUob2JzZXJ2ZXIgPT4gb2JzZXJ2ZXIuZXJyb3IobmV3IEVycm9yKFwiUXVlcnkgdG9vIGxhcmdlIGZvciBsaXN0ZW5lclwiKSkpO1xuICB9XG4gIGNvbnN0IGxpc3RlbkZvciA9IG9wdGlvbnMuZXZlbnRzID8gb3B0aW9ucy5ldmVudHMgOiBbXCJtdXRhdGlvblwiXTtcbiAgY29uc3Qgc2hvdWxkRW1pdFJlY29ubmVjdCA9IGxpc3RlbkZvci5pbmRleE9mKFwicmVjb25uZWN0XCIpICE9PSAtMTtcbiAgY29uc3QgZXNPcHRpb25zID0ge307XG4gIGlmICh0b2tlbiB8fCB3aXRoQ3JlZGVudGlhbHMpIHtcbiAgICBlc09wdGlvbnMud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcbiAgfVxuICBpZiAodG9rZW4pIHtcbiAgICBlc09wdGlvbnMuaGVhZGVycyA9IHtcbiAgICAgIEF1dGhvcml6YXRpb246IFwiQmVhcmVyIFwiLmNvbmNhdCh0b2tlbilcbiAgICB9O1xuICB9XG4gIHJldHVybiBuZXcgcnhqcy5PYnNlcnZhYmxlKG9ic2VydmVyID0+IHtcbiAgICBsZXQgZXM7XG4gICAgZ2V0RXZlbnRTb3VyY2UoKS50aGVuKGV2ZW50U291cmNlID0+IHtcbiAgICAgIGVzID0gZXZlbnRTb3VyY2U7XG4gICAgfSkuY2F0Y2gocmVhc29uID0+IHtcbiAgICAgIG9ic2VydmVyLmVycm9yKHJlYXNvbik7XG4gICAgICBzdG9wKCk7XG4gICAgfSk7XG4gICAgbGV0IHJlY29ubmVjdFRpbWVyO1xuICAgIGxldCBzdG9wcGVkID0gZmFsc2U7XG4gICAgZnVuY3Rpb24gb25FcnJvcigpIHtcbiAgICAgIGlmIChzdG9wcGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGVtaXRSZWNvbm5lY3QoKTtcbiAgICAgIGlmIChzdG9wcGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChlcy5yZWFkeVN0YXRlID09PSBlcy5DTE9TRUQpIHtcbiAgICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHJlY29ubmVjdFRpbWVyKTtcbiAgICAgICAgcmVjb25uZWN0VGltZXIgPSBzZXRUaW1lb3V0KG9wZW4sIDEwMCk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9uQ2hhbm5lbEVycm9yKGVycikge1xuICAgICAgb2JzZXJ2ZXIuZXJyb3IoY29vZXJjZUVycm9yKGVycikpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvbk1lc3NhZ2UoZXZ0KSB7XG4gICAgICBjb25zdCBldmVudCA9IHBhcnNlRXZlbnQoZXZ0KTtcbiAgICAgIHJldHVybiBldmVudCBpbnN0YW5jZW9mIEVycm9yID8gb2JzZXJ2ZXIuZXJyb3IoZXZlbnQpIDogb2JzZXJ2ZXIubmV4dChldmVudCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9uRGlzY29ubmVjdCgpIHtcbiAgICAgIHN0b3BwZWQgPSB0cnVlO1xuICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVuc3Vic2NyaWJlKCkge1xuICAgICAgaWYgKCFlcykgcmV0dXJuO1xuICAgICAgZXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIG9uRXJyb3IpO1xuICAgICAgZXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNoYW5uZWxFcnJvclwiLCBvbkNoYW5uZWxFcnJvcik7XG4gICAgICBlcy5yZW1vdmVFdmVudExpc3RlbmVyKFwiZGlzY29ubmVjdFwiLCBvbkRpc2Nvbm5lY3QpO1xuICAgICAgbGlzdGVuRm9yLmZvckVhY2godHlwZSA9PiBlcy5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIG9uTWVzc2FnZSkpO1xuICAgICAgZXMuY2xvc2UoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZW1pdFJlY29ubmVjdCgpIHtcbiAgICAgIGlmIChzaG91bGRFbWl0UmVjb25uZWN0KSB7XG4gICAgICAgIG9ic2VydmVyLm5leHQoe1xuICAgICAgICAgIHR5cGU6IFwicmVjb25uZWN0XCJcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGZ1bmN0aW9uIGdldEV2ZW50U291cmNlKCkge1xuICAgICAgY29uc3Qge1xuICAgICAgICBkZWZhdWx0OiBFdmVudFNvdXJjZVxuICAgICAgfSA9IGF3YWl0IGltcG9ydCgnQHNhbml0eS9ldmVudHNvdXJjZScpO1xuICAgICAgY29uc3QgZXZzID0gbmV3IEV2ZW50U291cmNlKHVyaSwgZXNPcHRpb25zKTtcbiAgICAgIGV2cy5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgb25FcnJvcik7XG4gICAgICBldnMuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5uZWxFcnJvclwiLCBvbkNoYW5uZWxFcnJvcik7XG4gICAgICBldnMuYWRkRXZlbnRMaXN0ZW5lcihcImRpc2Nvbm5lY3RcIiwgb25EaXNjb25uZWN0KTtcbiAgICAgIGxpc3RlbkZvci5mb3JFYWNoKHR5cGUgPT4gZXZzLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgb25NZXNzYWdlKSk7XG4gICAgICByZXR1cm4gZXZzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvcGVuKCkge1xuICAgICAgZ2V0RXZlbnRTb3VyY2UoKS50aGVuKGV2ZW50U291cmNlID0+IHtcbiAgICAgICAgZXMgPSBldmVudFNvdXJjZTtcbiAgICAgIH0pLmNhdGNoKHJlYXNvbiA9PiB7XG4gICAgICAgIG9ic2VydmVyLmVycm9yKHJlYXNvbik7XG4gICAgICAgIHN0b3AoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgc3RvcHBlZCA9IHRydWU7XG4gICAgICB1bnN1YnNjcmliZSgpO1xuICAgIH1cbiAgICByZXR1cm4gc3RvcDtcbiAgfSk7XG59XG5mdW5jdGlvbiBwYXJzZUV2ZW50KGV2ZW50KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgZGF0YSA9IGV2ZW50LmRhdGEgJiYgSlNPTi5wYXJzZShldmVudC5kYXRhKSB8fCB7fTtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7XG4gICAgICB0eXBlOiBldmVudC50eXBlXG4gICAgfSwgZGF0YSk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHJldHVybiBlcnI7XG4gIH1cbn1cbmZ1bmN0aW9uIGNvb2VyY2VFcnJvcihlcnIpIHtcbiAgaWYgKGVyciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgcmV0dXJuIGVycjtcbiAgfVxuICBjb25zdCBldnQgPSBwYXJzZUV2ZW50KGVycik7XG4gIHJldHVybiBldnQgaW5zdGFuY2VvZiBFcnJvciA/IGV2dCA6IG5ldyBFcnJvcihleHRyYWN0RXJyb3JNZXNzYWdlKGV2dCkpO1xufVxuZnVuY3Rpb24gZXh0cmFjdEVycm9yTWVzc2FnZShlcnIpIHtcbiAgaWYgKCFlcnIuZXJyb3IpIHtcbiAgICByZXR1cm4gZXJyLm1lc3NhZ2UgfHwgXCJVbmtub3duIGxpc3RlbmVyIGVycm9yXCI7XG4gIH1cbiAgaWYgKGVyci5lcnJvci5kZXNjcmlwdGlvbikge1xuICAgIHJldHVybiBlcnIuZXJyb3IuZGVzY3JpcHRpb247XG4gIH1cbiAgcmV0dXJuIHR5cGVvZiBlcnIuZXJyb3IgPT09IFwic3RyaW5nXCIgPyBlcnIuZXJyb3IgOiBKU09OLnN0cmluZ2lmeShlcnIuZXJyb3IsIG51bGwsIDIpO1xufVxudmFyIF9fYWNjZXNzQ2hlY2skMyA9IChvYmosIG1lbWJlciwgbXNnKSA9PiB7XG4gIGlmICghbWVtYmVyLmhhcyhvYmopKSB0aHJvdyBUeXBlRXJyb3IoXCJDYW5ub3QgXCIgKyBtc2cpO1xufTtcbnZhciBfX3ByaXZhdGVHZXQkMyA9IChvYmosIG1lbWJlciwgZ2V0dGVyKSA9PiB7XG4gIF9fYWNjZXNzQ2hlY2skMyhvYmosIG1lbWJlciwgXCJyZWFkIGZyb20gcHJpdmF0ZSBmaWVsZFwiKTtcbiAgcmV0dXJuIGdldHRlciA/IGdldHRlci5jYWxsKG9iaikgOiBtZW1iZXIuZ2V0KG9iaik7XG59O1xudmFyIF9fcHJpdmF0ZUFkZCQzID0gKG9iaiwgbWVtYmVyLCB2YWx1ZSkgPT4ge1xuICBpZiAobWVtYmVyLmhhcyhvYmopKSB0aHJvdyBUeXBlRXJyb3IoXCJDYW5ub3QgYWRkIHRoZSBzYW1lIHByaXZhdGUgbWVtYmVyIG1vcmUgdGhhbiBvbmNlXCIpO1xuICBtZW1iZXIgaW5zdGFuY2VvZiBXZWFrU2V0ID8gbWVtYmVyLmFkZChvYmopIDogbWVtYmVyLnNldChvYmosIHZhbHVlKTtcbn07XG52YXIgX19wcml2YXRlU2V0JDMgPSAob2JqLCBtZW1iZXIsIHZhbHVlLCBzZXR0ZXIpID0+IHtcbiAgX19hY2Nlc3NDaGVjayQzKG9iaiwgbWVtYmVyLCBcIndyaXRlIHRvIHByaXZhdGUgZmllbGRcIik7XG4gIHNldHRlciA/IHNldHRlci5jYWxsKG9iaiwgdmFsdWUpIDogbWVtYmVyLnNldChvYmosIHZhbHVlKTtcbiAgcmV0dXJuIHZhbHVlO1xufTtcbnZhciBfY2xpZW50JDIsIF9odHRwUmVxdWVzdCQzLCBfY2xpZW50MiQyLCBfaHR0cFJlcXVlc3QyJDM7XG5jbGFzcyBPYnNlcnZhYmxlRGF0YXNldHNDbGllbnQge1xuICBjb25zdHJ1Y3RvcihjbGllbnQsIGh0dHBSZXF1ZXN0KSB7XG4gICAgX19wcml2YXRlQWRkJDModGhpcywgX2NsaWVudCQyLCB2b2lkIDApO1xuICAgIF9fcHJpdmF0ZUFkZCQzKHRoaXMsIF9odHRwUmVxdWVzdCQzLCB2b2lkIDApO1xuICAgIF9fcHJpdmF0ZVNldCQzKHRoaXMsIF9jbGllbnQkMiwgY2xpZW50KTtcbiAgICBfX3ByaXZhdGVTZXQkMyh0aGlzLCBfaHR0cFJlcXVlc3QkMywgaHR0cFJlcXVlc3QpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgZGF0YXNldCB3aXRoIHRoZSBnaXZlbiBuYW1lXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIC0gTmFtZSBvZiB0aGUgZGF0YXNldCB0byBjcmVhdGVcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBPcHRpb25zIGZvciB0aGUgZGF0YXNldFxuICAgKi9cbiAgY3JlYXRlKG5hbWUsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gX21vZGlmeShfX3ByaXZhdGVHZXQkMyh0aGlzLCBfY2xpZW50JDIpLCBfX3ByaXZhdGVHZXQkMyh0aGlzLCBfaHR0cFJlcXVlc3QkMyksIFwiUFVUXCIsIG5hbWUsIG9wdGlvbnMpO1xuICB9XG4gIC8qKlxuICAgKiBFZGl0IGEgZGF0YXNldCB3aXRoIHRoZSBnaXZlbiBuYW1lXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIC0gTmFtZSBvZiB0aGUgZGF0YXNldCB0byBlZGl0XG4gICAqIEBwYXJhbSBvcHRpb25zIC0gTmV3IG9wdGlvbnMgZm9yIHRoZSBkYXRhc2V0XG4gICAqL1xuICBlZGl0KG5hbWUsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gX21vZGlmeShfX3ByaXZhdGVHZXQkMyh0aGlzLCBfY2xpZW50JDIpLCBfX3ByaXZhdGVHZXQkMyh0aGlzLCBfaHR0cFJlcXVlc3QkMyksIFwiUEFUQ0hcIiwgbmFtZSwgb3B0aW9ucyk7XG4gIH1cbiAgLyoqXG4gICAqIERlbGV0ZSBhIGRhdGFzZXQgd2l0aCB0aGUgZ2l2ZW4gbmFtZVxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSAtIE5hbWUgb2YgdGhlIGRhdGFzZXQgdG8gZGVsZXRlXG4gICAqL1xuICBkZWxldGUobmFtZSkge1xuICAgIHJldHVybiBfbW9kaWZ5KF9fcHJpdmF0ZUdldCQzKHRoaXMsIF9jbGllbnQkMiksIF9fcHJpdmF0ZUdldCQzKHRoaXMsIF9odHRwUmVxdWVzdCQzKSwgXCJERUxFVEVcIiwgbmFtZSk7XG4gIH1cbiAgLyoqXG4gICAqIEZldGNoIGEgbGlzdCBvZiBkYXRhc2V0cyBmb3IgdGhlIGNvbmZpZ3VyZWQgcHJvamVjdFxuICAgKi9cbiAgbGlzdCgpIHtcbiAgICByZXR1cm4gX3JlcXVlc3QoX19wcml2YXRlR2V0JDModGhpcywgX2NsaWVudCQyKSwgX19wcml2YXRlR2V0JDModGhpcywgX2h0dHBSZXF1ZXN0JDMpLCB7XG4gICAgICB1cmk6IFwiL2RhdGFzZXRzXCIsXG4gICAgICB0YWc6IG51bGxcbiAgICB9KTtcbiAgfVxufVxuX2NsaWVudCQyID0gbmV3IFdlYWtNYXAoKTtcbl9odHRwUmVxdWVzdCQzID0gbmV3IFdlYWtNYXAoKTtcbmNsYXNzIERhdGFzZXRzQ2xpZW50IHtcbiAgY29uc3RydWN0b3IoY2xpZW50LCBodHRwUmVxdWVzdCkge1xuICAgIF9fcHJpdmF0ZUFkZCQzKHRoaXMsIF9jbGllbnQyJDIsIHZvaWQgMCk7XG4gICAgX19wcml2YXRlQWRkJDModGhpcywgX2h0dHBSZXF1ZXN0MiQzLCB2b2lkIDApO1xuICAgIF9fcHJpdmF0ZVNldCQzKHRoaXMsIF9jbGllbnQyJDIsIGNsaWVudCk7XG4gICAgX19wcml2YXRlU2V0JDModGhpcywgX2h0dHBSZXF1ZXN0MiQzLCBodHRwUmVxdWVzdCk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBkYXRhc2V0IHdpdGggdGhlIGdpdmVuIG5hbWVcbiAgICpcbiAgICogQHBhcmFtIG5hbWUgLSBOYW1lIG9mIHRoZSBkYXRhc2V0IHRvIGNyZWF0ZVxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbnMgZm9yIHRoZSBkYXRhc2V0XG4gICAqL1xuICBjcmVhdGUobmFtZSwgb3B0aW9ucykge1xuICAgIHJldHVybiByeGpzLmxhc3RWYWx1ZUZyb20oX21vZGlmeShfX3ByaXZhdGVHZXQkMyh0aGlzLCBfY2xpZW50MiQyKSwgX19wcml2YXRlR2V0JDModGhpcywgX2h0dHBSZXF1ZXN0MiQzKSwgXCJQVVRcIiwgbmFtZSwgb3B0aW9ucykpO1xuICB9XG4gIC8qKlxuICAgKiBFZGl0IGEgZGF0YXNldCB3aXRoIHRoZSBnaXZlbiBuYW1lXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIC0gTmFtZSBvZiB0aGUgZGF0YXNldCB0byBlZGl0XG4gICAqIEBwYXJhbSBvcHRpb25zIC0gTmV3IG9wdGlvbnMgZm9yIHRoZSBkYXRhc2V0XG4gICAqL1xuICBlZGl0KG5hbWUsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gcnhqcy5sYXN0VmFsdWVGcm9tKF9tb2RpZnkoX19wcml2YXRlR2V0JDModGhpcywgX2NsaWVudDIkMiksIF9fcHJpdmF0ZUdldCQzKHRoaXMsIF9odHRwUmVxdWVzdDIkMyksIFwiUEFUQ0hcIiwgbmFtZSwgb3B0aW9ucykpO1xuICB9XG4gIC8qKlxuICAgKiBEZWxldGUgYSBkYXRhc2V0IHdpdGggdGhlIGdpdmVuIG5hbWVcbiAgICpcbiAgICogQHBhcmFtIG5hbWUgLSBOYW1lIG9mIHRoZSBkYXRhc2V0IHRvIGRlbGV0ZVxuICAgKi9cbiAgZGVsZXRlKG5hbWUpIHtcbiAgICByZXR1cm4gcnhqcy5sYXN0VmFsdWVGcm9tKF9tb2RpZnkoX19wcml2YXRlR2V0JDModGhpcywgX2NsaWVudDIkMiksIF9fcHJpdmF0ZUdldCQzKHRoaXMsIF9odHRwUmVxdWVzdDIkMyksIFwiREVMRVRFXCIsIG5hbWUpKTtcbiAgfVxuICAvKipcbiAgICogRmV0Y2ggYSBsaXN0IG9mIGRhdGFzZXRzIGZvciB0aGUgY29uZmlndXJlZCBwcm9qZWN0XG4gICAqL1xuICBsaXN0KCkge1xuICAgIHJldHVybiByeGpzLmxhc3RWYWx1ZUZyb20oX3JlcXVlc3QoX19wcml2YXRlR2V0JDModGhpcywgX2NsaWVudDIkMiksIF9fcHJpdmF0ZUdldCQzKHRoaXMsIF9odHRwUmVxdWVzdDIkMyksIHtcbiAgICAgIHVyaTogXCIvZGF0YXNldHNcIixcbiAgICAgIHRhZzogbnVsbFxuICAgIH0pKTtcbiAgfVxufVxuX2NsaWVudDIkMiA9IG5ldyBXZWFrTWFwKCk7XG5faHR0cFJlcXVlc3QyJDMgPSBuZXcgV2Vha01hcCgpO1xuZnVuY3Rpb24gX21vZGlmeShjbGllbnQsIGh0dHBSZXF1ZXN0LCBtZXRob2QsIG5hbWUsIG9wdGlvbnMpIHtcbiAgZGF0YXNldChuYW1lKTtcbiAgcmV0dXJuIF9yZXF1ZXN0KGNsaWVudCwgaHR0cFJlcXVlc3QsIHtcbiAgICBtZXRob2QsXG4gICAgdXJpOiBcIi9kYXRhc2V0cy9cIi5jb25jYXQobmFtZSksXG4gICAgYm9keTogb3B0aW9ucyxcbiAgICB0YWc6IG51bGxcbiAgfSk7XG59XG52YXIgX19hY2Nlc3NDaGVjayQyID0gKG9iaiwgbWVtYmVyLCBtc2cpID0+IHtcbiAgaWYgKCFtZW1iZXIuaGFzKG9iaikpIHRocm93IFR5cGVFcnJvcihcIkNhbm5vdCBcIiArIG1zZyk7XG59O1xudmFyIF9fcHJpdmF0ZUdldCQyID0gKG9iaiwgbWVtYmVyLCBnZXR0ZXIpID0+IHtcbiAgX19hY2Nlc3NDaGVjayQyKG9iaiwgbWVtYmVyLCBcInJlYWQgZnJvbSBwcml2YXRlIGZpZWxkXCIpO1xuICByZXR1cm4gZ2V0dGVyID8gZ2V0dGVyLmNhbGwob2JqKSA6IG1lbWJlci5nZXQob2JqKTtcbn07XG52YXIgX19wcml2YXRlQWRkJDIgPSAob2JqLCBtZW1iZXIsIHZhbHVlKSA9PiB7XG4gIGlmIChtZW1iZXIuaGFzKG9iaikpIHRocm93IFR5cGVFcnJvcihcIkNhbm5vdCBhZGQgdGhlIHNhbWUgcHJpdmF0ZSBtZW1iZXIgbW9yZSB0aGFuIG9uY2VcIik7XG4gIG1lbWJlciBpbnN0YW5jZW9mIFdlYWtTZXQgPyBtZW1iZXIuYWRkKG9iaikgOiBtZW1iZXIuc2V0KG9iaiwgdmFsdWUpO1xufTtcbnZhciBfX3ByaXZhdGVTZXQkMiA9IChvYmosIG1lbWJlciwgdmFsdWUsIHNldHRlcikgPT4ge1xuICBfX2FjY2Vzc0NoZWNrJDIob2JqLCBtZW1iZXIsIFwid3JpdGUgdG8gcHJpdmF0ZSBmaWVsZFwiKTtcbiAgc2V0dGVyID8gc2V0dGVyLmNhbGwob2JqLCB2YWx1ZSkgOiBtZW1iZXIuc2V0KG9iaiwgdmFsdWUpO1xuICByZXR1cm4gdmFsdWU7XG59O1xudmFyIF9jbGllbnQkMSwgX2h0dHBSZXF1ZXN0JDIsIF9jbGllbnQyJDEsIF9odHRwUmVxdWVzdDIkMjtcbmNsYXNzIE9ic2VydmFibGVQcm9qZWN0c0NsaWVudCB7XG4gIGNvbnN0cnVjdG9yKGNsaWVudCwgaHR0cFJlcXVlc3QpIHtcbiAgICBfX3ByaXZhdGVBZGQkMih0aGlzLCBfY2xpZW50JDEsIHZvaWQgMCk7XG4gICAgX19wcml2YXRlQWRkJDIodGhpcywgX2h0dHBSZXF1ZXN0JDIsIHZvaWQgMCk7XG4gICAgX19wcml2YXRlU2V0JDIodGhpcywgX2NsaWVudCQxLCBjbGllbnQpO1xuICAgIF9fcHJpdmF0ZVNldCQyKHRoaXMsIF9odHRwUmVxdWVzdCQyLCBodHRwUmVxdWVzdCk7XG4gIH1cbiAgbGlzdChvcHRpb25zKSB7XG4gICAgY29uc3QgdXJpID0gKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuaW5jbHVkZU1lbWJlcnMpID09PSBmYWxzZSA/IFwiL3Byb2plY3RzP2luY2x1ZGVNZW1iZXJzPWZhbHNlXCIgOiBcIi9wcm9qZWN0c1wiO1xuICAgIHJldHVybiBfcmVxdWVzdChfX3ByaXZhdGVHZXQkMih0aGlzLCBfY2xpZW50JDEpLCBfX3ByaXZhdGVHZXQkMih0aGlzLCBfaHR0cFJlcXVlc3QkMiksIHtcbiAgICAgIHVyaVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBGZXRjaCBhIHByb2plY3QgYnkgcHJvamVjdCBJRFxuICAgKlxuICAgKiBAcGFyYW0gcHJvamVjdElkIC0gSUQgb2YgdGhlIHByb2plY3QgdG8gZmV0Y2hcbiAgICovXG4gIGdldEJ5SWQocHJvamVjdElkKSB7XG4gICAgcmV0dXJuIF9yZXF1ZXN0KF9fcHJpdmF0ZUdldCQyKHRoaXMsIF9jbGllbnQkMSksIF9fcHJpdmF0ZUdldCQyKHRoaXMsIF9odHRwUmVxdWVzdCQyKSwge1xuICAgICAgdXJpOiBcIi9wcm9qZWN0cy9cIi5jb25jYXQocHJvamVjdElkKVxuICAgIH0pO1xuICB9XG59XG5fY2xpZW50JDEgPSBuZXcgV2Vha01hcCgpO1xuX2h0dHBSZXF1ZXN0JDIgPSBuZXcgV2Vha01hcCgpO1xuY2xhc3MgUHJvamVjdHNDbGllbnQge1xuICBjb25zdHJ1Y3RvcihjbGllbnQsIGh0dHBSZXF1ZXN0KSB7XG4gICAgX19wcml2YXRlQWRkJDIodGhpcywgX2NsaWVudDIkMSwgdm9pZCAwKTtcbiAgICBfX3ByaXZhdGVBZGQkMih0aGlzLCBfaHR0cFJlcXVlc3QyJDIsIHZvaWQgMCk7XG4gICAgX19wcml2YXRlU2V0JDIodGhpcywgX2NsaWVudDIkMSwgY2xpZW50KTtcbiAgICBfX3ByaXZhdGVTZXQkMih0aGlzLCBfaHR0cFJlcXVlc3QyJDIsIGh0dHBSZXF1ZXN0KTtcbiAgfVxuICBsaXN0KG9wdGlvbnMpIHtcbiAgICBjb25zdCB1cmkgPSAob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5pbmNsdWRlTWVtYmVycykgPT09IGZhbHNlID8gXCIvcHJvamVjdHM/aW5jbHVkZU1lbWJlcnM9ZmFsc2VcIiA6IFwiL3Byb2plY3RzXCI7XG4gICAgcmV0dXJuIHJ4anMubGFzdFZhbHVlRnJvbShfcmVxdWVzdChfX3ByaXZhdGVHZXQkMih0aGlzLCBfY2xpZW50MiQxKSwgX19wcml2YXRlR2V0JDIodGhpcywgX2h0dHBSZXF1ZXN0MiQyKSwge1xuICAgICAgdXJpXG4gICAgfSkpO1xuICB9XG4gIC8qKlxuICAgKiBGZXRjaCBhIHByb2plY3QgYnkgcHJvamVjdCBJRFxuICAgKlxuICAgKiBAcGFyYW0gcHJvamVjdElkIC0gSUQgb2YgdGhlIHByb2plY3QgdG8gZmV0Y2hcbiAgICovXG4gIGdldEJ5SWQocHJvamVjdElkKSB7XG4gICAgcmV0dXJuIHJ4anMubGFzdFZhbHVlRnJvbShfcmVxdWVzdChfX3ByaXZhdGVHZXQkMih0aGlzLCBfY2xpZW50MiQxKSwgX19wcml2YXRlR2V0JDIodGhpcywgX2h0dHBSZXF1ZXN0MiQyKSwge1xuICAgICAgdXJpOiBcIi9wcm9qZWN0cy9cIi5jb25jYXQocHJvamVjdElkKVxuICAgIH0pKTtcbiAgfVxufVxuX2NsaWVudDIkMSA9IG5ldyBXZWFrTWFwKCk7XG5faHR0cFJlcXVlc3QyJDIgPSBuZXcgV2Vha01hcCgpO1xudmFyIF9fYWNjZXNzQ2hlY2skMSA9IChvYmosIG1lbWJlciwgbXNnKSA9PiB7XG4gIGlmICghbWVtYmVyLmhhcyhvYmopKSB0aHJvdyBUeXBlRXJyb3IoXCJDYW5ub3QgXCIgKyBtc2cpO1xufTtcbnZhciBfX3ByaXZhdGVHZXQkMSA9IChvYmosIG1lbWJlciwgZ2V0dGVyKSA9PiB7XG4gIF9fYWNjZXNzQ2hlY2skMShvYmosIG1lbWJlciwgXCJyZWFkIGZyb20gcHJpdmF0ZSBmaWVsZFwiKTtcbiAgcmV0dXJuIGdldHRlciA/IGdldHRlci5jYWxsKG9iaikgOiBtZW1iZXIuZ2V0KG9iaik7XG59O1xudmFyIF9fcHJpdmF0ZUFkZCQxID0gKG9iaiwgbWVtYmVyLCB2YWx1ZSkgPT4ge1xuICBpZiAobWVtYmVyLmhhcyhvYmopKSB0aHJvdyBUeXBlRXJyb3IoXCJDYW5ub3QgYWRkIHRoZSBzYW1lIHByaXZhdGUgbWVtYmVyIG1vcmUgdGhhbiBvbmNlXCIpO1xuICBtZW1iZXIgaW5zdGFuY2VvZiBXZWFrU2V0ID8gbWVtYmVyLmFkZChvYmopIDogbWVtYmVyLnNldChvYmosIHZhbHVlKTtcbn07XG52YXIgX19wcml2YXRlU2V0JDEgPSAob2JqLCBtZW1iZXIsIHZhbHVlLCBzZXR0ZXIpID0+IHtcbiAgX19hY2Nlc3NDaGVjayQxKG9iaiwgbWVtYmVyLCBcIndyaXRlIHRvIHByaXZhdGUgZmllbGRcIik7XG4gIHNldHRlciA/IHNldHRlci5jYWxsKG9iaiwgdmFsdWUpIDogbWVtYmVyLnNldChvYmosIHZhbHVlKTtcbiAgcmV0dXJuIHZhbHVlO1xufTtcbnZhciBfY2xpZW50LCBfaHR0cFJlcXVlc3QkMSwgX2NsaWVudDIsIF9odHRwUmVxdWVzdDIkMTtcbmNsYXNzIE9ic2VydmFibGVVc2Vyc0NsaWVudCB7XG4gIGNvbnN0cnVjdG9yKGNsaWVudCwgaHR0cFJlcXVlc3QpIHtcbiAgICBfX3ByaXZhdGVBZGQkMSh0aGlzLCBfY2xpZW50LCB2b2lkIDApO1xuICAgIF9fcHJpdmF0ZUFkZCQxKHRoaXMsIF9odHRwUmVxdWVzdCQxLCB2b2lkIDApO1xuICAgIF9fcHJpdmF0ZVNldCQxKHRoaXMsIF9jbGllbnQsIGNsaWVudCk7XG4gICAgX19wcml2YXRlU2V0JDEodGhpcywgX2h0dHBSZXF1ZXN0JDEsIGh0dHBSZXF1ZXN0KTtcbiAgfVxuICAvKipcbiAgICogRmV0Y2ggYSB1c2VyIGJ5IHVzZXIgSURcbiAgICpcbiAgICogQHBhcmFtIGlkIC0gVXNlciBJRCBvZiB0aGUgdXNlciB0byBmZXRjaC4gSWYgYG1lYCBpcyBwcm92aWRlZCwgYSBtaW5pbWFsIHJlc3BvbnNlIGluY2x1ZGluZyB0aGUgdXNlcnMgcm9sZSBpcyByZXR1cm5lZC5cbiAgICovXG4gIGdldEJ5SWQoaWQpIHtcbiAgICByZXR1cm4gX3JlcXVlc3QoX19wcml2YXRlR2V0JDEodGhpcywgX2NsaWVudCksIF9fcHJpdmF0ZUdldCQxKHRoaXMsIF9odHRwUmVxdWVzdCQxKSwge1xuICAgICAgdXJpOiBcIi91c2Vycy9cIi5jb25jYXQoaWQpXG4gICAgfSk7XG4gIH1cbn1cbl9jbGllbnQgPSBuZXcgV2Vha01hcCgpO1xuX2h0dHBSZXF1ZXN0JDEgPSBuZXcgV2Vha01hcCgpO1xuY2xhc3MgVXNlcnNDbGllbnQge1xuICBjb25zdHJ1Y3RvcihjbGllbnQsIGh0dHBSZXF1ZXN0KSB7XG4gICAgX19wcml2YXRlQWRkJDEodGhpcywgX2NsaWVudDIsIHZvaWQgMCk7XG4gICAgX19wcml2YXRlQWRkJDEodGhpcywgX2h0dHBSZXF1ZXN0MiQxLCB2b2lkIDApO1xuICAgIF9fcHJpdmF0ZVNldCQxKHRoaXMsIF9jbGllbnQyLCBjbGllbnQpO1xuICAgIF9fcHJpdmF0ZVNldCQxKHRoaXMsIF9odHRwUmVxdWVzdDIkMSwgaHR0cFJlcXVlc3QpO1xuICB9XG4gIC8qKlxuICAgKiBGZXRjaCBhIHVzZXIgYnkgdXNlciBJRFxuICAgKlxuICAgKiBAcGFyYW0gaWQgLSBVc2VyIElEIG9mIHRoZSB1c2VyIHRvIGZldGNoLiBJZiBgbWVgIGlzIHByb3ZpZGVkLCBhIG1pbmltYWwgcmVzcG9uc2UgaW5jbHVkaW5nIHRoZSB1c2VycyByb2xlIGlzIHJldHVybmVkLlxuICAgKi9cbiAgZ2V0QnlJZChpZCkge1xuICAgIHJldHVybiByeGpzLmxhc3RWYWx1ZUZyb20oX3JlcXVlc3QoX19wcml2YXRlR2V0JDEodGhpcywgX2NsaWVudDIpLCBfX3ByaXZhdGVHZXQkMSh0aGlzLCBfaHR0cFJlcXVlc3QyJDEpLCB7XG4gICAgICB1cmk6IFwiL3VzZXJzL1wiLmNvbmNhdChpZClcbiAgICB9KSk7XG4gIH1cbn1cbl9jbGllbnQyID0gbmV3IFdlYWtNYXAoKTtcbl9odHRwUmVxdWVzdDIkMSA9IG5ldyBXZWFrTWFwKCk7XG52YXIgX19hY2Nlc3NDaGVjayA9IChvYmosIG1lbWJlciwgbXNnKSA9PiB7XG4gIGlmICghbWVtYmVyLmhhcyhvYmopKSB0aHJvdyBUeXBlRXJyb3IoXCJDYW5ub3QgXCIgKyBtc2cpO1xufTtcbnZhciBfX3ByaXZhdGVHZXQgPSAob2JqLCBtZW1iZXIsIGdldHRlcikgPT4ge1xuICBfX2FjY2Vzc0NoZWNrKG9iaiwgbWVtYmVyLCBcInJlYWQgZnJvbSBwcml2YXRlIGZpZWxkXCIpO1xuICByZXR1cm4gZ2V0dGVyID8gZ2V0dGVyLmNhbGwob2JqKSA6IG1lbWJlci5nZXQob2JqKTtcbn07XG52YXIgX19wcml2YXRlQWRkID0gKG9iaiwgbWVtYmVyLCB2YWx1ZSkgPT4ge1xuICBpZiAobWVtYmVyLmhhcyhvYmopKSB0aHJvdyBUeXBlRXJyb3IoXCJDYW5ub3QgYWRkIHRoZSBzYW1lIHByaXZhdGUgbWVtYmVyIG1vcmUgdGhhbiBvbmNlXCIpO1xuICBtZW1iZXIgaW5zdGFuY2VvZiBXZWFrU2V0ID8gbWVtYmVyLmFkZChvYmopIDogbWVtYmVyLnNldChvYmosIHZhbHVlKTtcbn07XG52YXIgX19wcml2YXRlU2V0ID0gKG9iaiwgbWVtYmVyLCB2YWx1ZSwgc2V0dGVyKSA9PiB7XG4gIF9fYWNjZXNzQ2hlY2sob2JqLCBtZW1iZXIsIFwid3JpdGUgdG8gcHJpdmF0ZSBmaWVsZFwiKTtcbiAgc2V0dGVyID8gc2V0dGVyLmNhbGwob2JqLCB2YWx1ZSkgOiBtZW1iZXIuc2V0KG9iaiwgdmFsdWUpO1xuICByZXR1cm4gdmFsdWU7XG59O1xudmFyIF9jbGllbnRDb25maWcsIF9odHRwUmVxdWVzdCwgX2NsaWVudENvbmZpZzIsIF9odHRwUmVxdWVzdDI7XG5jb25zdCBfT2JzZXJ2YWJsZVNhbml0eUNsaWVudCA9IGNsYXNzIF9PYnNlcnZhYmxlU2FuaXR5Q2xpZW50IHtcbiAgY29uc3RydWN0b3IoaHR0cFJlcXVlc3QpIHtcbiAgICBsZXQgY29uZmlnID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBkZWZhdWx0Q29uZmlnO1xuICAgIC8qKlxuICAgICAqIFByaXZhdGUgcHJvcGVydGllc1xuICAgICAqL1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfY2xpZW50Q29uZmlnLCB2b2lkIDApO1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfaHR0cFJlcXVlc3QsIHZvaWQgMCk7XG4gICAgLyoqXG4gICAgICogSW5zdGFuY2UgcHJvcGVydGllc1xuICAgICAqL1xuICAgIHRoaXMubGlzdGVuID0gX2xpc3RlbjtcbiAgICB0aGlzLmNvbmZpZyhjb25maWcpO1xuICAgIF9fcHJpdmF0ZVNldCh0aGlzLCBfaHR0cFJlcXVlc3QsIGh0dHBSZXF1ZXN0KTtcbiAgICB0aGlzLmFzc2V0cyA9IG5ldyBPYnNlcnZhYmxlQXNzZXRzQ2xpZW50KHRoaXMsIF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QpKTtcbiAgICB0aGlzLmRhdGFzZXRzID0gbmV3IE9ic2VydmFibGVEYXRhc2V0c0NsaWVudCh0aGlzLCBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0KSk7XG4gICAgdGhpcy5wcm9qZWN0cyA9IG5ldyBPYnNlcnZhYmxlUHJvamVjdHNDbGllbnQodGhpcywgX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdCkpO1xuICAgIHRoaXMudXNlcnMgPSBuZXcgT2JzZXJ2YWJsZVVzZXJzQ2xpZW50KHRoaXMsIF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QpKTtcbiAgfVxuICAvKipcbiAgICogQ2xvbmUgdGhlIGNsaWVudCAtIHJldHVybnMgYSBuZXcgaW5zdGFuY2VcbiAgICovXG4gIGNsb25lKCkge1xuICAgIHJldHVybiBuZXcgX09ic2VydmFibGVTYW5pdHlDbGllbnQoX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdCksIHRoaXMuY29uZmlnKCkpO1xuICB9XG4gIGNvbmZpZyhuZXdDb25maWcpIHtcbiAgICBpZiAobmV3Q29uZmlnID09PSB2b2lkIDApIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLl9fcHJpdmF0ZUdldCh0aGlzLCBfY2xpZW50Q29uZmlnKVxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKF9fcHJpdmF0ZUdldCh0aGlzLCBfY2xpZW50Q29uZmlnKSAmJiBfX3ByaXZhdGVHZXQodGhpcywgX2NsaWVudENvbmZpZykuYWxsb3dSZWNvbmZpZ3VyZSA9PT0gZmFsc2UpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkV4aXN0aW5nIGNsaWVudCBpbnN0YW5jZSBjYW5ub3QgYmUgcmVjb25maWd1cmVkIC0gdXNlIGB3aXRoQ29uZmlnKG5ld0NvbmZpZylgIHRvIHJldHVybiBhIG5ldyBjbGllbnRcIik7XG4gICAgfVxuICAgIF9fcHJpdmF0ZVNldCh0aGlzLCBfY2xpZW50Q29uZmlnLCBpbml0Q29uZmlnKG5ld0NvbmZpZywgX19wcml2YXRlR2V0KHRoaXMsIF9jbGllbnRDb25maWcpIHx8IHt9KSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIENsb25lIHRoZSBjbGllbnQgd2l0aCBhIG5ldyAocGFydGlhbCkgY29uZmlndXJhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIG5ld0NvbmZpZyAtIE5ldyBjbGllbnQgY29uZmlndXJhdGlvbiBwcm9wZXJ0aWVzLCBzaGFsbG93bHkgbWVyZ2VkIHdpdGggZXhpc3RpbmcgY29uZmlndXJhdGlvblxuICAgKi9cbiAgd2l0aENvbmZpZyhuZXdDb25maWcpIHtcbiAgICByZXR1cm4gbmV3IF9PYnNlcnZhYmxlU2FuaXR5Q2xpZW50KF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QpLCB7XG4gICAgICAuLi50aGlzLmNvbmZpZygpLFxuICAgICAgLi4ubmV3Q29uZmlnXG4gICAgfSk7XG4gIH1cbiAgZmV0Y2gocXVlcnksIHBhcmFtcykge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgICByZXR1cm4gX2ZldGNoKHRoaXMsIF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QpLCBxdWVyeSwgcGFyYW1zLCBvcHRpb25zKTtcbiAgfVxuICAvKipcbiAgICogRmV0Y2ggYSBzaW5nbGUgZG9jdW1lbnQgd2l0aCB0aGUgZ2l2ZW4gSUQuXG4gICAqXG4gICAqIEBwYXJhbSBpZCAtIERvY3VtZW50IElEIHRvIGZldGNoXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gUmVxdWVzdCBvcHRpb25zXG4gICAqL1xuICBnZXREb2N1bWVudChpZCwgb3B0aW9ucykge1xuICAgIHJldHVybiBfZ2V0RG9jdW1lbnQodGhpcywgX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdCksIGlkLCBvcHRpb25zKTtcbiAgfVxuICAvKipcbiAgICogRmV0Y2ggbXVsdGlwbGUgZG9jdW1lbnRzIGluIG9uZSByZXF1ZXN0LlxuICAgKiBTaG91bGQgYmUgdXNlZCBzcGFyaW5nbHkgLSBwZXJmb3JtaW5nIGEgcXVlcnkgaXMgdXN1YWxseSBhIGJldHRlciBvcHRpb24uXG4gICAqIFRoZSBvcmRlci9wb3NpdGlvbiBvZiBkb2N1bWVudHMgaXMgcHJlc2VydmVkIGJhc2VkIG9uIHRoZSBvcmlnaW5hbCBhcnJheSBvZiBJRHMuXG4gICAqIElmIGFueSBvZiB0aGUgZG9jdW1lbnRzIGFyZSBtaXNzaW5nLCB0aGV5IHdpbGwgYmUgcmVwbGFjZWQgYnkgYSBgbnVsbGAgZW50cnkgaW4gdGhlIHJldHVybmVkIGFycmF5XG4gICAqXG4gICAqIEBwYXJhbSBpZHMgLSBEb2N1bWVudCBJRHMgdG8gZmV0Y2hcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBSZXF1ZXN0IG9wdGlvbnNcbiAgICovXG4gIGdldERvY3VtZW50cyhpZHMsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gX2dldERvY3VtZW50cyh0aGlzLCBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0KSwgaWRzLCBvcHRpb25zKTtcbiAgfVxuICBjcmVhdGUoZG9jdW1lbnQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gX2NyZWF0ZSh0aGlzLCBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0KSwgZG9jdW1lbnQsIFwiY3JlYXRlXCIsIG9wdGlvbnMpO1xuICB9XG4gIGNyZWF0ZUlmTm90RXhpc3RzKGRvY3VtZW50LCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIF9jcmVhdGVJZk5vdEV4aXN0cyh0aGlzLCBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0KSwgZG9jdW1lbnQsIG9wdGlvbnMpO1xuICB9XG4gIGNyZWF0ZU9yUmVwbGFjZShkb2N1bWVudCwgb3B0aW9ucykge1xuICAgIHJldHVybiBfY3JlYXRlT3JSZXBsYWNlKHRoaXMsIF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QpLCBkb2N1bWVudCwgb3B0aW9ucyk7XG4gIH1cbiAgZGVsZXRlKHNlbGVjdGlvbiwgb3B0aW9ucykge1xuICAgIHJldHVybiBfZGVsZXRlKHRoaXMsIF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QpLCBzZWxlY3Rpb24sIG9wdGlvbnMpO1xuICB9XG4gIG11dGF0ZShvcGVyYXRpb25zLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIF9tdXRhdGUodGhpcywgX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdCksIG9wZXJhdGlvbnMsIG9wdGlvbnMpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgYnVpbGRhYmxlIHBhdGNoIG9mIG9wZXJhdGlvbnMgdG8gcGVyZm9ybVxuICAgKlxuICAgKiBAcGFyYW0gc2VsZWN0aW9uIC0gRG9jdW1lbnQgSUQsIGFuIGFycmF5IG9mIGRvY3VtZW50IElEcywgb3IgYW4gb2JqZWN0IHdpdGggYHF1ZXJ5YCBhbmQgb3B0aW9uYWwgYHBhcmFtc2AsIGRlZmluaW5nIHdoaWNoIGRvY3VtZW50KHMpIHRvIHBhdGNoXG4gICAqIEBwYXJhbSBvcGVyYXRpb25zIC0gT3B0aW9uYWwgb2JqZWN0IG9mIHBhdGNoIG9wZXJhdGlvbnMgdG8gaW5pdGlhbGl6ZSB0aGUgcGF0Y2ggaW5zdGFuY2Ugd2l0aFxuICAgKiBAcmV0dXJucyBQYXRjaCBpbnN0YW5jZSAtIGNhbGwgYC5jb21taXQoKWAgdG8gcGVyZm9ybSB0aGUgb3BlcmF0aW9ucyBkZWZpbmVkXG4gICAqL1xuICBwYXRjaChzZWxlY3Rpb24sIG9wZXJhdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGVQYXRjaChzZWxlY3Rpb24sIG9wZXJhdGlvbnMsIHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgdHJhbnNhY3Rpb24gb2YgbXV0YXRpb25zXG4gICAqXG4gICAqIEBwYXJhbSBvcGVyYXRpb25zIC0gT3B0aW9uYWwgYXJyYXkgb2YgbXV0YXRpb24gb3BlcmF0aW9ucyB0byBpbml0aWFsaXplIHRoZSB0cmFuc2FjdGlvbiBpbnN0YW5jZSB3aXRoXG4gICAqL1xuICB0cmFuc2FjdGlvbihvcGVyYXRpb25zKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlVHJhbnNhY3Rpb24ob3BlcmF0aW9ucywgdGhpcyk7XG4gIH1cbiAgLyoqXG4gICAqIFBlcmZvcm0gYW4gSFRUUCByZXF1ZXN0IGFnYWluc3QgdGhlIFNhbml0eSBBUElcbiAgICpcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBSZXF1ZXN0IG9wdGlvbnNcbiAgICovXG4gIHJlcXVlc3Qob3B0aW9ucykge1xuICAgIHJldHVybiBfcmVxdWVzdCh0aGlzLCBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0KSwgb3B0aW9ucyk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBhIFNhbml0eSBBUEkgVVJMIGZvciB0aGUgVVJJIHByb3ZpZGVkXG4gICAqXG4gICAqIEBwYXJhbSB1cmkgLSBVUkkvcGF0aCB0byBidWlsZCBVUkwgZm9yXG4gICAqIEBwYXJhbSBjYW5Vc2VDZG4gLSBXaGV0aGVyIG9yIG5vdCB0byBhbGxvdyB1c2luZyB0aGUgQVBJIENETiBmb3IgdGhpcyByb3V0ZVxuICAgKi9cbiAgZ2V0VXJsKHVyaSwgY2FuVXNlQ2RuKSB7XG4gICAgcmV0dXJuIF9nZXRVcmwodGhpcywgdXJpLCBjYW5Vc2VDZG4pO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgYSBTYW5pdHkgQVBJIFVSTCBmb3IgdGhlIGRhdGEgb3BlcmF0aW9uIGFuZCBwYXRoIHByb3ZpZGVkXG4gICAqXG4gICAqIEBwYXJhbSBvcGVyYXRpb24gLSBEYXRhIG9wZXJhdGlvbiAoZWcgYHF1ZXJ5YCwgYG11dGF0ZWAsIGBsaXN0ZW5gIG9yIHNpbWlsYXIpXG4gICAqIEBwYXJhbSBwYXRoIC0gUGF0aCB0byBhcHBlbmQgYWZ0ZXIgdGhlIG9wZXJhdGlvblxuICAgKi9cbiAgZ2V0RGF0YVVybChvcGVyYXRpb24sIHBhdGgpIHtcbiAgICByZXR1cm4gX2dldERhdGFVcmwodGhpcywgb3BlcmF0aW9uLCBwYXRoKTtcbiAgfVxufTtcbl9jbGllbnRDb25maWcgPSBuZXcgV2Vha01hcCgpO1xuX2h0dHBSZXF1ZXN0ID0gbmV3IFdlYWtNYXAoKTtcbmxldCBPYnNlcnZhYmxlU2FuaXR5Q2xpZW50ID0gX09ic2VydmFibGVTYW5pdHlDbGllbnQ7XG5jb25zdCBfU2FuaXR5Q2xpZW50ID0gY2xhc3MgX1Nhbml0eUNsaWVudCB7XG4gIGNvbnN0cnVjdG9yKGh0dHBSZXF1ZXN0KSB7XG4gICAgbGV0IGNvbmZpZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZGVmYXVsdENvbmZpZztcbiAgICAvKipcbiAgICAgKiBQcml2YXRlIHByb3BlcnRpZXNcbiAgICAgKi9cbiAgICBfX3ByaXZhdGVBZGQodGhpcywgX2NsaWVudENvbmZpZzIsIHZvaWQgMCk7XG4gICAgX19wcml2YXRlQWRkKHRoaXMsIF9odHRwUmVxdWVzdDIsIHZvaWQgMCk7XG4gICAgLyoqXG4gICAgICogSW5zdGFuY2UgcHJvcGVydGllc1xuICAgICAqL1xuICAgIHRoaXMubGlzdGVuID0gX2xpc3RlbjtcbiAgICB0aGlzLmNvbmZpZyhjb25maWcpO1xuICAgIF9fcHJpdmF0ZVNldCh0aGlzLCBfaHR0cFJlcXVlc3QyLCBodHRwUmVxdWVzdCk7XG4gICAgdGhpcy5hc3NldHMgPSBuZXcgQXNzZXRzQ2xpZW50KHRoaXMsIF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QyKSk7XG4gICAgdGhpcy5kYXRhc2V0cyA9IG5ldyBEYXRhc2V0c0NsaWVudCh0aGlzLCBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0MikpO1xuICAgIHRoaXMucHJvamVjdHMgPSBuZXcgUHJvamVjdHNDbGllbnQodGhpcywgX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdDIpKTtcbiAgICB0aGlzLnVzZXJzID0gbmV3IFVzZXJzQ2xpZW50KHRoaXMsIF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QyKSk7XG4gICAgdGhpcy5vYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGVTYW5pdHlDbGllbnQoaHR0cFJlcXVlc3QsIGNvbmZpZyk7XG4gIH1cbiAgLyoqXG4gICAqIENsb25lIHRoZSBjbGllbnQgLSByZXR1cm5zIGEgbmV3IGluc3RhbmNlXG4gICAqL1xuICBjbG9uZSgpIHtcbiAgICByZXR1cm4gbmV3IF9TYW5pdHlDbGllbnQoX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdDIpLCB0aGlzLmNvbmZpZygpKTtcbiAgfVxuICBjb25maWcobmV3Q29uZmlnKSB7XG4gICAgaWYgKG5ld0NvbmZpZyA9PT0gdm9pZCAwKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5fX3ByaXZhdGVHZXQodGhpcywgX2NsaWVudENvbmZpZzIpXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAoX19wcml2YXRlR2V0KHRoaXMsIF9jbGllbnRDb25maWcyKSAmJiBfX3ByaXZhdGVHZXQodGhpcywgX2NsaWVudENvbmZpZzIpLmFsbG93UmVjb25maWd1cmUgPT09IGZhbHNlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFeGlzdGluZyBjbGllbnQgaW5zdGFuY2UgY2Fubm90IGJlIHJlY29uZmlndXJlZCAtIHVzZSBgd2l0aENvbmZpZyhuZXdDb25maWcpYCB0byByZXR1cm4gYSBuZXcgY2xpZW50XCIpO1xuICAgIH1cbiAgICBpZiAodGhpcy5vYnNlcnZhYmxlKSB7XG4gICAgICB0aGlzLm9ic2VydmFibGUuY29uZmlnKG5ld0NvbmZpZyk7XG4gICAgfVxuICAgIF9fcHJpdmF0ZVNldCh0aGlzLCBfY2xpZW50Q29uZmlnMiwgaW5pdENvbmZpZyhuZXdDb25maWcsIF9fcHJpdmF0ZUdldCh0aGlzLCBfY2xpZW50Q29uZmlnMikgfHwge30pKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogQ2xvbmUgdGhlIGNsaWVudCB3aXRoIGEgbmV3IChwYXJ0aWFsKSBjb25maWd1cmF0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gbmV3Q29uZmlnIC0gTmV3IGNsaWVudCBjb25maWd1cmF0aW9uIHByb3BlcnRpZXMsIHNoYWxsb3dseSBtZXJnZWQgd2l0aCBleGlzdGluZyBjb25maWd1cmF0aW9uXG4gICAqL1xuICB3aXRoQ29uZmlnKG5ld0NvbmZpZykge1xuICAgIHJldHVybiBuZXcgX1Nhbml0eUNsaWVudChfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0MiksIHtcbiAgICAgIC4uLnRoaXMuY29uZmlnKCksXG4gICAgICAuLi5uZXdDb25maWdcbiAgICB9KTtcbiAgfVxuICBmZXRjaChxdWVyeSwgcGFyYW1zKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICAgIHJldHVybiByeGpzLmxhc3RWYWx1ZUZyb20oX2ZldGNoKHRoaXMsIF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QyKSwgcXVlcnksIHBhcmFtcywgb3B0aW9ucykpO1xuICB9XG4gIC8qKlxuICAgKiBGZXRjaCBhIHNpbmdsZSBkb2N1bWVudCB3aXRoIHRoZSBnaXZlbiBJRC5cbiAgICpcbiAgICogQHBhcmFtIGlkIC0gRG9jdW1lbnQgSUQgdG8gZmV0Y2hcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBSZXF1ZXN0IG9wdGlvbnNcbiAgICovXG4gIGdldERvY3VtZW50KGlkLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHJ4anMubGFzdFZhbHVlRnJvbShfZ2V0RG9jdW1lbnQodGhpcywgX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdDIpLCBpZCwgb3B0aW9ucykpO1xuICB9XG4gIC8qKlxuICAgKiBGZXRjaCBtdWx0aXBsZSBkb2N1bWVudHMgaW4gb25lIHJlcXVlc3QuXG4gICAqIFNob3VsZCBiZSB1c2VkIHNwYXJpbmdseSAtIHBlcmZvcm1pbmcgYSBxdWVyeSBpcyB1c3VhbGx5IGEgYmV0dGVyIG9wdGlvbi5cbiAgICogVGhlIG9yZGVyL3Bvc2l0aW9uIG9mIGRvY3VtZW50cyBpcyBwcmVzZXJ2ZWQgYmFzZWQgb24gdGhlIG9yaWdpbmFsIGFycmF5IG9mIElEcy5cbiAgICogSWYgYW55IG9mIHRoZSBkb2N1bWVudHMgYXJlIG1pc3NpbmcsIHRoZXkgd2lsbCBiZSByZXBsYWNlZCBieSBhIGBudWxsYCBlbnRyeSBpbiB0aGUgcmV0dXJuZWQgYXJyYXlcbiAgICpcbiAgICogQHBhcmFtIGlkcyAtIERvY3VtZW50IElEcyB0byBmZXRjaFxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIFJlcXVlc3Qgb3B0aW9uc1xuICAgKi9cbiAgZ2V0RG9jdW1lbnRzKGlkcywgb3B0aW9ucykge1xuICAgIHJldHVybiByeGpzLmxhc3RWYWx1ZUZyb20oX2dldERvY3VtZW50cyh0aGlzLCBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0MiksIGlkcywgb3B0aW9ucykpO1xuICB9XG4gIGNyZWF0ZShkb2N1bWVudCwgb3B0aW9ucykge1xuICAgIHJldHVybiByeGpzLmxhc3RWYWx1ZUZyb20oX2NyZWF0ZSh0aGlzLCBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0MiksIGRvY3VtZW50LCBcImNyZWF0ZVwiLCBvcHRpb25zKSk7XG4gIH1cbiAgY3JlYXRlSWZOb3RFeGlzdHMoZG9jdW1lbnQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gcnhqcy5sYXN0VmFsdWVGcm9tKF9jcmVhdGVJZk5vdEV4aXN0cyh0aGlzLCBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0MiksIGRvY3VtZW50LCBvcHRpb25zKSk7XG4gIH1cbiAgY3JlYXRlT3JSZXBsYWNlKGRvY3VtZW50LCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHJ4anMubGFzdFZhbHVlRnJvbShfY3JlYXRlT3JSZXBsYWNlKHRoaXMsIF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QyKSwgZG9jdW1lbnQsIG9wdGlvbnMpKTtcbiAgfVxuICBkZWxldGUoc2VsZWN0aW9uLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHJ4anMubGFzdFZhbHVlRnJvbShfZGVsZXRlKHRoaXMsIF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QyKSwgc2VsZWN0aW9uLCBvcHRpb25zKSk7XG4gIH1cbiAgbXV0YXRlKG9wZXJhdGlvbnMsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gcnhqcy5sYXN0VmFsdWVGcm9tKF9tdXRhdGUodGhpcywgX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdDIpLCBvcGVyYXRpb25zLCBvcHRpb25zKSk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBidWlsZGFibGUgcGF0Y2ggb2Ygb3BlcmF0aW9ucyB0byBwZXJmb3JtXG4gICAqXG4gICAqIEBwYXJhbSBzZWxlY3Rpb24gLSBEb2N1bWVudCBJRCwgYW4gYXJyYXkgb2YgZG9jdW1lbnQgSURzLCBvciBhbiBvYmplY3Qgd2l0aCBgcXVlcnlgIGFuZCBvcHRpb25hbCBgcGFyYW1zYCwgZGVmaW5pbmcgd2hpY2ggZG9jdW1lbnQocykgdG8gcGF0Y2hcbiAgICogQHBhcmFtIG9wZXJhdGlvbnMgLSBPcHRpb25hbCBvYmplY3Qgb2YgcGF0Y2ggb3BlcmF0aW9ucyB0byBpbml0aWFsaXplIHRoZSBwYXRjaCBpbnN0YW5jZSB3aXRoXG4gICAqIEByZXR1cm5zIFBhdGNoIGluc3RhbmNlIC0gY2FsbCBgLmNvbW1pdCgpYCB0byBwZXJmb3JtIHRoZSBvcGVyYXRpb25zIGRlZmluZWRcbiAgICovXG4gIHBhdGNoKGRvY3VtZW50SWQsIG9wZXJhdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IFBhdGNoKGRvY3VtZW50SWQsIG9wZXJhdGlvbnMsIHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgdHJhbnNhY3Rpb24gb2YgbXV0YXRpb25zXG4gICAqXG4gICAqIEBwYXJhbSBvcGVyYXRpb25zIC0gT3B0aW9uYWwgYXJyYXkgb2YgbXV0YXRpb24gb3BlcmF0aW9ucyB0byBpbml0aWFsaXplIHRoZSB0cmFuc2FjdGlvbiBpbnN0YW5jZSB3aXRoXG4gICAqL1xuICB0cmFuc2FjdGlvbihvcGVyYXRpb25zKSB7XG4gICAgcmV0dXJuIG5ldyBUcmFuc2FjdGlvbihvcGVyYXRpb25zLCB0aGlzKTtcbiAgfVxuICAvKipcbiAgICogUGVyZm9ybSBhIHJlcXVlc3QgYWdhaW5zdCB0aGUgU2FuaXR5IEFQSVxuICAgKiBOT1RFOiBPbmx5IHVzZSB0aGlzIGZvciBTYW5pdHkgQVBJIGVuZHBvaW50cywgbm90IGZvciB5b3VyIG93biBBUElzIVxuICAgKlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIFJlcXVlc3Qgb3B0aW9uc1xuICAgKiBAcmV0dXJucyBQcm9taXNlIHJlc29sdmluZyB0byB0aGUgcmVzcG9uc2UgYm9keVxuICAgKi9cbiAgcmVxdWVzdChvcHRpb25zKSB7XG4gICAgcmV0dXJuIHJ4anMubGFzdFZhbHVlRnJvbShfcmVxdWVzdCh0aGlzLCBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0MiksIG9wdGlvbnMpKTtcbiAgfVxuICAvKipcbiAgICogUGVyZm9ybSBhbiBIVFRQIHJlcXVlc3QgYSBgL2RhdGFgIHN1Yi1lbmRwb2ludFxuICAgKiBOT1RFOiBDb25zaWRlcmVkIGludGVybmFsLCB0aHVzIG1hcmtlZCBhcyBkZXByZWNhdGVkLiBVc2UgYHJlcXVlc3RgIGluc3RlYWQuXG4gICAqXG4gICAqIEBkZXByZWNhdGVkIC0gVXNlIGByZXF1ZXN0KClgIG9yIHlvdXIgb3duIEhUVFAgbGlicmFyeSBpbnN0ZWFkXG4gICAqIEBwYXJhbSBlbmRwb2ludCAtIEVuZHBvaW50IHRvIGhpdCAobXV0YXRlLCBxdWVyeSBldGMpXG4gICAqIEBwYXJhbSBib2R5IC0gUmVxdWVzdCBib2R5XG4gICAqIEBwYXJhbSBvcHRpb25zIC0gUmVxdWVzdCBvcHRpb25zXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgZGF0YVJlcXVlc3QoZW5kcG9pbnQsIGJvZHksIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gcnhqcy5sYXN0VmFsdWVGcm9tKF9kYXRhUmVxdWVzdCh0aGlzLCBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0MiksIGVuZHBvaW50LCBib2R5LCBvcHRpb25zKSk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBhIFNhbml0eSBBUEkgVVJMIGZvciB0aGUgVVJJIHByb3ZpZGVkXG4gICAqXG4gICAqIEBwYXJhbSB1cmkgLSBVUkkvcGF0aCB0byBidWlsZCBVUkwgZm9yXG4gICAqIEBwYXJhbSBjYW5Vc2VDZG4gLSBXaGV0aGVyIG9yIG5vdCB0byBhbGxvdyB1c2luZyB0aGUgQVBJIENETiBmb3IgdGhpcyByb3V0ZVxuICAgKi9cbiAgZ2V0VXJsKHVyaSwgY2FuVXNlQ2RuKSB7XG4gICAgcmV0dXJuIF9nZXRVcmwodGhpcywgdXJpLCBjYW5Vc2VDZG4pO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgYSBTYW5pdHkgQVBJIFVSTCBmb3IgdGhlIGRhdGEgb3BlcmF0aW9uIGFuZCBwYXRoIHByb3ZpZGVkXG4gICAqXG4gICAqIEBwYXJhbSBvcGVyYXRpb24gLSBEYXRhIG9wZXJhdGlvbiAoZWcgYHF1ZXJ5YCwgYG11dGF0ZWAsIGBsaXN0ZW5gIG9yIHNpbWlsYXIpXG4gICAqIEBwYXJhbSBwYXRoIC0gUGF0aCB0byBhcHBlbmQgYWZ0ZXIgdGhlIG9wZXJhdGlvblxuICAgKi9cbiAgZ2V0RGF0YVVybChvcGVyYXRpb24sIHBhdGgpIHtcbiAgICByZXR1cm4gX2dldERhdGFVcmwodGhpcywgb3BlcmF0aW9uLCBwYXRoKTtcbiAgfVxufTtcbl9jbGllbnRDb25maWcyID0gbmV3IFdlYWtNYXAoKTtcbl9odHRwUmVxdWVzdDIgPSBuZXcgV2Vha01hcCgpO1xubGV0IFNhbml0eUNsaWVudCA9IF9TYW5pdHlDbGllbnQ7XG5mdW5jdGlvbiBkZWZpbmVDcmVhdGVDbGllbnRFeHBvcnRzKGVudk1pZGRsZXdhcmUsIENsYXNzQ29uc3RydWN0b3IpIHtcbiAgY29uc3QgaHR0cFJlcXVlc3QgPSBkZWZpbmVIdHRwUmVxdWVzdChlbnZNaWRkbGV3YXJlLCB7fSk7XG4gIGNvbnN0IHJlcXVlc3RlciA9IGh0dHBSZXF1ZXN0LmRlZmF1bHRSZXF1ZXN0ZXI7XG4gIGNvbnN0IGNyZWF0ZUNsaWVudCA9IGNvbmZpZyA9PiBuZXcgQ2xhc3NDb25zdHJ1Y3RvcihkZWZpbmVIdHRwUmVxdWVzdChlbnZNaWRkbGV3YXJlLCB7XG4gICAgbWF4UmV0cmllczogY29uZmlnLm1heFJldHJpZXMsXG4gICAgcmV0cnlEZWxheTogY29uZmlnLnJldHJ5RGVsYXlcbiAgfSksIGNvbmZpZyk7XG4gIHJldHVybiB7XG4gICAgcmVxdWVzdGVyLFxuICAgIGNyZWF0ZUNsaWVudFxuICB9O1xufVxudmFyIG5hbWUgPSBcIkBzYW5pdHkvY2xpZW50XCI7XG52YXIgdmVyc2lvbiA9IFwiNi4xMC4wXCI7XG5jb25zdCBtaWRkbGV3YXJlID0gW21pZGRsZXdhcmUkMS5kZWJ1Zyh7XG4gIHZlcmJvc2U6IHRydWUsXG4gIG5hbWVzcGFjZTogXCJzYW5pdHk6Y2xpZW50XCJcbn0pLCBtaWRkbGV3YXJlJDEuaGVhZGVycyh7XG4gIFwiVXNlci1BZ2VudFwiOiBcIlwiLmNvbmNhdChuYW1lLCBcIiBcIikuY29uY2F0KHZlcnNpb24pXG59KSxcbi8vIEVuYWJsZSBrZWVwLWFsaXZlLCBhbmQgaW4gYWRkaXRpb24gbGltaXQgdGhlIG51bWJlciBvZiBzb2NrZXRzIHRoYXQgY2FuIGJlIG9wZW5lZC5cbi8vIFRoaXMgYXZvaWRzIG9wZW5pbmcgdG9vIG1hbnkgY29ubmVjdGlvbnMgdG8gdGhlIHNlcnZlciBpZiBzb21lb25lIHRyaWVzIHRvIGV4ZWN1dGVcbi8vIGEgYnVuY2ggb2YgcmVxdWVzdHMgaW4gcGFyYWxsZWwuIEl0J3MgcmVjb21tZW5kZWQgdG8gaGF2ZSBhIGNvbmN1cnJlbmN5IGxpbWl0XG4vLyBhdCBhIFwiaGlnaGVyIGxpbWl0XCIgKGkuZS4geW91IHNob3VsZG4ndCBhY3R1YWxseSBleGVjdXRlIGh1bmRyZWRzIG9mIHJlcXVlc3RzIGluIHBhcmFsbGVsKSxcbi8vIGFuZCB0aGlzIGlzIG1haW5seSB0byBtaW5pbWl6ZSB0aGUgaW1wYWN0IGZvciB0aGUgbmV0d29yayBhbmQgc2VydmVyLlxuLy9cbi8vIFdlJ3JlIGN1cnJlbnRseSBtYXRjaGluZyB0aGUgc2FtZSBkZWZhdWx0cyBhcyBicm93c2Vyczpcbi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzI2MDAzNzU2L2lzLXRoZXJlLWEtbGltaXQtcHJhY3RpY2FsLW9yLW90aGVyd2lzZS10by10aGUtbnVtYmVyLW9mLXdlYi1zb2NrZXRzLWEtcGFnZS1vcFxubWlkZGxld2FyZSQxLmFnZW50KHtcbiAga2VlcEFsaXZlOiB0cnVlLFxuICBtYXhTb2NrZXRzOiAzMCxcbiAgbWF4VG90YWxTb2NrZXRzOiAyNTZcbn0pXTtcbmV4cG9ydHMuQmFzZVBhdGNoID0gQmFzZVBhdGNoO1xuZXhwb3J0cy5CYXNlVHJhbnNhY3Rpb24gPSBCYXNlVHJhbnNhY3Rpb247XG5leHBvcnRzLkNsaWVudEVycm9yID0gQ2xpZW50RXJyb3I7XG5leHBvcnRzLk9ic2VydmFibGVQYXRjaCA9IE9ic2VydmFibGVQYXRjaDtcbmV4cG9ydHMuT2JzZXJ2YWJsZVNhbml0eUNsaWVudCA9IE9ic2VydmFibGVTYW5pdHlDbGllbnQ7XG5leHBvcnRzLk9ic2VydmFibGVUcmFuc2FjdGlvbiA9IE9ic2VydmFibGVUcmFuc2FjdGlvbjtcbmV4cG9ydHMuUGF0Y2ggPSBQYXRjaDtcbmV4cG9ydHMuU2FuaXR5Q2xpZW50ID0gU2FuaXR5Q2xpZW50O1xuZXhwb3J0cy5TZXJ2ZXJFcnJvciA9IFNlcnZlckVycm9yO1xuZXhwb3J0cy5UcmFuc2FjdGlvbiA9IFRyYW5zYWN0aW9uO1xuZXhwb3J0cy5kZWZhdWx0Q29uZmlnID0gZGVmYXVsdENvbmZpZztcbmV4cG9ydHMuZGVmaW5lQ3JlYXRlQ2xpZW50RXhwb3J0cyA9IGRlZmluZUNyZWF0ZUNsaWVudEV4cG9ydHM7XG5leHBvcnRzLm1pZGRsZXdhcmUgPSBtaWRkbGV3YXJlO1xuZXhwb3J0cy5wcmludE5vRGVmYXVsdEV4cG9ydCA9IHByaW50Tm9EZWZhdWx0RXhwb3J0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bm9kZU1pZGRsZXdhcmUtMWw3T1ctRDUuY2pzLm1hcFxuIl0sIm5hbWVzIjpbImdldEl0IiwicmVxdWlyZSIsIm1pZGRsZXdhcmUkMSIsInJ4anMiLCJvcGVyYXRvcnMiLCJNQVhfSVRFTVNfSU5fRVJST1JfTUVTU0FHRSIsIkNsaWVudEVycm9yIiwiRXJyb3IiLCJjb25zdHJ1Y3RvciIsInJlcyIsInByb3BzIiwiZXh0cmFjdEVycm9yUHJvcHMiLCJtZXNzYWdlIiwic3RhdHVzQ29kZSIsIk9iamVjdCIsImFzc2lnbiIsIlNlcnZlckVycm9yIiwiYm9keSIsInJlc3BvbnNlIiwicmVzcG9uc2VCb2R5Iiwic3RyaW5naWZ5Qm9keSIsImRldGFpbHMiLCJlcnJvciIsImNvbmNhdCIsImlzTXV0YXRpb25FcnJvciIsImFsbEl0ZW1zIiwiaXRlbXMiLCJzbGljZSIsIm1hcCIsIml0ZW0iLCJfYSIsImRlc2NyaXB0aW9uIiwiZmlsdGVyIiwiQm9vbGVhbiIsIml0ZW1zU3RyIiwibGVuZ3RoIiwiam9pbiIsImh0dHBFcnJvck1lc3NhZ2UiLCJpc1BsYWluT2JqZWN0IiwidHlwZSIsIm9iaiIsIkFycmF5IiwiaXNBcnJheSIsInN0YXR1c01lc3NhZ2UiLCJtZXRob2QiLCJ1cmwiLCJjb250ZW50VHlwZSIsImhlYWRlcnMiLCJ0b0xvd2VyQ2FzZSIsImlzSnNvbiIsImluZGV4T2YiLCJKU09OIiwic3RyaW5naWZ5IiwiaHR0cEVycm9yIiwib25SZXNwb25zZSIsInByaW50V2FybmluZ3MiLCJ3YXJuIiwid2FybmluZ3MiLCJmb3JFYWNoIiwibXNnIiwiY29uc29sZSIsImRlZmluZUh0dHBSZXF1ZXN0IiwiZW52TWlkZGxld2FyZSIsIl9yZWYiLCJtYXhSZXRyaWVzIiwicmV0cnlEZWxheSIsInJlcXVlc3QiLCJyZXRyeSIsInNob3VsZFJldHJ5IiwianNvblJlcXVlc3QiLCJqc29uUmVzcG9uc2UiLCJwcm9ncmVzcyIsIm9ic2VydmFibGUiLCJpbXBsZW1lbnRhdGlvbiIsIk9ic2VydmFibGUiLCJodHRwUmVxdWVzdCIsIm9wdGlvbnMiLCJyZXF1ZXN0ZXIiLCJhcmd1bWVudHMiLCJ1bmRlZmluZWQiLCJtYXhSZWRpcmVjdHMiLCJkZWZhdWx0UmVxdWVzdGVyIiwiZXJyIiwiYXR0ZW1wdCIsImlzU2FmZSIsInVyaSIsImlzUXVlcnkiLCJzdGFydHNXaXRoIiwiaXNSZXRyaWFibGVSZXNwb25zZSIsImdldFNlbGVjdGlvbiIsInNlbCIsImlkIiwicXVlcnkiLCJwYXJhbXMiLCJzZWxlY3Rpb25PcHRzIiwiVkFMSURfQVNTRVRfVFlQRVMiLCJWQUxJRF9JTlNFUlRfTE9DQVRJT05TIiwiZGF0YXNldCIsIm5hbWUiLCJ0ZXN0IiwicHJvamVjdElkIiwidmFsaWRhdGVBc3NldFR5cGUiLCJ2YWxpZGF0ZU9iamVjdCIsIm9wIiwidmFsIiwidmFsaWRhdGVEb2N1bWVudElkIiwiaW5jbHVkZXMiLCJyZXF1aXJlRG9jdW1lbnRJZCIsImRvYyIsIl9pZCIsInZhbGlkYXRlSW5zZXJ0IiwiYXQiLCJzZWxlY3RvciIsInNpZ25hdHVyZSIsInZhbGlkIiwibG9jIiwiaGFzRGF0YXNldCIsImNvbmZpZyIsInJlcXVlc3RUYWciLCJ0YWciLCJfX2FjY2Vzc0NoZWNrJDYiLCJtZW1iZXIiLCJoYXMiLCJUeXBlRXJyb3IiLCJfX3ByaXZhdGVHZXQkNiIsImdldHRlciIsImNhbGwiLCJnZXQiLCJfX3ByaXZhdGVBZGQkNiIsInZhbHVlIiwiV2Vha1NldCIsImFkZCIsInNldCIsIl9fcHJpdmF0ZVNldCQ2Iiwic2V0dGVyIiwiX2NsaWVudCQ1IiwiX2NsaWVudDIkNSIsIkJhc2VQYXRjaCIsInNlbGVjdGlvbiIsIm9wZXJhdGlvbnMiLCJhdHRycyIsIl9hc3NpZ24iLCJzZXRJZk1pc3NpbmciLCJkaWZmTWF0Y2hQYXRjaCIsInVuc2V0IiwiaW5jIiwiZGVjIiwiaW5zZXJ0IiwiYXBwZW5kIiwicHJlcGVuZCIsInNwbGljZSIsInN0YXJ0IiwiZGVsZXRlQ291bnQiLCJkZWxBbGwiLCJzdGFydEluZGV4IiwiZGVsQ291bnQiLCJNYXRoIiwibWF4IiwiZGVsUmFuZ2UiLCJyYW5nZVNlbGVjdG9yIiwiaWZSZXZpc2lvbklkIiwicmV2IiwiaWZSZXZpc2lvbklEIiwic2VyaWFsaXplIiwidG9KU09OIiwicmVzZXQiLCJtZXJnZSIsIl9zZXQiLCJfT2JzZXJ2YWJsZVBhdGNoIiwiY2xpZW50IiwiY2xvbmUiLCJjb21taXQiLCJyZXR1cm5GaXJzdCIsIm9wdHMiLCJyZXR1cm5Eb2N1bWVudHMiLCJtdXRhdGUiLCJwYXRjaCIsIldlYWtNYXAiLCJPYnNlcnZhYmxlUGF0Y2giLCJfUGF0Y2giLCJQYXRjaCIsIl9fYWNjZXNzQ2hlY2skNSIsIl9fcHJpdmF0ZUdldCQ1IiwiX19wcml2YXRlQWRkJDUiLCJfX3ByaXZhdGVTZXQkNSIsIl9jbGllbnQkNCIsIl9jbGllbnQyJDQiLCJkZWZhdWx0TXV0YXRlT3B0aW9ucyIsIkJhc2VUcmFuc2FjdGlvbiIsInRyYW5zYWN0aW9uSWQiLCJ0cnhJZCIsImNyZWF0ZSIsIl9hZGQiLCJjcmVhdGVJZk5vdEV4aXN0cyIsImNyZWF0ZU9yUmVwbGFjZSIsImRlbGV0ZSIsImRvY3VtZW50SWQiLCJtdXQiLCJwdXNoIiwiX1RyYW5zYWN0aW9uIiwicGF0Y2hPckRvY3VtZW50SWQiLCJwYXRjaE9wcyIsImlzQnVpbGRlciIsImlzUGF0Y2giLCJUcmFuc2FjdGlvbiIsIl9PYnNlcnZhYmxlVHJhbnNhY3Rpb24iLCJPYnNlcnZhYmxlVHJhbnNhY3Rpb24iLCJCQVNFX1VSTCIsImdlbmVyYXRlSGVscFVybCIsInNsdWciLCJvbmNlIiwiZm4iLCJkaWRDYWxsIiwicmV0dXJuVmFsdWUiLCJjcmVhdGVXYXJuaW5nUHJpbnRlciIsIl9sZW4iLCJhcmdzIiwiX2tleSIsInByaW50Q2RuV2FybmluZyIsInByaW50Q2RuUHJldmlld0RyYWZ0c1dhcm5pbmciLCJwcmludEJyb3dzZXJUb2tlbldhcm5pbmciLCJwcmludE5vQXBpVmVyc2lvblNwZWNpZmllZFdhcm5pbmciLCJwcmludE5vRGVmYXVsdEV4cG9ydCIsImRlZmF1bHRDZG5Ib3N0IiwiZGVmYXVsdENvbmZpZyIsImFwaUhvc3QiLCJhcGlWZXJzaW9uIiwidXNlUHJvamVjdEhvc3RuYW1lIiwiTE9DQUxIT1NUUyIsImlzTG9jYWwiLCJob3N0IiwidmFsaWRhdGVBcGlWZXJzaW9uIiwidmFsaWRhdGVBcGlWZXJzaW9uMiIsImFwaURhdGUiLCJEYXRlIiwiYXBpVmVyc2lvblZhbGlkIiwiZ2V0VGltZSIsInZhbGlkYXRlQXBpUGVyc3BlY3RpdmUiLCJ2YWxpZGF0ZUFwaVBlcnNwZWN0aXZlMiIsInBlcnNwZWN0aXZlIiwiaW5pdENvbmZpZyIsInByZXZDb25maWciLCJzcGVjaWZpZWRDb25maWciLCJuZXdDb25maWciLCJwcm9qZWN0QmFzZWQiLCJQcm9taXNlIiwiaGVscFVybCIsImlzQnJvd3NlciIsIndpbmRvdyIsImxvY2F0aW9uIiwiaG9zdG5hbWUiLCJpc0xvY2FsaG9zdCIsInRva2VuIiwiaWdub3JlQnJvd3NlclRva2VuV2FybmluZyIsInVzZUNkbiIsInJlcXVlc3RUYWdQcmVmaXgiLCJyZXBsYWNlIiwiaXNEZWZhdWx0QXBpIiwid2l0aENyZWRlbnRpYWxzIiwiaG9zdFBhcnRzIiwic3BsaXQiLCJwcm90b2NvbCIsImNkbkhvc3QiLCJjZG5VcmwiLCJwcm9qZWN0SGVhZGVyIiwicmVxdWVzdE9wdGlvbnMiLCJvdmVycmlkZXMiLCJBdXRob3JpemF0aW9uIiwidXNlR2xvYmFsQXBpIiwidGltZW91dCIsInByb3h5IiwianNvbiIsImZldGNoIiwiZW5jb2RlUXVlcnlTdHJpbmciLCJfcmVmMiIsInNlYXJjaFBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsImtleSIsImVudHJpZXMiLCJleGNsdWRlRmFsc2V5IiwicGFyYW0iLCJkZWZWYWx1ZSIsImdldE11dGF0aW9uUXVlcnkiLCJkcnlSdW4iLCJyZXR1cm5JZHMiLCJ2aXNpYmlsaXR5IiwiYXV0b0dlbmVyYXRlQXJyYXlLZXlzIiwic2tpcENyb3NzRGF0YXNldFJlZmVyZW5jZVZhbGlkYXRpb24iLCJpc1Jlc3BvbnNlIiwiZXZlbnQiLCJnZXRCb2R5IiwiaW5kZXhCeSIsImRvY3MiLCJhdHRyIiwicmVkdWNlIiwiaW5kZXhlZCIsImdldFF1ZXJ5U2l6ZUxpbWl0IiwiX2ZldGNoIiwibWFwUmVzcG9uc2UiLCJmaWx0ZXJSZXNwb25zZSIsInJlc3VsdCIsImNhY2hlIiwibmV4dCIsInVzZUFib3J0U2lnbmFsIiwic2lnbmFsIiwicmVxT3B0cyIsIl9kYXRhUmVxdWVzdCIsInBpcGUiLCJfZ2V0RG9jdW1lbnQiLCJfZ2V0RGF0YVVybCIsIl9yZXF1ZXN0T2JzZXJ2YWJsZSIsImRvY3VtZW50cyIsIl9nZXREb2N1bWVudHMiLCJpZHMiLCJfY3JlYXRlSWZOb3RFeGlzdHMiLCJfY3JlYXRlIiwiX2NyZWF0ZU9yUmVwbGFjZSIsIl9kZWxldGUiLCJtdXRhdGlvbnMiLCJfbXV0YXRlIiwibXV0cyIsImVuZHBvaW50IiwiaXNNdXRhdGlvbiIsInN0clF1ZXJ5IiwidXNlR2V0Iiwic3RyaW5nUXVlcnkiLCJyZXFPcHRpb25zIiwicmVzdWx0U291cmNlTWFwIiwiY2FuVXNlQ2RuIiwicmVzdWx0cyIsImRvY3VtZW50IiwibXV0YXRpb24iLCJfYiIsIl9nZXRVcmwiLCJzdWJzY3JpYmVyIiwic3Vic2NyaWJlIiwiX3dpdGhBYm9ydFNpZ25hbCIsIl9yZXF1ZXN0Iiwib3BlcmF0aW9uIiwicGF0aCIsImNhdGFsb2ciLCJiYXNlVXJpIiwiYmFzZSIsImlucHV0Iiwib2JzZXJ2ZXIiLCJhYm9ydCIsIl9jcmVhdGVBYm9ydEVycm9yIiwiYWJvcnRlZCIsInN1YnNjcmlwdGlvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidW5zdWJzY3JpYmUiLCJpc0RvbUV4Y2VwdGlvblN1cHBvcnRlZCIsImdsb2JhbFRoaXMiLCJET01FeGNlcHRpb24iLCJyZWFzb24iLCJfX2FjY2Vzc0NoZWNrJDQiLCJfX3ByaXZhdGVHZXQkNCIsIl9fcHJpdmF0ZUFkZCQ0IiwiX19wcml2YXRlU2V0JDQiLCJfY2xpZW50JDMiLCJfaHR0cFJlcXVlc3QkNCIsIl9jbGllbnQyJDMiLCJfaHR0cFJlcXVlc3QyJDQiLCJPYnNlcnZhYmxlQXNzZXRzQ2xpZW50IiwidXBsb2FkIiwiYXNzZXRUeXBlIiwiX3VwbG9hZCIsIkFzc2V0c0NsaWVudCIsImxhc3RWYWx1ZUZyb20iLCJtZXRhIiwiZXh0cmFjdCIsImFzc2V0RW5kcG9pbnQiLCJvcHRpb25zRnJvbUZpbGUiLCJsYWJlbCIsInRpdGxlIiwiY3JlZGl0TGluZSIsImZpbGVuYW1lIiwic291cmNlIiwic291cmNlSWQiLCJzb3VyY2VOYW1lIiwic291cmNlVXJsIiwiZmlsZSIsIkZpbGUiLCJwcmVzZXJ2ZUZpbGVuYW1lIiwiZGVmYXVsdHMiLCJrZXlzIiwidGFyZ2V0IiwicHJvcCIsInBpY2siLCJNQVhfVVJMX0xFTkdUSCIsInBvc3NpYmxlT3B0aW9ucyIsImRlZmF1bHRPcHRpb25zIiwiaW5jbHVkZVJlc3VsdCIsIl9saXN0ZW4iLCJsaXN0ZW5PcHRzIiwicXMiLCJsaXN0ZW5Gb3IiLCJldmVudHMiLCJzaG91bGRFbWl0UmVjb25uZWN0IiwiZXNPcHRpb25zIiwiZXMiLCJnZXRFdmVudFNvdXJjZSIsInRoZW4iLCJldmVudFNvdXJjZSIsImNhdGNoIiwic3RvcCIsInJlY29ubmVjdFRpbWVyIiwic3RvcHBlZCIsIm9uRXJyb3IiLCJlbWl0UmVjb25uZWN0IiwicmVhZHlTdGF0ZSIsIkNMT1NFRCIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJvcGVuIiwib25DaGFubmVsRXJyb3IiLCJjb29lcmNlRXJyb3IiLCJvbk1lc3NhZ2UiLCJldnQiLCJwYXJzZUV2ZW50Iiwib25EaXNjb25uZWN0IiwiY29tcGxldGUiLCJjbG9zZSIsImRlZmF1bHQiLCJFdmVudFNvdXJjZSIsImV2cyIsImRhdGEiLCJwYXJzZSIsImV4dHJhY3RFcnJvck1lc3NhZ2UiLCJfX2FjY2Vzc0NoZWNrJDMiLCJfX3ByaXZhdGVHZXQkMyIsIl9fcHJpdmF0ZUFkZCQzIiwiX19wcml2YXRlU2V0JDMiLCJfY2xpZW50JDIiLCJfaHR0cFJlcXVlc3QkMyIsIl9jbGllbnQyJDIiLCJfaHR0cFJlcXVlc3QyJDMiLCJPYnNlcnZhYmxlRGF0YXNldHNDbGllbnQiLCJfbW9kaWZ5IiwiZWRpdCIsImxpc3QiLCJEYXRhc2V0c0NsaWVudCIsIl9fYWNjZXNzQ2hlY2skMiIsIl9fcHJpdmF0ZUdldCQyIiwiX19wcml2YXRlQWRkJDIiLCJfX3ByaXZhdGVTZXQkMiIsIl9jbGllbnQkMSIsIl9odHRwUmVxdWVzdCQyIiwiX2NsaWVudDIkMSIsIl9odHRwUmVxdWVzdDIkMiIsIk9ic2VydmFibGVQcm9qZWN0c0NsaWVudCIsImluY2x1ZGVNZW1iZXJzIiwiZ2V0QnlJZCIsIlByb2plY3RzQ2xpZW50IiwiX19hY2Nlc3NDaGVjayQxIiwiX19wcml2YXRlR2V0JDEiLCJfX3ByaXZhdGVBZGQkMSIsIl9fcHJpdmF0ZVNldCQxIiwiX2NsaWVudCIsIl9odHRwUmVxdWVzdCQxIiwiX2NsaWVudDIiLCJfaHR0cFJlcXVlc3QyJDEiLCJPYnNlcnZhYmxlVXNlcnNDbGllbnQiLCJVc2Vyc0NsaWVudCIsIl9fYWNjZXNzQ2hlY2siLCJfX3ByaXZhdGVHZXQiLCJfX3ByaXZhdGVBZGQiLCJfX3ByaXZhdGVTZXQiLCJfY2xpZW50Q29uZmlnIiwiX2h0dHBSZXF1ZXN0IiwiX2NsaWVudENvbmZpZzIiLCJfaHR0cFJlcXVlc3QyIiwiX09ic2VydmFibGVTYW5pdHlDbGllbnQiLCJsaXN0ZW4iLCJhc3NldHMiLCJkYXRhc2V0cyIsInByb2plY3RzIiwidXNlcnMiLCJhbGxvd1JlY29uZmlndXJlIiwid2l0aENvbmZpZyIsImdldERvY3VtZW50IiwiZ2V0RG9jdW1lbnRzIiwidHJhbnNhY3Rpb24iLCJnZXRVcmwiLCJnZXREYXRhVXJsIiwiT2JzZXJ2YWJsZVNhbml0eUNsaWVudCIsIl9TYW5pdHlDbGllbnQiLCJkYXRhUmVxdWVzdCIsIlNhbml0eUNsaWVudCIsImRlZmluZUNyZWF0ZUNsaWVudEV4cG9ydHMiLCJDbGFzc0NvbnN0cnVjdG9yIiwiY3JlYXRlQ2xpZW50IiwidmVyc2lvbiIsIm1pZGRsZXdhcmUiLCJkZWJ1ZyIsInZlcmJvc2UiLCJuYW1lc3BhY2UiLCJhZ2VudCIsImtlZXBBbGl2ZSIsIm1heFNvY2tldHMiLCJtYXhUb3RhbFNvY2tldHMiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/client/dist/_chunks/nodeMiddleware-1l7OW-D5.cjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/client/dist/_chunks/resolveEditInfo-v_7g85GR.cjs":
/*!*******************************************************************************!*\
  !*** ./node_modules/@sanity/client/dist/_chunks/resolveEditInfo-v_7g85GR.cjs ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nconst rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\nconst reKeySegment = /_key\\s*==\\s*['\"](.*)['\"]/;\nconst reIndexTuple = /^\\d*:\\d*$/;\nfunction isIndexSegment(segment) {\n    return typeof segment === \"number\" || typeof segment === \"string\" && /^\\[\\d+\\]$/.test(segment);\n}\nfunction isKeySegment(segment) {\n    if (typeof segment === \"string\") {\n        return reKeySegment.test(segment.trim());\n    }\n    return typeof segment === \"object\" && \"_key\" in segment;\n}\nfunction isIndexTuple(segment) {\n    if (typeof segment === \"string\" && reIndexTuple.test(segment)) {\n        return true;\n    }\n    if (!Array.isArray(segment) || segment.length !== 2) {\n        return false;\n    }\n    const [from, to] = segment;\n    return (typeof from === \"number\" || from === \"\") && (typeof to === \"number\" || to === \"\");\n}\nfunction get(obj, path, defaultVal) {\n    const select = typeof path === \"string\" ? fromString(path) : path;\n    if (!Array.isArray(select)) {\n        throw new Error(\"Path must be an array or a string\");\n    }\n    let acc = obj;\n    for(let i = 0; i < select.length; i++){\n        const segment = select[i];\n        if (isIndexSegment(segment)) {\n            if (!Array.isArray(acc)) {\n                return defaultVal;\n            }\n            acc = acc[segment];\n        }\n        if (isKeySegment(segment)) {\n            if (!Array.isArray(acc)) {\n                return defaultVal;\n            }\n            acc = acc.find((item)=>item._key === segment._key);\n        }\n        if (typeof segment === \"string\") {\n            acc = typeof acc === \"object\" && acc !== null ? acc[segment] : void 0;\n        }\n        if (typeof acc === \"undefined\") {\n            return defaultVal;\n        }\n    }\n    return acc;\n}\nfunction toString(path) {\n    if (!Array.isArray(path)) {\n        throw new Error(\"Path is not an array\");\n    }\n    return path.reduce((target, segment, i)=>{\n        const segmentType = typeof segment;\n        if (segmentType === \"number\") {\n            return \"\".concat(target, \"[\").concat(segment, \"]\");\n        }\n        if (segmentType === \"string\") {\n            const separator = i === 0 ? \"\" : \".\";\n            return \"\".concat(target).concat(separator).concat(segment);\n        }\n        if (isKeySegment(segment) && segment._key) {\n            return \"\".concat(target, '[_key==\"').concat(segment._key, '\"]');\n        }\n        if (Array.isArray(segment)) {\n            const [from, to] = segment;\n            return \"\".concat(target, \"[\").concat(from, \":\").concat(to, \"]\");\n        }\n        throw new Error(\"Unsupported path segment `\".concat(JSON.stringify(segment), \"`\"));\n    }, \"\");\n}\nfunction fromString(path) {\n    if (typeof path !== \"string\") {\n        throw new Error(\"Path is not a string\");\n    }\n    const segments = path.match(rePropName);\n    if (!segments) {\n        throw new Error(\"Invalid path string\");\n    }\n    return segments.map(parsePathSegment);\n}\nfunction parsePathSegment(segment) {\n    if (isIndexSegment(segment)) {\n        return parseIndexSegment(segment);\n    }\n    if (isKeySegment(segment)) {\n        return parseKeySegment(segment);\n    }\n    if (isIndexTuple(segment)) {\n        return parseIndexTupleSegment(segment);\n    }\n    return segment;\n}\nfunction parseIndexSegment(segment) {\n    return Number(segment.replace(/[^\\d]/g, \"\"));\n}\nfunction parseKeySegment(segment) {\n    const segments = segment.match(reKeySegment);\n    return {\n        _key: segments[1]\n    };\n}\nfunction parseIndexTupleSegment(segment) {\n    const [from, to] = segment.split(\":\").map((seg)=>seg === \"\" ? seg : Number(seg));\n    return [\n        from,\n        to\n    ];\n}\nvar studioPath = /*#__PURE__*/ Object.freeze({\n    __proto__: null,\n    fromString: fromString,\n    get: get,\n    isIndexSegment: isIndexSegment,\n    isIndexTuple: isIndexTuple,\n    isKeySegment: isKeySegment,\n    reKeySegment: reKeySegment,\n    toString: toString\n});\nconst ESCAPE = {\n    \"\\f\": \"\\\\f\",\n    \"\\n\": \"\\\\n\",\n    \"\\r\": \"\\\\r\",\n    \"\t\": \"\\\\t\",\n    \"'\": \"\\\\'\",\n    \"\\\\\": \"\\\\\\\\\"\n};\nconst UNESCAPE = {\n    \"\\\\f\": \"\\f\",\n    \"\\\\n\": \"\\n\",\n    \"\\\\r\": \"\\r\",\n    \"\\\\t\": \"\t\",\n    \"\\\\'\": \"'\",\n    \"\\\\\\\\\": \"\\\\\"\n};\nfunction jsonPath(path) {\n    return \"$\".concat(path.map((segment)=>{\n        if (typeof segment === \"string\") {\n            const escapedKey = segment.replace(/[\\f\\n\\r\\t'\\\\]/g, (match)=>{\n                return ESCAPE[match];\n            });\n            return \"['\".concat(escapedKey, \"']\");\n        }\n        if (typeof segment === \"number\") {\n            return \"[\".concat(segment, \"]\");\n        }\n        if (segment._key !== \"\") {\n            const escapedKey = segment._key.replace(/['\\\\]/g, (match)=>{\n                return ESCAPE[match];\n            });\n            return \"[?(@._key=='\".concat(escapedKey, \"')]\");\n        }\n        return \"[\".concat(segment._index, \"]\");\n    }).join(\"\"));\n}\nfunction parseJsonPath(path) {\n    const parsed = [];\n    const parseRe = /\\['(.*?)'\\]|\\[(\\d+)\\]|\\[\\?\\(@\\._key=='(.*?)'\\)\\]/g;\n    let match;\n    while((match = parseRe.exec(path)) !== null){\n        if (match[1] !== void 0) {\n            const key = match[1].replace(/\\\\(\\\\|f|n|r|t|')/g, (m)=>{\n                return UNESCAPE[m];\n            });\n            parsed.push(key);\n            continue;\n        }\n        if (match[2] !== void 0) {\n            parsed.push(parseInt(match[2], 10));\n            continue;\n        }\n        if (match[3] !== void 0) {\n            const _key = match[3].replace(/\\\\(\\\\')/g, (m)=>{\n                return UNESCAPE[m];\n            });\n            parsed.push({\n                _key,\n                _index: -1\n            });\n            continue;\n        }\n    }\n    return parsed;\n}\nfunction jsonPathToStudioPath(path) {\n    return path.map((segment)=>{\n        if (typeof segment === \"string\") {\n            return segment;\n        }\n        if (typeof segment === \"number\") {\n            return segment;\n        }\n        if (segment._key !== \"\") {\n            return {\n                _key: segment._key\n            };\n        }\n        if (segment._index !== -1) {\n            return segment._index;\n        }\n        throw new Error(\"invalid segment:\".concat(JSON.stringify(segment)));\n    });\n}\nfunction studioPathToJsonPath(path) {\n    const parsedPath = typeof path === \"string\" ? fromString(path) : path;\n    return parsedPath.map((segment)=>{\n        if (typeof segment === \"string\") {\n            return segment;\n        }\n        if (typeof segment === \"number\") {\n            return segment;\n        }\n        if (Array.isArray(segment)) {\n            throw new Error(\"IndexTuple segments aren't supported:\".concat(JSON.stringify(segment)));\n        }\n        if (isContentSourceMapParsedPathKeyedSegment(segment)) {\n            return segment;\n        }\n        if (segment._key) {\n            return {\n                _key: segment._key,\n                _index: -1\n            };\n        }\n        throw new Error(\"invalid segment:\".concat(JSON.stringify(segment)));\n    });\n}\nfunction isContentSourceMapParsedPathKeyedSegment(segment) {\n    return typeof segment === \"object\" && \"_key\" in segment && \"_index\" in segment;\n}\nfunction jsonPathToMappingPath(path) {\n    return path.map((segment)=>{\n        if (typeof segment === \"string\") {\n            return segment;\n        }\n        if (typeof segment === \"number\") {\n            return segment;\n        }\n        if (segment._index !== -1) {\n            return segment._index;\n        }\n        throw new Error(\"invalid segment:\".concat(JSON.stringify(segment)));\n    });\n}\nfunction resolveMapping(resultPath, csm) {\n    if (!(csm == null ? void 0 : csm.mappings)) {\n        return void 0;\n    }\n    const resultMappingPath = jsonPath(jsonPathToMappingPath(resultPath));\n    if (csm.mappings[resultMappingPath] !== void 0) {\n        return {\n            mapping: csm.mappings[resultMappingPath],\n            matchedPath: resultMappingPath,\n            pathSuffix: \"\"\n        };\n    }\n    const mappings = Object.entries(csm.mappings).filter((_ref)=>{\n        let [key] = _ref;\n        return resultMappingPath.startsWith(key);\n    }).sort((_ref2, _ref3)=>{\n        let [key1] = _ref2;\n        let [key2] = _ref3;\n        return key2.length - key1.length;\n    });\n    if (mappings.length == 0) {\n        return void 0;\n    }\n    const [matchedPath, mapping] = mappings[0];\n    const pathSuffix = resultMappingPath.substring(matchedPath.length);\n    return {\n        mapping,\n        matchedPath,\n        pathSuffix\n    };\n}\nfunction isArray(value) {\n    return value !== null && Array.isArray(value);\n}\nfunction isRecord(value) {\n    return typeof value === \"object\" && value !== null;\n}\nfunction walkMap(value, mappingFn) {\n    let path = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n    if (isArray(value)) {\n        return value.map((v, idx)=>{\n            if (isRecord(v)) {\n                const _key = v[\"_key\"];\n                if (typeof _key === \"string\") {\n                    return walkMap(v, mappingFn, path.concat({\n                        _key,\n                        _index: idx\n                    }));\n                }\n            }\n            return walkMap(v, mappingFn, path.concat(idx));\n        });\n    }\n    if (isRecord(value)) {\n        return Object.fromEntries(Object.entries(value).map((_ref4)=>{\n            let [k, v] = _ref4;\n            return [\n                k,\n                walkMap(v, mappingFn, path.concat(k))\n            ];\n        }));\n    }\n    return mappingFn(value, path);\n}\nconst DRAFTS_PREFIX = \"drafts.\";\nfunction getPublishedId(id) {\n    if (id.startsWith(DRAFTS_PREFIX)) {\n        return id.slice(DRAFTS_PREFIX.length);\n    }\n    return id;\n}\nfunction createEditUrl(options) {\n    const { baseUrl, workspace: _workspace = \"default\", tool: _tool = \"default\", id: _id, type, path } = options;\n    if (!baseUrl) {\n        throw new Error(\"baseUrl is required\");\n    }\n    if (!path) {\n        throw new Error(\"path is required\");\n    }\n    if (!_id) {\n        throw new Error(\"id is required\");\n    }\n    if (baseUrl !== \"/\" && baseUrl.endsWith(\"/\")) {\n        throw new Error(\"baseUrl must not end with a slash\");\n    }\n    const workspace = _workspace === \"default\" ? void 0 : _workspace;\n    const tool = _tool === \"default\" ? void 0 : _tool;\n    const id = getPublishedId(_id);\n    const stringifiedPath = Array.isArray(path) ? toString(jsonPathToStudioPath(path)) : path;\n    const searchParams = new URLSearchParams({\n        baseUrl,\n        id,\n        type,\n        path: stringifiedPath\n    });\n    if (workspace) {\n        searchParams.set(\"workspace\", workspace);\n    }\n    if (tool) {\n        searchParams.set(\"tool\", tool);\n    }\n    const segments = [\n        baseUrl === \"/\" ? \"\" : baseUrl\n    ];\n    if (workspace) {\n        segments.push(workspace);\n    }\n    const routerParams = [\n        \"mode=presentation\",\n        \"id=\".concat(id),\n        \"type=\".concat(type),\n        \"path=\".concat(encodeURIComponent(stringifiedPath))\n    ];\n    if (tool) {\n        routerParams.push(\"tool=\".concat(tool));\n    }\n    segments.push(\"intent\", \"edit\", \"\".concat(routerParams.join(\";\"), \"?\").concat(searchParams));\n    return segments.join(\"/\");\n}\nfunction resolveEditInfo(options) {\n    const { resultSourceMap: csm, resultPath } = options;\n    const { mapping, pathSuffix } = resolveMapping(resultPath, csm) || {};\n    if (!mapping) {\n        return void 0;\n    }\n    if (mapping.source.type === \"literal\") {\n        return void 0;\n    }\n    if (mapping.source.type === \"unknown\") {\n        return void 0;\n    }\n    const sourceDoc = csm.documents[mapping.source.document];\n    const sourcePath = csm.paths[mapping.source.path];\n    if (sourceDoc && sourcePath) {\n        const { baseUrl, workspace, tool } = resolveStudioBaseRoute(typeof options.studioUrl === \"function\" ? options.studioUrl(sourceDoc) : options.studioUrl);\n        if (!baseUrl) return void 0;\n        const { _id, _type } = sourceDoc;\n        return {\n            baseUrl,\n            workspace,\n            tool,\n            id: _id,\n            type: _type,\n            path: parseJsonPath(sourcePath + pathSuffix)\n        };\n    }\n    return void 0;\n}\nfunction resolveStudioBaseRoute(studioUrl) {\n    let baseUrl = typeof studioUrl === \"string\" ? studioUrl : studioUrl.baseUrl;\n    if (baseUrl !== \"/\") {\n        baseUrl = baseUrl.replace(/\\/$/, \"\");\n    }\n    if (typeof studioUrl === \"string\") {\n        return {\n            baseUrl\n        };\n    }\n    return {\n        ...studioUrl,\n        baseUrl\n    };\n}\nexports.createEditUrl = createEditUrl;\nexports.get = get;\nexports.getPublishedId = getPublishedId;\nexports.jsonPath = jsonPath;\nexports.jsonPathToStudioPath = jsonPathToStudioPath;\nexports.parseJsonPath = parseJsonPath;\nexports.reKeySegment = reKeySegment;\nexports.resolveEditInfo = resolveEditInfo;\nexports.resolveMapping = resolveMapping;\nexports.resolveStudioBaseRoute = resolveStudioBaseRoute;\nexports.studioPath = studioPath;\nexports.studioPathToJsonPath = studioPathToJsonPath;\nexports.toString = toString;\nexports.walkMap = walkMap; //# sourceMappingURL=resolveEditInfo-v_7g85GR.cjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9jbGllbnQvZGlzdC9fY2h1bmtzL3Jlc29sdmVFZGl0SW5mby12XzdnODVHUi5janMiLCJtYXBwaW5ncyI6IkFBQUE7QUFFQSxNQUFNQSxhQUFhO0FBQ25CLE1BQU1DLGVBQWU7QUFDckIsTUFBTUMsZUFBZTtBQUNyQixTQUFTQyxlQUFlQyxPQUFPO0lBQzdCLE9BQU8sT0FBT0EsWUFBWSxZQUFZLE9BQU9BLFlBQVksWUFBWSxZQUFZQyxJQUFJLENBQUNEO0FBQ3hGO0FBQ0EsU0FBU0UsYUFBYUYsT0FBTztJQUMzQixJQUFJLE9BQU9BLFlBQVksVUFBVTtRQUMvQixPQUFPSCxhQUFhSSxJQUFJLENBQUNELFFBQVFHLElBQUk7SUFDdkM7SUFDQSxPQUFPLE9BQU9ILFlBQVksWUFBWSxVQUFVQTtBQUNsRDtBQUNBLFNBQVNJLGFBQWFKLE9BQU87SUFDM0IsSUFBSSxPQUFPQSxZQUFZLFlBQVlGLGFBQWFHLElBQUksQ0FBQ0QsVUFBVTtRQUM3RCxPQUFPO0lBQ1Q7SUFDQSxJQUFJLENBQUNLLE1BQU1DLE9BQU8sQ0FBQ04sWUFBWUEsUUFBUU8sTUFBTSxLQUFLLEdBQUc7UUFDbkQsT0FBTztJQUNUO0lBQ0EsTUFBTSxDQUFDQyxNQUFNQyxHQUFHLEdBQUdUO0lBQ25CLE9BQU8sQ0FBQyxPQUFPUSxTQUFTLFlBQVlBLFNBQVMsRUFBQyxLQUFPLFFBQU9DLE9BQU8sWUFBWUEsT0FBTyxFQUFDO0FBQ3pGO0FBQ0EsU0FBU0MsSUFBSUMsR0FBRyxFQUFFQyxJQUFJLEVBQUVDLFVBQVU7SUFDaEMsTUFBTUMsU0FBUyxPQUFPRixTQUFTLFdBQVdHLFdBQVdILFFBQVFBO0lBQzdELElBQUksQ0FBQ1AsTUFBTUMsT0FBTyxDQUFDUSxTQUFTO1FBQzFCLE1BQU0sSUFBSUUsTUFBTTtJQUNsQjtJQUNBLElBQUlDLE1BQU1OO0lBQ1YsSUFBSyxJQUFJTyxJQUFJLEdBQUdBLElBQUlKLE9BQU9QLE1BQU0sRUFBRVcsSUFBSztRQUN0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QUcsRUFDSG1CLEtBQUssRUFDTixHQUFHUDtRQUNKLE9BQU87WUFDTGpCO1lBQ0FDO1lBQ0FFO1lBQ0FQLElBQUlTO1lBQ0pDLE1BQU1rQjtZQUNOL0csTUFBTXVDLGNBQWNvRSxhQUFhaEQ7UUFDbkM7SUFDRjtJQUNBLE9BQU8sS0FBSztBQUNkO0FBQ0EsU0FBU2tELHVCQUF1QkMsU0FBUztJQUN2QyxJQUFJdkIsVUFBVSxPQUFPdUIsY0FBYyxXQUFXQSxZQUFZQSxVQUFVdkIsT0FBTztJQUMzRSxJQUFJQSxZQUFZLEtBQUs7UUFDbkJBLFVBQVVBLFFBQVE3RCxPQUFPLENBQUMsT0FBTztJQUNuQztJQUNBLElBQUksT0FBT29GLGNBQWMsVUFBVTtRQUNqQyxPQUFPO1lBQ0x2QjtRQUNGO0lBQ0Y7SUFDQSxPQUFPO1FBQ0wsR0FBR3VCLFNBQVM7UUFDWnZCO0lBQ0Y7QUFDRjtBQUNBeUIscUJBQXFCLEdBQUczQjtBQUN4QjJCLFdBQVcsR0FBR2xIO0FBQ2RrSCxzQkFBc0IsR0FBRzlCO0FBQ3pCOEIsZ0JBQWdCLEdBQUc3RTtBQUNuQjZFLDRCQUE0QixHQUFHakU7QUFDL0JpRSxxQkFBcUIsR0FBR3pFO0FBQ3hCeUUsb0JBQW9CLEdBQUcvSDtBQUN2QitILHVCQUF1QixHQUFHWDtBQUMxQlcsc0JBQXNCLEdBQUc1RDtBQUN6QjRELDhCQUE4QixHQUFHSDtBQUNqQ0csa0JBQWtCLEdBQUduRjtBQUNyQm1GLDRCQUE0QixHQUFHaEU7QUFDL0JnRSxnQkFBZ0IsR0FBR3RHO0FBQ25Cc0csZUFBZSxHQUFHeEMsU0FDbEIscURBQXFEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmlrZS8uL25vZGVfbW9kdWxlcy9Ac2FuaXR5L2NsaWVudC9kaXN0L19jaHVua3MvcmVzb2x2ZUVkaXRJbmZvLXZfN2c4NUdSLmNqcz80YzgyIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuY29uc3QgcmVQcm9wTmFtZSA9IC9bXi5bXFxdXSt8XFxbKD86KC0/XFxkKyg/OlxcLlxcZCspPyl8KFtcIiddKSgoPzooPyFcXDIpW15cXFxcXXxcXFxcLikqPylcXDIpXFxdfCg/PSg/OlxcLnxcXFtcXF0pKD86XFwufFxcW1xcXXwkKSkvZztcbmNvbnN0IHJlS2V5U2VnbWVudCA9IC9fa2V5XFxzKj09XFxzKlsnXCJdKC4qKVsnXCJdLztcbmNvbnN0IHJlSW5kZXhUdXBsZSA9IC9eXFxkKjpcXGQqJC87XG5mdW5jdGlvbiBpc0luZGV4U2VnbWVudChzZWdtZW50KSB7XG4gIHJldHVybiB0eXBlb2Ygc2VnbWVudCA9PT0gXCJudW1iZXJcIiB8fCB0eXBlb2Ygc2VnbWVudCA9PT0gXCJzdHJpbmdcIiAmJiAvXlxcW1xcZCtcXF0kLy50ZXN0KHNlZ21lbnQpO1xufVxuZnVuY3Rpb24gaXNLZXlTZWdtZW50KHNlZ21lbnQpIHtcbiAgaWYgKHR5cGVvZiBzZWdtZW50ID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIHJlS2V5U2VnbWVudC50ZXN0KHNlZ21lbnQudHJpbSgpKTtcbiAgfVxuICByZXR1cm4gdHlwZW9mIHNlZ21lbnQgPT09IFwib2JqZWN0XCIgJiYgXCJfa2V5XCIgaW4gc2VnbWVudDtcbn1cbmZ1bmN0aW9uIGlzSW5kZXhUdXBsZShzZWdtZW50KSB7XG4gIGlmICh0eXBlb2Ygc2VnbWVudCA9PT0gXCJzdHJpbmdcIiAmJiByZUluZGV4VHVwbGUudGVzdChzZWdtZW50KSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmICghQXJyYXkuaXNBcnJheShzZWdtZW50KSB8fCBzZWdtZW50Lmxlbmd0aCAhPT0gMikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCBbZnJvbSwgdG9dID0gc2VnbWVudDtcbiAgcmV0dXJuICh0eXBlb2YgZnJvbSA9PT0gXCJudW1iZXJcIiB8fCBmcm9tID09PSBcIlwiKSAmJiAodHlwZW9mIHRvID09PSBcIm51bWJlclwiIHx8IHRvID09PSBcIlwiKTtcbn1cbmZ1bmN0aW9uIGdldChvYmosIHBhdGgsIGRlZmF1bHRWYWwpIHtcbiAgY29uc3Qgc2VsZWN0ID0gdHlwZW9mIHBhdGggPT09IFwic3RyaW5nXCIgPyBmcm9tU3RyaW5nKHBhdGgpIDogcGF0aDtcbiAgaWYgKCFBcnJheS5pc0FycmF5KHNlbGVjdCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJQYXRoIG11c3QgYmUgYW4gYXJyYXkgb3IgYSBzdHJpbmdcIik7XG4gIH1cbiAgbGV0IGFjYyA9IG9iajtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWxlY3QubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBzZWdtZW50ID0gc2VsZWN0W2ldO1xuICAgIGlmIChpc0luZGV4U2VnbWVudChzZWdtZW50KSkge1xuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGFjYykpIHtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWw7XG4gICAgICB9XG4gICAgICBhY2MgPSBhY2Nbc2VnbWVudF07XG4gICAgfVxuICAgIGlmIChpc0tleVNlZ21lbnQoc2VnbWVudCkpIHtcbiAgICAgIGlmICghQXJyYXkuaXNBcnJheShhY2MpKSB7XG4gICAgICAgIHJldHVybiBkZWZhdWx0VmFsO1xuICAgICAgfVxuICAgICAgYWNjID0gYWNjLmZpbmQoaXRlbSA9PiBpdGVtLl9rZXkgPT09IHNlZ21lbnQuX2tleSk7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygc2VnbWVudCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgYWNjID0gdHlwZW9mIGFjYyA9PT0gXCJvYmplY3RcIiAmJiBhY2MgIT09IG51bGwgPyBhY2Nbc2VnbWVudF0gOiB2b2lkIDA7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgYWNjID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICByZXR1cm4gZGVmYXVsdFZhbDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGFjYztcbn1cbmZ1bmN0aW9uIHRvU3RyaW5nKHBhdGgpIHtcbiAgaWYgKCFBcnJheS5pc0FycmF5KHBhdGgpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiUGF0aCBpcyBub3QgYW4gYXJyYXlcIik7XG4gIH1cbiAgcmV0dXJuIHBhdGgucmVkdWNlKCh0YXJnZXQsIHNlZ21lbnQsIGkpID0+IHtcbiAgICBjb25zdCBzZWdtZW50VHlwZSA9IHR5cGVvZiBzZWdtZW50O1xuICAgIGlmIChzZWdtZW50VHlwZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgcmV0dXJuIFwiXCIuY29uY2F0KHRhcmdldCwgXCJbXCIpLmNvbmNhdChzZWdtZW50LCBcIl1cIik7XG4gICAgfVxuICAgIGlmIChzZWdtZW50VHlwZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgY29uc3Qgc2VwYXJhdG9yID0gaSA9PT0gMCA/IFwiXCIgOiBcIi5cIjtcbiAgICAgIHJldHVybiBcIlwiLmNvbmNhdCh0YXJnZXQpLmNvbmNhdChzZXBhcmF0b3IpLmNvbmNhdChzZWdtZW50KTtcbiAgICB9XG4gICAgaWYgKGlzS2V5U2VnbWVudChzZWdtZW50KSAmJiBzZWdtZW50Ll9rZXkpIHtcbiAgICAgIHJldHVybiBcIlwiLmNvbmNhdCh0YXJnZXQsICdbX2tleT09XCInKS5jb25jYXQoc2VnbWVudC5fa2V5LCAnXCJdJyk7XG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KHNlZ21lbnQpKSB7XG4gICAgICBjb25zdCBbZnJvbSwgdG9dID0gc2VnbWVudDtcbiAgICAgIHJldHVybiBcIlwiLmNvbmNhdCh0YXJnZXQsIFwiW1wiKS5jb25jYXQoZnJvbSwgXCI6XCIpLmNvbmNhdCh0bywgXCJdXCIpO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCBwYXRoIHNlZ21lbnQgYFwiLmNvbmNhdChKU09OLnN0cmluZ2lmeShzZWdtZW50KSwgXCJgXCIpKTtcbiAgfSwgXCJcIik7XG59XG5mdW5jdGlvbiBmcm9tU3RyaW5nKHBhdGgpIHtcbiAgaWYgKHR5cGVvZiBwYXRoICE9PSBcInN0cmluZ1wiKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiUGF0aCBpcyBub3QgYSBzdHJpbmdcIik7XG4gIH1cbiAgY29uc3Qgc2VnbWVudHMgPSBwYXRoLm1hdGNoKHJlUHJvcE5hbWUpO1xuICBpZiAoIXNlZ21lbnRzKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBwYXRoIHN0cmluZ1wiKTtcbiAgfVxuICByZXR1cm4gc2VnbWVudHMubWFwKHBhcnNlUGF0aFNlZ21lbnQpO1xufVxuZnVuY3Rpb24gcGFyc2VQYXRoU2VnbWVudChzZWdtZW50KSB7XG4gIGlmIChpc0luZGV4U2VnbWVudChzZWdtZW50KSkge1xuICAgIHJldHVybiBwYXJzZUluZGV4U2VnbWVudChzZWdtZW50KTtcbiAgfVxuICBpZiAoaXNLZXlTZWdtZW50KHNlZ21lbnQpKSB7XG4gICAgcmV0dXJuIHBhcnNlS2V5U2VnbWVudChzZWdtZW50KTtcbiAgfVxuICBpZiAoaXNJbmRleFR1cGxlKHNlZ21lbnQpKSB7XG4gICAgcmV0dXJuIHBhcnNlSW5kZXhUdXBsZVNlZ21lbnQoc2VnbWVudCk7XG4gIH1cbiAgcmV0dXJuIHNlZ21lbnQ7XG59XG5mdW5jdGlvbiBwYXJzZUluZGV4U2VnbWVudChzZWdtZW50KSB7XG4gIHJldHVybiBOdW1iZXIoc2VnbWVudC5yZXBsYWNlKC9bXlxcZF0vZywgXCJcIikpO1xufVxuZnVuY3Rpb24gcGFyc2VLZXlTZWdtZW50KHNlZ21lbnQpIHtcbiAgY29uc3Qgc2VnbWVudHMgPSBzZWdtZW50Lm1hdGNoKHJlS2V5U2VnbWVudCk7XG4gIHJldHVybiB7XG4gICAgX2tleTogc2VnbWVudHNbMV1cbiAgfTtcbn1cbmZ1bmN0aW9uIHBhcnNlSW5kZXhUdXBsZVNlZ21lbnQoc2VnbWVudCkge1xuICBjb25zdCBbZnJvbSwgdG9dID0gc2VnbWVudC5zcGxpdChcIjpcIikubWFwKHNlZyA9PiBzZWcgPT09IFwiXCIgPyBzZWcgOiBOdW1iZXIoc2VnKSk7XG4gIHJldHVybiBbZnJvbSwgdG9dO1xufVxudmFyIHN0dWRpb1BhdGggPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG4gIF9fcHJvdG9fXzogbnVsbCxcbiAgZnJvbVN0cmluZzogZnJvbVN0cmluZyxcbiAgZ2V0OiBnZXQsXG4gIGlzSW5kZXhTZWdtZW50OiBpc0luZGV4U2VnbWVudCxcbiAgaXNJbmRleFR1cGxlOiBpc0luZGV4VHVwbGUsXG4gIGlzS2V5U2VnbWVudDogaXNLZXlTZWdtZW50LFxuICByZUtleVNlZ21lbnQ6IHJlS2V5U2VnbWVudCxcbiAgdG9TdHJpbmc6IHRvU3RyaW5nXG59KTtcbmNvbnN0IEVTQ0FQRSA9IHtcbiAgXCJcXGZcIjogXCJcXFxcZlwiLFxuICBcIlxcblwiOiBcIlxcXFxuXCIsXG4gIFwiXFxyXCI6IFwiXFxcXHJcIixcbiAgXCJcdFwiOiBcIlxcXFx0XCIsXG4gIFwiJ1wiOiBcIlxcXFwnXCIsXG4gIFwiXFxcXFwiOiBcIlxcXFxcXFxcXCJcbn07XG5jb25zdCBVTkVTQ0FQRSA9IHtcbiAgXCJcXFxcZlwiOiBcIlxcZlwiLFxuICBcIlxcXFxuXCI6IFwiXFxuXCIsXG4gIFwiXFxcXHJcIjogXCJcXHJcIixcbiAgXCJcXFxcdFwiOiBcIlx0XCIsXG4gIFwiXFxcXCdcIjogXCInXCIsXG4gIFwiXFxcXFxcXFxcIjogXCJcXFxcXCJcbn07XG5mdW5jdGlvbiBqc29uUGF0aChwYXRoKSB7XG4gIHJldHVybiBcIiRcIi5jb25jYXQocGF0aC5tYXAoc2VnbWVudCA9PiB7XG4gICAgaWYgKHR5cGVvZiBzZWdtZW50ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBjb25zdCBlc2NhcGVkS2V5ID0gc2VnbWVudC5yZXBsYWNlKC9bXFxmXFxuXFxyXFx0J1xcXFxdL2csIG1hdGNoID0+IHtcbiAgICAgICAgcmV0dXJuIEVTQ0FQRVttYXRjaF07XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBcIlsnXCIuY29uY2F0KGVzY2FwZWRLZXksIFwiJ11cIik7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygc2VnbWVudCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgcmV0dXJuIFwiW1wiLmNvbmNhdChzZWdtZW50LCBcIl1cIik7XG4gICAgfVxuICAgIGlmIChzZWdtZW50Ll9rZXkgIT09IFwiXCIpIHtcbiAgICAgIGNvbnN0IGVzY2FwZWRLZXkgPSBzZWdtZW50Ll9rZXkucmVwbGFjZSgvWydcXFxcXS9nLCBtYXRjaCA9PiB7XG4gICAgICAgIHJldHVybiBFU0NBUEVbbWF0Y2hdO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gXCJbPyhALl9rZXk9PSdcIi5jb25jYXQoZXNjYXBlZEtleSwgXCInKV1cIik7XG4gICAgfVxuICAgIHJldHVybiBcIltcIi5jb25jYXQoc2VnbWVudC5faW5kZXgsIFwiXVwiKTtcbiAgfSkuam9pbihcIlwiKSk7XG59XG5mdW5jdGlvbiBwYXJzZUpzb25QYXRoKHBhdGgpIHtcbiAgY29uc3QgcGFyc2VkID0gW107XG4gIGNvbnN0IHBhcnNlUmUgPSAvXFxbJyguKj8pJ1xcXXxcXFsoXFxkKylcXF18XFxbXFw/XFwoQFxcLl9rZXk9PScoLio/KSdcXClcXF0vZztcbiAgbGV0IG1hdGNoO1xuICB3aGlsZSAoKG1hdGNoID0gcGFyc2VSZS5leGVjKHBhdGgpKSAhPT0gbnVsbCkge1xuICAgIGlmIChtYXRjaFsxXSAhPT0gdm9pZCAwKSB7XG4gICAgICBjb25zdCBrZXkgPSBtYXRjaFsxXS5yZXBsYWNlKC9cXFxcKFxcXFx8ZnxufHJ8dHwnKS9nLCBtID0+IHtcbiAgICAgICAgcmV0dXJuIFVORVNDQVBFW21dO1xuICAgICAgfSk7XG4gICAgICBwYXJzZWQucHVzaChrZXkpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChtYXRjaFsyXSAhPT0gdm9pZCAwKSB7XG4gICAgICBwYXJzZWQucHVzaChwYXJzZUludChtYXRjaFsyXSwgMTApKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAobWF0Y2hbM10gIT09IHZvaWQgMCkge1xuICAgICAgY29uc3QgX2tleSA9IG1hdGNoWzNdLnJlcGxhY2UoL1xcXFwoXFxcXCcpL2csIG0gPT4ge1xuICAgICAgICByZXR1cm4gVU5FU0NBUEVbbV07XG4gICAgICB9KTtcbiAgICAgIHBhcnNlZC5wdXNoKHtcbiAgICAgICAgX2tleSxcbiAgICAgICAgX2luZGV4OiAtMVxuICAgICAgfSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHBhcnNlZDtcbn1cbmZ1bmN0aW9uIGpzb25QYXRoVG9TdHVkaW9QYXRoKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGgubWFwKHNlZ21lbnQgPT4ge1xuICAgIGlmICh0eXBlb2Ygc2VnbWVudCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuIHNlZ21lbnQ7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygc2VnbWVudCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgcmV0dXJuIHNlZ21lbnQ7XG4gICAgfVxuICAgIGlmIChzZWdtZW50Ll9rZXkgIT09IFwiXCIpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIF9rZXk6IHNlZ21lbnQuX2tleVxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKHNlZ21lbnQuX2luZGV4ICE9PSAtMSkge1xuICAgICAgcmV0dXJuIHNlZ21lbnQuX2luZGV4O1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHNlZ21lbnQ6XCIuY29uY2F0KEpTT04uc3RyaW5naWZ5KHNlZ21lbnQpKSk7XG4gIH0pO1xufVxuZnVuY3Rpb24gc3R1ZGlvUGF0aFRvSnNvblBhdGgocGF0aCkge1xuICBjb25zdCBwYXJzZWRQYXRoID0gdHlwZW9mIHBhdGggPT09IFwic3RyaW5nXCIgPyBmcm9tU3RyaW5nKHBhdGgpIDogcGF0aDtcbiAgcmV0dXJuIHBhcnNlZFBhdGgubWFwKHNlZ21lbnQgPT4ge1xuICAgIGlmICh0eXBlb2Ygc2VnbWVudCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuIHNlZ21lbnQ7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygc2VnbWVudCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgcmV0dXJuIHNlZ21lbnQ7XG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KHNlZ21lbnQpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbmRleFR1cGxlIHNlZ21lbnRzIGFyZW4ndCBzdXBwb3J0ZWQ6XCIuY29uY2F0KEpTT04uc3RyaW5naWZ5KHNlZ21lbnQpKSk7XG4gICAgfVxuICAgIGlmIChpc0NvbnRlbnRTb3VyY2VNYXBQYXJzZWRQYXRoS2V5ZWRTZWdtZW50KHNlZ21lbnQpKSB7XG4gICAgICByZXR1cm4gc2VnbWVudDtcbiAgICB9XG4gICAgaWYgKHNlZ21lbnQuX2tleSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgX2tleTogc2VnbWVudC5fa2V5LFxuICAgICAgICBfaW5kZXg6IC0xXG4gICAgICB9O1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHNlZ21lbnQ6XCIuY29uY2F0KEpTT04uc3RyaW5naWZ5KHNlZ21lbnQpKSk7XG4gIH0pO1xufVxuZnVuY3Rpb24gaXNDb250ZW50U291cmNlTWFwUGFyc2VkUGF0aEtleWVkU2VnbWVudChzZWdtZW50KSB7XG4gIHJldHVybiB0eXBlb2Ygc2VnbWVudCA9PT0gXCJvYmplY3RcIiAmJiBcIl9rZXlcIiBpbiBzZWdtZW50ICYmIFwiX2luZGV4XCIgaW4gc2VnbWVudDtcbn1cbmZ1bmN0aW9uIGpzb25QYXRoVG9NYXBwaW5nUGF0aChwYXRoKSB7XG4gIHJldHVybiBwYXRoLm1hcChzZWdtZW50ID0+IHtcbiAgICBpZiAodHlwZW9mIHNlZ21lbnQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJldHVybiBzZWdtZW50O1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHNlZ21lbnQgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIHJldHVybiBzZWdtZW50O1xuICAgIH1cbiAgICBpZiAoc2VnbWVudC5faW5kZXggIT09IC0xKSB7XG4gICAgICByZXR1cm4gc2VnbWVudC5faW5kZXg7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihcImludmFsaWQgc2VnbWVudDpcIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkoc2VnbWVudCkpKTtcbiAgfSk7XG59XG5mdW5jdGlvbiByZXNvbHZlTWFwcGluZyhyZXN1bHRQYXRoLCBjc20pIHtcbiAgaWYgKCEoY3NtID09IG51bGwgPyB2b2lkIDAgOiBjc20ubWFwcGluZ3MpKSB7XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfVxuICBjb25zdCByZXN1bHRNYXBwaW5nUGF0aCA9IGpzb25QYXRoKGpzb25QYXRoVG9NYXBwaW5nUGF0aChyZXN1bHRQYXRoKSk7XG4gIGlmIChjc20ubWFwcGluZ3NbcmVzdWx0TWFwcGluZ1BhdGhdICE9PSB2b2lkIDApIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWFwcGluZzogY3NtLm1hcHBpbmdzW3Jlc3VsdE1hcHBpbmdQYXRoXSxcbiAgICAgIG1hdGNoZWRQYXRoOiByZXN1bHRNYXBwaW5nUGF0aCxcbiAgICAgIHBhdGhTdWZmaXg6IFwiXCJcbiAgICB9O1xuICB9XG4gIGNvbnN0IG1hcHBpbmdzID0gT2JqZWN0LmVudHJpZXMoY3NtLm1hcHBpbmdzKS5maWx0ZXIoX3JlZiA9PiB7XG4gICAgbGV0IFtrZXldID0gX3JlZjtcbiAgICByZXR1cm4gcmVzdWx0TWFwcGluZ1BhdGguc3RhcnRzV2l0aChrZXkpO1xuICB9KS5zb3J0KChfcmVmMiwgX3JlZjMpID0+IHtcbiAgICBsZXQgW2tleTFdID0gX3JlZjI7XG4gICAgbGV0IFtrZXkyXSA9IF9yZWYzO1xuICAgIHJldHVybiBrZXkyLmxlbmd0aCAtIGtleTEubGVuZ3RoO1xuICB9KTtcbiAgaWYgKG1hcHBpbmdzLmxlbmd0aCA9PSAwKSB7XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfVxuICBjb25zdCBbbWF0Y2hlZFBhdGgsIG1hcHBpbmddID0gbWFwcGluZ3NbMF07XG4gIGNvbnN0IHBhdGhTdWZmaXggPSByZXN1bHRNYXBwaW5nUGF0aC5zdWJzdHJpbmcobWF0Y2hlZFBhdGgubGVuZ3RoKTtcbiAgcmV0dXJuIHtcbiAgICBtYXBwaW5nLFxuICAgIG1hdGNoZWRQYXRoLFxuICAgIHBhdGhTdWZmaXhcbiAgfTtcbn1cbmZ1bmN0aW9uIGlzQXJyYXkodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9PSBudWxsICYmIEFycmF5LmlzQXJyYXkodmFsdWUpO1xufVxuZnVuY3Rpb24gaXNSZWNvcmQodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZSAhPT0gbnVsbDtcbn1cbmZ1bmN0aW9uIHdhbGtNYXAodmFsdWUsIG1hcHBpbmdGbikge1xuICBsZXQgcGF0aCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogW107XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIHJldHVybiB2YWx1ZS5tYXAoKHYsIGlkeCkgPT4ge1xuICAgICAgaWYgKGlzUmVjb3JkKHYpKSB7XG4gICAgICAgIGNvbnN0IF9rZXkgPSB2W1wiX2tleVwiXTtcbiAgICAgICAgaWYgKHR5cGVvZiBfa2V5ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgcmV0dXJuIHdhbGtNYXAodiwgbWFwcGluZ0ZuLCBwYXRoLmNvbmNhdCh7XG4gICAgICAgICAgICBfa2V5LFxuICAgICAgICAgICAgX2luZGV4OiBpZHhcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB3YWxrTWFwKHYsIG1hcHBpbmdGbiwgcGF0aC5jb25jYXQoaWR4KSk7XG4gICAgfSk7XG4gIH1cbiAgaWYgKGlzUmVjb3JkKHZhbHVlKSkge1xuICAgIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXModmFsdWUpLm1hcChfcmVmNCA9PiB7XG4gICAgICBsZXQgW2ssIHZdID0gX3JlZjQ7XG4gICAgICByZXR1cm4gW2ssIHdhbGtNYXAodiwgbWFwcGluZ0ZuLCBwYXRoLmNvbmNhdChrKSldO1xuICAgIH0pKTtcbiAgfVxuICByZXR1cm4gbWFwcGluZ0ZuKHZhbHVlLCBwYXRoKTtcbn1cbmNvbnN0IERSQUZUU19QUkVGSVggPSBcImRyYWZ0cy5cIjtcbmZ1bmN0aW9uIGdldFB1Ymxpc2hlZElkKGlkKSB7XG4gIGlmIChpZC5zdGFydHNXaXRoKERSQUZUU19QUkVGSVgpKSB7XG4gICAgcmV0dXJuIGlkLnNsaWNlKERSQUZUU19QUkVGSVgubGVuZ3RoKTtcbiAgfVxuICByZXR1cm4gaWQ7XG59XG5mdW5jdGlvbiBjcmVhdGVFZGl0VXJsKG9wdGlvbnMpIHtcbiAgY29uc3Qge1xuICAgIGJhc2VVcmwsXG4gICAgd29ya3NwYWNlOiBfd29ya3NwYWNlID0gXCJkZWZhdWx0XCIsXG4gICAgdG9vbDogX3Rvb2wgPSBcImRlZmF1bHRcIixcbiAgICBpZDogX2lkLFxuICAgIHR5cGUsXG4gICAgcGF0aFxuICB9ID0gb3B0aW9ucztcbiAgaWYgKCFiYXNlVXJsKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiYmFzZVVybCBpcyByZXF1aXJlZFwiKTtcbiAgfVxuICBpZiAoIXBhdGgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJwYXRoIGlzIHJlcXVpcmVkXCIpO1xuICB9XG4gIGlmICghX2lkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiaWQgaXMgcmVxdWlyZWRcIik7XG4gIH1cbiAgaWYgKGJhc2VVcmwgIT09IFwiL1wiICYmIGJhc2VVcmwuZW5kc1dpdGgoXCIvXCIpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiYmFzZVVybCBtdXN0IG5vdCBlbmQgd2l0aCBhIHNsYXNoXCIpO1xuICB9XG4gIGNvbnN0IHdvcmtzcGFjZSA9IF93b3Jrc3BhY2UgPT09IFwiZGVmYXVsdFwiID8gdm9pZCAwIDogX3dvcmtzcGFjZTtcbiAgY29uc3QgdG9vbCA9IF90b29sID09PSBcImRlZmF1bHRcIiA/IHZvaWQgMCA6IF90b29sO1xuICBjb25zdCBpZCA9IGdldFB1Ymxpc2hlZElkKF9pZCk7XG4gIGNvbnN0IHN0cmluZ2lmaWVkUGF0aCA9IEFycmF5LmlzQXJyYXkocGF0aCkgPyB0b1N0cmluZyhqc29uUGF0aFRvU3R1ZGlvUGF0aChwYXRoKSkgOiBwYXRoO1xuICBjb25zdCBzZWFyY2hQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHtcbiAgICBiYXNlVXJsLFxuICAgIGlkLFxuICAgIHR5cGUsXG4gICAgcGF0aDogc3RyaW5naWZpZWRQYXRoXG4gIH0pO1xuICBpZiAod29ya3NwYWNlKSB7XG4gICAgc2VhcmNoUGFyYW1zLnNldChcIndvcmtzcGFjZVwiLCB3b3Jrc3BhY2UpO1xuICB9XG4gIGlmICh0b29sKSB7XG4gICAgc2VhcmNoUGFyYW1zLnNldChcInRvb2xcIiwgdG9vbCk7XG4gIH1cbiAgY29uc3Qgc2VnbWVudHMgPSBbYmFzZVVybCA9PT0gXCIvXCIgPyBcIlwiIDogYmFzZVVybF07XG4gIGlmICh3b3Jrc3BhY2UpIHtcbiAgICBzZWdtZW50cy5wdXNoKHdvcmtzcGFjZSk7XG4gIH1cbiAgY29uc3Qgcm91dGVyUGFyYW1zID0gW1wibW9kZT1wcmVzZW50YXRpb25cIiwgXCJpZD1cIi5jb25jYXQoaWQpLCBcInR5cGU9XCIuY29uY2F0KHR5cGUpLCBcInBhdGg9XCIuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZmllZFBhdGgpKV07XG4gIGlmICh0b29sKSB7XG4gICAgcm91dGVyUGFyYW1zLnB1c2goXCJ0b29sPVwiLmNvbmNhdCh0b29sKSk7XG4gIH1cbiAgc2VnbWVudHMucHVzaChcImludGVudFwiLCBcImVkaXRcIiwgXCJcIi5jb25jYXQocm91dGVyUGFyYW1zLmpvaW4oXCI7XCIpLCBcIj9cIikuY29uY2F0KHNlYXJjaFBhcmFtcykpO1xuICByZXR1cm4gc2VnbWVudHMuam9pbihcIi9cIik7XG59XG5mdW5jdGlvbiByZXNvbHZlRWRpdEluZm8ob3B0aW9ucykge1xuICBjb25zdCB7XG4gICAgcmVzdWx0U291cmNlTWFwOiBjc20sXG4gICAgcmVzdWx0UGF0aFxuICB9ID0gb3B0aW9ucztcbiAgY29uc3Qge1xuICAgIG1hcHBpbmcsXG4gICAgcGF0aFN1ZmZpeFxuICB9ID0gcmVzb2x2ZU1hcHBpbmcocmVzdWx0UGF0aCwgY3NtKSB8fCB7fTtcbiAgaWYgKCFtYXBwaW5nKSB7XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfVxuICBpZiAobWFwcGluZy5zb3VyY2UudHlwZSA9PT0gXCJsaXRlcmFsXCIpIHtcbiAgICByZXR1cm4gdm9pZCAwO1xuICB9XG4gIGlmIChtYXBwaW5nLnNvdXJjZS50eXBlID09PSBcInVua25vd25cIikge1xuICAgIHJldHVybiB2b2lkIDA7XG4gIH1cbiAgY29uc3Qgc291cmNlRG9jID0gY3NtLmRvY3VtZW50c1ttYXBwaW5nLnNvdXJjZS5kb2N1bWVudF07XG4gIGNvbnN0IHNvdXJjZVBhdGggPSBjc20ucGF0aHNbbWFwcGluZy5zb3VyY2UucGF0aF07XG4gIGlmIChzb3VyY2VEb2MgJiYgc291cmNlUGF0aCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGJhc2VVcmwsXG4gICAgICB3b3Jrc3BhY2UsXG4gICAgICB0b29sXG4gICAgfSA9IHJlc29sdmVTdHVkaW9CYXNlUm91dGUodHlwZW9mIG9wdGlvbnMuc3R1ZGlvVXJsID09PSBcImZ1bmN0aW9uXCIgPyBvcHRpb25zLnN0dWRpb1VybChzb3VyY2VEb2MpIDogb3B0aW9ucy5zdHVkaW9VcmwpO1xuICAgIGlmICghYmFzZVVybCkgcmV0dXJuIHZvaWQgMDtcbiAgICBjb25zdCB7XG4gICAgICBfaWQsXG4gICAgICBfdHlwZVxuICAgIH0gPSBzb3VyY2VEb2M7XG4gICAgcmV0dXJuIHtcbiAgICAgIGJhc2VVcmwsXG4gICAgICB3b3Jrc3BhY2UsXG4gICAgICB0b29sLFxuICAgICAgaWQ6IF9pZCxcbiAgICAgIHR5cGU6IF90eXBlLFxuICAgICAgcGF0aDogcGFyc2VKc29uUGF0aChzb3VyY2VQYXRoICsgcGF0aFN1ZmZpeClcbiAgICB9O1xuICB9XG4gIHJldHVybiB2b2lkIDA7XG59XG5mdW5jdGlvbiByZXNvbHZlU3R1ZGlvQmFzZVJvdXRlKHN0dWRpb1VybCkge1xuICBsZXQgYmFzZVVybCA9IHR5cGVvZiBzdHVkaW9VcmwgPT09IFwic3RyaW5nXCIgPyBzdHVkaW9VcmwgOiBzdHVkaW9VcmwuYmFzZVVybDtcbiAgaWYgKGJhc2VVcmwgIT09IFwiL1wiKSB7XG4gICAgYmFzZVVybCA9IGJhc2VVcmwucmVwbGFjZSgvXFwvJC8sIFwiXCIpO1xuICB9XG4gIGlmICh0eXBlb2Ygc3R1ZGlvVXJsID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGJhc2VVcmxcbiAgICB9O1xuICB9XG4gIHJldHVybiB7XG4gICAgLi4uc3R1ZGlvVXJsLFxuICAgIGJhc2VVcmxcbiAgfTtcbn1cbmV4cG9ydHMuY3JlYXRlRWRpdFVybCA9IGNyZWF0ZUVkaXRVcmw7XG5leHBvcnRzLmdldCA9IGdldDtcbmV4cG9ydHMuZ2V0UHVibGlzaGVkSWQgPSBnZXRQdWJsaXNoZWRJZDtcbmV4cG9ydHMuanNvblBhdGggPSBqc29uUGF0aDtcbmV4cG9ydHMuanNvblBhdGhUb1N0dWRpb1BhdGggPSBqc29uUGF0aFRvU3R1ZGlvUGF0aDtcbmV4cG9ydHMucGFyc2VKc29uUGF0aCA9IHBhcnNlSnNvblBhdGg7XG5leHBvcnRzLnJlS2V5U2VnbWVudCA9IHJlS2V5U2VnbWVudDtcbmV4cG9ydHMucmVzb2x2ZUVkaXRJbmZvID0gcmVzb2x2ZUVkaXRJbmZvO1xuZXhwb3J0cy5yZXNvbHZlTWFwcGluZyA9IHJlc29sdmVNYXBwaW5nO1xuZXhwb3J0cy5yZXNvbHZlU3R1ZGlvQmFzZVJvdXRlID0gcmVzb2x2ZVN0dWRpb0Jhc2VSb3V0ZTtcbmV4cG9ydHMuc3R1ZGlvUGF0aCA9IHN0dWRpb1BhdGg7XG5leHBvcnRzLnN0dWRpb1BhdGhUb0pzb25QYXRoID0gc3R1ZGlvUGF0aFRvSnNvblBhdGg7XG5leHBvcnRzLnRvU3RyaW5nID0gdG9TdHJpbmc7XG5leHBvcnRzLndhbGtNYXAgPSB3YWxrTWFwO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVzb2x2ZUVkaXRJbmZvLXZfN2c4NUdSLmNqcy5tYXBcbiJdLCJuYW1lcyI6WyJyZVByb3BOYW1lIiwicmVLZXlTZWdtZW50IiwicmVJbmRleFR1cGxlIiwiaXNJbmRleFNlZ21lbnQiLCJzZWdtZW50IiwidGVzdCIsImlzS2V5U2VnbWVudCIsInRyaW0iLCJpc0luZGV4VHVwbGUiLCJBcnJheSIsImlzQXJyYXkiLCJsZW5ndGgiLCJmcm9tIiwidG8iLCJnZXQiLCJvYmoiLCJwYXRoIiwiZGVmYXVsdFZhbCIsInNlbGVjdCIsImZyb21TdHJpbmciLCJFcnJvciIsImFjYyIsImkiLCJmaW5kIiwiaXRlbSIsIl9rZXkiLCJ0b1N0cmluZyIsInJlZHVjZSIsInRhcmdldCIsInNlZ21lbnRUeXBlIiwiY29uY2F0Iiwic2VwYXJhdG9yIiwiSlNPTiIsInN0cmluZ2lmeSIsInNlZ21lbnRzIiwibWF0Y2giLCJtYXAiLCJwYXJzZVBhdGhTZWdtZW50IiwicGFyc2VJbmRleFNlZ21lbnQiLCJwYXJzZUtleVNlZ21lbnQiLCJwYXJzZUluZGV4VHVwbGVTZWdtZW50IiwiTnVtYmVyIiwicmVwbGFjZSIsInNwbGl0Iiwic2VnIiwic3R1ZGlvUGF0aCIsIk9iamVjdCIsImZyZWV6ZSIsIl9fcHJvdG9fXyIsIkVTQ0FQRSIsIlVORVNDQVBFIiwianNvblBhdGgiLCJlc2NhcGVkS2V5IiwiX2luZGV4Iiwiam9pbiIsInBhcnNlSnNvblBhdGgiLCJwYXJzZWQiLCJwYXJzZVJlIiwiZXhlYyIsImtleSIsIm0iLCJwdXNoIiwicGFyc2VJbnQiLCJqc29uUGF0aFRvU3R1ZGlvUGF0aCIsInN0dWRpb1BhdGhUb0pzb25QYXRoIiwicGFyc2VkUGF0aCIsImlzQ29udGVudFNvdXJjZU1hcFBhcnNlZFBhdGhLZXllZFNlZ21lbnQiLCJqc29uUGF0aFRvTWFwcGluZ1BhdGgiLCJyZXNvbHZlTWFwcGluZyIsInJlc3VsdFBhdGgiLCJjc20iLCJtYXBwaW5ncyIsInJlc3VsdE1hcHBpbmdQYXRoIiwibWFwcGluZyIsIm1hdGNoZWRQYXRoIiwicGF0aFN1ZmZpeCIsImVudHJpZXMiLCJmaWx0ZXIiLCJfcmVmIiwic3RhcnRzV2l0aCIsInNvcnQiLCJfcmVmMiIsIl9yZWYzIiwia2V5MSIsImtleTIiLCJzdWJzdHJpbmciLCJ2YWx1ZSIsImlzUmVjb3JkIiwid2Fsa01hcCIsIm1hcHBpbmdGbiIsImFyZ3VtZW50cyIsInVuZGVmaW5lZCIsInYiLCJpZHgiLCJmcm9tRW50cmllcyIsIl9yZWY0IiwiayIsIkRSQUZUU19QUkVGSVgiLCJnZXRQdWJsaXNoZWRJZCIsImlkIiwic2xpY2UiLCJjcmVhdGVFZGl0VXJsIiwib3B0aW9ucyIsImJhc2VVcmwiLCJ3b3Jrc3BhY2UiLCJfd29ya3NwYWNlIiwidG9vbCIsIl90b29sIiwiX2lkIiwidHlwZSIsImVuZHNXaXRoIiwic3RyaW5naWZpZWRQYXRoIiwic2VhcmNoUGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwic2V0Iiwicm91dGVyUGFyYW1zIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwicmVzb2x2ZUVkaXRJbmZvIiwicmVzdWx0U291cmNlTWFwIiwic291cmNlIiwic291cmNlRG9jIiwiZG9jdW1lbnRzIiwiZG9jdW1lbnQiLCJzb3VyY2VQYXRoIiwicGF0aHMiLCJyZXNvbHZlU3R1ZGlvQmFzZVJvdXRlIiwic3R1ZGlvVXJsIiwiX3R5cGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/client/dist/_chunks/resolveEditInfo-v_7g85GR.cjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/client/dist/index.cjs":
/*!****************************************************!*\
  !*** ./node_modules/@sanity/client/dist/index.cjs ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nvar nodeMiddleware = __webpack_require__(/*! ./_chunks/nodeMiddleware-1l7OW-D5.cjs */ \"(ssr)/./node_modules/@sanity/client/dist/_chunks/nodeMiddleware-1l7OW-D5.cjs\");\nvar getIt = __webpack_require__(/*! get-it */ \"(ssr)/./node_modules/get-it/dist/index.cjs\");\nfunction defineDeprecatedCreateClient(createClient) {\n    return function deprecatedCreateClient(config) {\n        nodeMiddleware.printNoDefaultExport();\n        return createClient(config);\n    };\n}\nconst exp = nodeMiddleware.defineCreateClientExports(nodeMiddleware.middleware, nodeMiddleware.SanityClient);\nconst requester = exp.requester;\nconst createClient = exp.createClient;\nconst deprecatedCreateClient = defineDeprecatedCreateClient(createClient);\nexports.BasePatch = nodeMiddleware.BasePatch;\nexports.BaseTransaction = nodeMiddleware.BaseTransaction;\nexports.ClientError = nodeMiddleware.ClientError;\nexports.ObservablePatch = nodeMiddleware.ObservablePatch;\nexports.ObservableSanityClient = nodeMiddleware.ObservableSanityClient;\nexports.ObservableTransaction = nodeMiddleware.ObservableTransaction;\nexports.Patch = nodeMiddleware.Patch;\nexports.SanityClient = nodeMiddleware.SanityClient;\nexports.ServerError = nodeMiddleware.ServerError;\nexports.Transaction = nodeMiddleware.Transaction;\nObject.defineProperty(exports, \"unstable__adapter\", ({\n    enumerable: true,\n    get: function() {\n        return getIt.adapter;\n    }\n}));\nObject.defineProperty(exports, \"unstable__environment\", ({\n    enumerable: true,\n    get: function() {\n        return getIt.environment;\n    }\n}));\nexports.createClient = createClient;\nexports[\"default\"] = deprecatedCreateClient;\nexports.requester = requester; //# sourceMappingURL=index.cjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9jbGllbnQvZGlzdC9pbmRleC5janMiLCJtYXBwaW5ncyI6IkFBQUE7QUFFQUEsOENBQTZDO0lBQzNDRyxPQUFPO0FBQ1QsQ0FBQyxFQUFDO0FBQ0YsSUFBSUMsaUJBQWlCQyxtQkFBT0EsQ0FBQztBQUM3QixJQUFJQyxRQUFRRCxtQkFBT0EsQ0FBQztBQUNwQixTQUFTRSw2QkFBNkJDLFlBQVk7SUFDaEQsT0FBTyxTQUFTQyx1QkFBdUJDLE1BQU07UUFDM0NOLGVBQWVPLG9CQUFvQjtRQUNuQyxPQUFPSCxhQUFhRTtJQUN0QjtBQUNGO0FBQ0EsTUFBTUUsTUFBTVIsZUFBZVMseUJBQXlCLENBQUNULGVBQWVVLFVBQVUsRUFBRVYsZUFBZVcsWUFBWTtBQUMzRyxNQUFNQyxZQUFZSixJQUFJSSxTQUFTO0FBQy9CLE1BQU1SLGVBQWVJLElBQUlKLFlBQVk7QUFDckMsTUFBTUMseUJBQXlCRiw2QkFBNkJDO0FBQzVETixpQkFBaUIsR0FBR0UsZUFBZWEsU0FBUztBQUM1Q2YsdUJBQXVCLEdBQUdFLGVBQWVjLGVBQWU7QUFDeERoQixtQkFBbUIsR0FBR0UsZUFBZWUsV0FBVztBQUNoRGpCLHVCQUF1QixHQUFHRSxlQUFlZ0IsZUFBZTtBQUN4RGxCLDhCQUE4QixHQUFHRSxlQUFlaUIsc0JBQXNCO0FBQ3RFbkIsNkJBQTZCLEdBQUdFLGVBQWVrQixxQkFBcUI7QUFDcEVwQixhQUFhLEdBQUdFLGVBQWVtQixLQUFLO0FBQ3BDckIsb0JBQW9CLEdBQUdFLGVBQWVXLFlBQVk7QUFDbERiLG1CQUFtQixHQUFHRSxlQUFlb0IsV0FBVztBQUNoRHRCLG1CQUFtQixHQUFHRSxlQUFlcUIsV0FBVztBQUNoRHpCLHFEQUFvRDtJQUNsRDBCLFlBQVk7SUFDWkMsS0FBSztRQUNILE9BQU9yQixNQUFNc0IsT0FBTztJQUN0QjtBQUNGLENBQUMsRUFBQztBQUNGNUIseURBQXdEO0lBQ3REMEIsWUFBWTtJQUNaQyxLQUFLO1FBQ0gsT0FBT3JCLE1BQU11QixXQUFXO0lBQzFCO0FBQ0YsQ0FBQyxFQUFDO0FBQ0YzQixvQkFBb0IsR0FBR007QUFDdkJOLGtCQUFlLEdBQUdPO0FBQ2xCUCxpQkFBaUIsR0FBR2MsV0FDcEIsa0NBQWtDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmlrZS8uL25vZGVfbW9kdWxlcy9Ac2FuaXR5L2NsaWVudC9kaXN0L2luZGV4LmNqcz8xYjQ0Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG52YXIgbm9kZU1pZGRsZXdhcmUgPSByZXF1aXJlKCcuL19jaHVua3Mvbm9kZU1pZGRsZXdhcmUtMWw3T1ctRDUuY2pzJyk7XG52YXIgZ2V0SXQgPSByZXF1aXJlKCdnZXQtaXQnKTtcbmZ1bmN0aW9uIGRlZmluZURlcHJlY2F0ZWRDcmVhdGVDbGllbnQoY3JlYXRlQ2xpZW50KSB7XG4gIHJldHVybiBmdW5jdGlvbiBkZXByZWNhdGVkQ3JlYXRlQ2xpZW50KGNvbmZpZykge1xuICAgIG5vZGVNaWRkbGV3YXJlLnByaW50Tm9EZWZhdWx0RXhwb3J0KCk7XG4gICAgcmV0dXJuIGNyZWF0ZUNsaWVudChjb25maWcpO1xuICB9O1xufVxuY29uc3QgZXhwID0gbm9kZU1pZGRsZXdhcmUuZGVmaW5lQ3JlYXRlQ2xpZW50RXhwb3J0cyhub2RlTWlkZGxld2FyZS5taWRkbGV3YXJlLCBub2RlTWlkZGxld2FyZS5TYW5pdHlDbGllbnQpO1xuY29uc3QgcmVxdWVzdGVyID0gZXhwLnJlcXVlc3RlcjtcbmNvbnN0IGNyZWF0ZUNsaWVudCA9IGV4cC5jcmVhdGVDbGllbnQ7XG5jb25zdCBkZXByZWNhdGVkQ3JlYXRlQ2xpZW50ID0gZGVmaW5lRGVwcmVjYXRlZENyZWF0ZUNsaWVudChjcmVhdGVDbGllbnQpO1xuZXhwb3J0cy5CYXNlUGF0Y2ggPSBub2RlTWlkZGxld2FyZS5CYXNlUGF0Y2g7XG5leHBvcnRzLkJhc2VUcmFuc2FjdGlvbiA9IG5vZGVNaWRkbGV3YXJlLkJhc2VUcmFuc2FjdGlvbjtcbmV4cG9ydHMuQ2xpZW50RXJyb3IgPSBub2RlTWlkZGxld2FyZS5DbGllbnRFcnJvcjtcbmV4cG9ydHMuT2JzZXJ2YWJsZVBhdGNoID0gbm9kZU1pZGRsZXdhcmUuT2JzZXJ2YWJsZVBhdGNoO1xuZXhwb3J0cy5PYnNlcnZhYmxlU2FuaXR5Q2xpZW50ID0gbm9kZU1pZGRsZXdhcmUuT2JzZXJ2YWJsZVNhbml0eUNsaWVudDtcbmV4cG9ydHMuT2JzZXJ2YWJsZVRyYW5zYWN0aW9uID0gbm9kZU1pZGRsZXdhcmUuT2JzZXJ2YWJsZVRyYW5zYWN0aW9uO1xuZXhwb3J0cy5QYXRjaCA9IG5vZGVNaWRkbGV3YXJlLlBhdGNoO1xuZXhwb3J0cy5TYW5pdHlDbGllbnQgPSBub2RlTWlkZGxld2FyZS5TYW5pdHlDbGllbnQ7XG5leHBvcnRzLlNlcnZlckVycm9yID0gbm9kZU1pZGRsZXdhcmUuU2VydmVyRXJyb3I7XG5leHBvcnRzLlRyYW5zYWN0aW9uID0gbm9kZU1pZGRsZXdhcmUuVHJhbnNhY3Rpb247XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ3Vuc3RhYmxlX19hZGFwdGVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZ2V0SXQuYWRhcHRlcjtcbiAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ3Vuc3RhYmxlX19lbnZpcm9ubWVudCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGdldEl0LmVudmlyb25tZW50O1xuICB9XG59KTtcbmV4cG9ydHMuY3JlYXRlQ2xpZW50ID0gY3JlYXRlQ2xpZW50O1xuZXhwb3J0cy5kZWZhdWx0ID0gZGVwcmVjYXRlZENyZWF0ZUNsaWVudDtcbmV4cG9ydHMucmVxdWVzdGVyID0gcmVxdWVzdGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguY2pzLm1hcFxuIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwibm9kZU1pZGRsZXdhcmUiLCJyZXF1aXJlIiwiZ2V0SXQiLCJkZWZpbmVEZXByZWNhdGVkQ3JlYXRlQ2xpZW50IiwiY3JlYXRlQ2xpZW50IiwiZGVwcmVjYXRlZENyZWF0ZUNsaWVudCIsImNvbmZpZyIsInByaW50Tm9EZWZhdWx0RXhwb3J0IiwiZXhwIiwiZGVmaW5lQ3JlYXRlQ2xpZW50RXhwb3J0cyIsIm1pZGRsZXdhcmUiLCJTYW5pdHlDbGllbnQiLCJyZXF1ZXN0ZXIiLCJCYXNlUGF0Y2giLCJCYXNlVHJhbnNhY3Rpb24iLCJDbGllbnRFcnJvciIsIk9ic2VydmFibGVQYXRjaCIsIk9ic2VydmFibGVTYW5pdHlDbGllbnQiLCJPYnNlcnZhYmxlVHJhbnNhY3Rpb24iLCJQYXRjaCIsIlNlcnZlckVycm9yIiwiVHJhbnNhY3Rpb24iLCJlbnVtZXJhYmxlIiwiZ2V0IiwiYWRhcHRlciIsImVudmlyb25tZW50IiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/client/dist/index.cjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/client/dist/stega.cjs":
/*!****************************************************!*\
  !*** ./node_modules/@sanity/client/dist/stega.cjs ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nvar nodeMiddleware = __webpack_require__(/*! ./_chunks/nodeMiddleware-1l7OW-D5.cjs */ \"(ssr)/./node_modules/@sanity/client/dist/_chunks/nodeMiddleware-1l7OW-D5.cjs\");\nvar operators = __webpack_require__(/*! rxjs/operators */ \"(ssr)/./node_modules/rxjs/dist/cjs/operators/index.js\");\nvar stega = __webpack_require__(/*! @vercel/stega */ \"(ssr)/./node_modules/@vercel/stega/dist/index.mjs\");\nvar resolveEditInfo = __webpack_require__(/*! ./_chunks/resolveEditInfo-v_7g85GR.cjs */ \"(ssr)/./node_modules/@sanity/client/dist/_chunks/resolveEditInfo-v_7g85GR.cjs\");\nvar getIt = __webpack_require__(/*! get-it */ \"(ssr)/./node_modules/get-it/dist/index.cjs\");\nconst defaultStegaConfig = {\n    enabled: false,\n    filter: (props)=>props.filterDefault(props)\n};\nfunction splitConfig(config) {\n    const { stega = {}, ...clientConfig } = config;\n    return {\n        clientConfig,\n        stegaConfig: typeof stega === \"boolean\" ? {\n            enabled: stega\n        } : stega\n    };\n}\nconst initStegaConfig = (config, prevConfig)=>{\n    const specifiedConfig = Object.assign({}, prevConfig, config);\n    const newConfig = Object.assign({}, defaultStegaConfig, specifiedConfig);\n    if (\"encodeSourceMap\" in newConfig) {\n        throw new Error(\"It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMap' is not supported in '@sanity/client/stega'. Did you mean 'enabled'?\");\n    }\n    if (\"encodeSourceMapAtPath\" in newConfig) {\n        throw new Error(\"It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMapAtPath' is not supported in '@sanity/client/stega'. Did you mean 'filter'?\");\n    }\n    if (typeof newConfig.enabled !== \"boolean\") {\n        throw new Error(\"config.enabled must be a boolean, received \".concat(newConfig.enabled));\n    }\n    if (newConfig.enabled && newConfig.studioUrl === void 0) {\n        throw new Error(\"config.studioUrl must be defined when config.enabled is true\");\n    }\n    if (newConfig.enabled && typeof newConfig.studioUrl !== \"string\" && typeof newConfig.studioUrl !== \"function\") {\n        throw new Error(\"config.studioUrl must be a string or a function, received \".concat(newConfig.studioUrl));\n    }\n    return newConfig;\n};\nfunction splitStegaConfigFromFetchOptions(options, initializedStegaConfig) {\n    const { stega = {}, ...fetchOptions } = options;\n    const stegaConfig = initStegaConfig(typeof stega === \"boolean\" ? {\n        enabled: stega\n    } : stega, initializedStegaConfig);\n    return {\n        fetchOptions,\n        stegaConfig\n    };\n}\nfunction encodeIntoResult(result, csm, encoder) {\n    return resolveEditInfo.walkMap(result, (value, path)=>{\n        if (typeof value !== \"string\") {\n            return value;\n        }\n        const resolveMappingResult = resolveEditInfo.resolveMapping(path, csm);\n        if (!resolveMappingResult) {\n            return value;\n        }\n        const { mapping, matchedPath } = resolveMappingResult;\n        if (mapping.type !== \"value\") {\n            return value;\n        }\n        if (mapping.source.type !== \"documentValue\") {\n            return value;\n        }\n        const sourceDocument = csm.documents[mapping.source.document];\n        const sourcePath = csm.paths[mapping.source.path];\n        const matchPathSegments = resolveEditInfo.parseJsonPath(matchedPath);\n        const sourcePathSegments = resolveEditInfo.parseJsonPath(sourcePath);\n        const fullSourceSegments = sourcePathSegments.concat(path.slice(matchPathSegments.length));\n        return encoder({\n            sourcePath: fullSourceSegments,\n            sourceDocument,\n            resultPath: path,\n            value\n        });\n    });\n}\nconst filterDefault = (_ref)=>{\n    let { sourcePath, value } = _ref;\n    if (isValidDate(value) || isValidURL(value)) {\n        return false;\n    }\n    const endPath = sourcePath.at(-1);\n    if (sourcePath.at(-2) === \"slug\" && endPath === \"current\") {\n        return false;\n    }\n    if (typeof endPath === \"string\" && endPath.startsWith(\"_\")) {\n        return false;\n    }\n    if (typeof endPath === \"number\" && sourcePath.at(-2) === \"marks\") {\n        return false;\n    }\n    if (endPath === \"href\" && typeof sourcePath.at(-2) === \"number\" && sourcePath.at(-3) === \"markDefs\") {\n        return false;\n    }\n    if (endPath === \"style\" || endPath === \"listItem\") {\n        return false;\n    }\n    if (sourcePath.some((path)=>path === \"meta\" || path === \"metadata\" || path === \"openGraph\" || path === \"seo\")) {\n        return false;\n    }\n    if (typeof endPath === \"string\" && denylist.has(endPath)) {\n        return false;\n    }\n    return true;\n};\nconst denylist = /* @__PURE__ */ new Set([\n    \"color\",\n    \"colour\",\n    \"currency\",\n    \"email\",\n    \"format\",\n    \"gid\",\n    \"hex\",\n    \"href\",\n    \"hsl\",\n    \"hsla\",\n    \"icon\",\n    \"id\",\n    \"index\",\n    \"key\",\n    \"language\",\n    \"layout\",\n    \"link\",\n    \"linkAction\",\n    \"locale\",\n    \"lqip\",\n    \"page\",\n    \"path\",\n    \"ref\",\n    \"rgb\",\n    \"rgba\",\n    \"route\",\n    \"secret\",\n    \"slug\",\n    \"status\",\n    \"tag\",\n    \"template\",\n    \"theme\",\n    \"type\",\n    \"unit\",\n    \"url\",\n    \"username\",\n    \"variant\",\n    \"website\"\n]);\nfunction isValidDate(dateString) {\n    return Number.isNaN(Number(dateString)) ? Boolean(Date.parse(dateString)) : false;\n}\nfunction isValidURL(url) {\n    try {\n        new URL(url, url.startsWith(\"/\") ? \"https://acme.com\" : void 0);\n    } catch  {\n        return false;\n    }\n    return true;\n}\nconst TRUNCATE_LENGTH = 20;\nfunction stegaEncodeSourceMap(result, resultSourceMap, config) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _i;\n    const { filter, logger, enabled } = config;\n    if (!enabled) {\n        const msg = \"config.enabled must be true, don't call this function otherwise\";\n        (_a = logger == null ? void 0 : logger.error) == null ? void 0 : _a.call(logger, \"[@sanity/client/stega]: \".concat(msg), {\n            result,\n            resultSourceMap,\n            config\n        });\n        throw new TypeError(msg);\n    }\n    if (!resultSourceMap) {\n        (_b = logger == null ? void 0 : logger.error) == null ? void 0 : _b.call(logger, \"[@sanity/client/stega]: Missing Content Source Map from response body\", {\n            result,\n            resultSourceMap,\n            config\n        });\n        return result;\n    }\n    if (!config.studioUrl) {\n        const msg = \"config.studioUrl must be defined\";\n        (_c = logger == null ? void 0 : logger.error) == null ? void 0 : _c.call(logger, \"[@sanity/client/stega]: \".concat(msg), {\n            result,\n            resultSourceMap,\n            config\n        });\n        throw new TypeError(msg);\n    }\n    const report = {\n        encoded: [],\n        skipped: []\n    };\n    const resultWithStega = encodeIntoResult(result, resultSourceMap, (_ref2)=>{\n        let { sourcePath, sourceDocument, resultPath, value } = _ref2;\n        if ((typeof filter === \"function\" ? filter({\n            sourcePath,\n            resultPath,\n            filterDefault,\n            sourceDocument,\n            value\n        }) : filterDefault({\n            sourcePath,\n            resultPath,\n            filterDefault,\n            sourceDocument,\n            value\n        })) === false) {\n            if (logger) {\n                report.skipped.push({\n                    path: prettyPathForLogging(sourcePath),\n                    value: \"\".concat(value.slice(0, TRUNCATE_LENGTH)).concat(value.length > TRUNCATE_LENGTH ? \"...\" : \"\"),\n                    length: value.length\n                });\n            }\n            return value;\n        }\n        if (logger) {\n            report.encoded.push({\n                path: prettyPathForLogging(sourcePath),\n                value: \"\".concat(value.slice(0, TRUNCATE_LENGTH)).concat(value.length > TRUNCATE_LENGTH ? \"...\" : \"\"),\n                length: value.length\n            });\n        }\n        const { baseUrl, workspace, tool } = resolveEditInfo.resolveStudioBaseRoute(typeof config.studioUrl === \"function\" ? config.studioUrl(sourceDocument) : config.studioUrl);\n        if (!baseUrl) return value;\n        const { _id: id, _type: type } = sourceDocument;\n        return stega.vercelStegaCombine(value, {\n            origin: \"sanity.io\",\n            href: resolveEditInfo.createEditUrl({\n                baseUrl,\n                workspace,\n                tool,\n                id,\n                type,\n                path: sourcePath\n            })\n        }, // We use custom logic to determine if we should skip encoding\n        false);\n    });\n    if (logger) {\n        const isSkipping = report.skipped.length;\n        const isEncoding = report.encoded.length;\n        if (isSkipping || isEncoding) {\n            (_d = (logger == null ? void 0 : logger.groupCollapsed) || logger.log) == null ? void 0 : _d(\"[@sanity/client/stega]: Encoding source map into result\");\n            (_e = logger.log) == null ? void 0 : _e.call(logger, \"[@sanity/client/stega]: Paths encoded: \".concat(report.encoded.length, \", skipped: \").concat(report.skipped.length));\n        }\n        if (report.encoded.length > 0) {\n            (_f = logger == null ? void 0 : logger.log) == null ? void 0 : _f.call(logger, \"[@sanity/client/stega]: Table of encoded paths\");\n            (_g = (logger == null ? void 0 : logger.table) || logger.log) == null ? void 0 : _g(report.encoded);\n        }\n        if (report.skipped.length > 0) {\n            const skipped = /* @__PURE__ */ new Set();\n            for (const { path } of report.skipped){\n                skipped.add(path.replace(resolveEditInfo.reKeySegment, \"0\").replace(/\\[\\d+\\]/g, \"[]\"));\n            }\n            (_h = logger == null ? void 0 : logger.log) == null ? void 0 : _h.call(logger, \"[@sanity/client/stega]: List of skipped paths\", [\n                ...skipped.values()\n            ]);\n        }\n        if (isSkipping || isEncoding) {\n            (_i = logger == null ? void 0 : logger.groupEnd) == null ? void 0 : _i.call(logger);\n        }\n    }\n    return resultWithStega;\n}\nfunction prettyPathForLogging(path) {\n    return resolveEditInfo.toString(resolveEditInfo.jsonPathToStudioPath(path));\n}\nfunction vercelStegaCleanAll(result) {\n    return JSON.parse(JSON.stringify(result, (key, value)=>{\n        if (typeof value !== \"string\") return value;\n        return stega.vercelStegaSplit(value).cleaned;\n    }));\n}\nvar __accessCheck = (obj, member, msg)=>{\n    if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter)=>{\n    __accessCheck(obj, member, \"read from private field\");\n    return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value)=>{\n    if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter)=>{\n    __accessCheck(obj, member, \"write to private field\");\n    setter ? setter.call(obj, value) : member.set(obj, value);\n    return value;\n};\nvar _httpRequest, _httpRequest2;\nconst _ObservableSanityStegaClient = class _ObservableSanityStegaClient extends nodeMiddleware.ObservableSanityClient {\n    constructor(httpRequest){\n        let config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : nodeMiddleware.defaultConfig;\n        const { clientConfig, stegaConfig } = splitConfig(config);\n        super(httpRequest, clientConfig);\n        /**\n     * Private properties\n     */ __privateAdd(this, _httpRequest, void 0);\n        __privateSet(this, _httpRequest, httpRequest);\n        this.stegaConfig = initStegaConfig(stegaConfig, defaultStegaConfig);\n    }\n    /**\n   * Clone the client - returns a new instance\n   */ clone() {\n        return new _ObservableSanityStegaClient(__privateGet(this, _httpRequest), this.config());\n    }\n    config(newConfig) {\n        if (newConfig === void 0) {\n            return {\n                ...super.config(),\n                stega: {\n                    ...this.stegaConfig\n                }\n            };\n        }\n        const { clientConfig, stegaConfig } = splitConfig(newConfig);\n        super.config(clientConfig);\n        this.stegaConfig = initStegaConfig(stegaConfig, this.stegaConfig || {});\n        return this;\n    }\n    /**\n   * Clone the client with a new (partial) configuration.\n   *\n   * @param newConfig - New client configuration properties, shallowly merged with existing configuration\n   */ withConfig(newConfig) {\n        const thisConfig = this.config();\n        const { stegaConfig } = splitConfig(newConfig || {});\n        return new _ObservableSanityStegaClient(__privateGet(this, _httpRequest), {\n            ...thisConfig,\n            ...newConfig,\n            stega: {\n                ...thisConfig.stega || {},\n                ...stegaConfig || {}\n            }\n        });\n    }\n    fetch(query, _params) {\n        let _options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n        const { stegaConfig, fetchOptions: options } = splitStegaConfigFromFetchOptions(_options, this.stegaConfig);\n        const params = _params ? vercelStegaCleanAll(_params) : _params;\n        if (!stegaConfig.enabled) {\n            return super.fetch(query, params, options);\n        }\n        const { filterResponse: originalFilterResponse = true } = options;\n        return super.fetch(query, params, Object.assign({}, options, {\n            filterResponse: false,\n            resultSourceMap: \"withKeyArraySelector\"\n        })).pipe(operators.map((res)=>{\n            const { result: _result, resultSourceMap } = res;\n            const result = stegaEncodeSourceMap(_result, resultSourceMap, stegaConfig);\n            return originalFilterResponse ? result : {\n                ...res,\n                result\n            };\n        }));\n    }\n};\n_httpRequest = new WeakMap();\nlet ObservableSanityStegaClient = _ObservableSanityStegaClient;\nconst _SanityStegaClient = class _SanityStegaClient extends nodeMiddleware.SanityClient {\n    constructor(httpRequest){\n        let config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : nodeMiddleware.defaultConfig;\n        const { clientConfig, stegaConfig } = splitConfig(config);\n        super(httpRequest, clientConfig);\n        /**\n     * Private properties\n     */ __privateAdd(this, _httpRequest2, void 0);\n        __privateSet(this, _httpRequest2, httpRequest);\n        this.stegaConfig = initStegaConfig(stegaConfig, defaultStegaConfig);\n        this.observable = new ObservableSanityStegaClient(httpRequest, config);\n    }\n    /**\n   * Clone the client - returns a new instance\n   */ clone() {\n        return new _SanityStegaClient(__privateGet(this, _httpRequest2), this.config());\n    }\n    config(newConfig) {\n        if (newConfig === void 0) {\n            return {\n                ...super.config(),\n                stega: {\n                    ...this.stegaConfig\n                }\n            };\n        }\n        const { clientConfig, stegaConfig } = splitConfig(newConfig);\n        super.config(clientConfig);\n        this.stegaConfig = initStegaConfig(stegaConfig, {\n            ...this.stegaConfig || {}\n        });\n        return this;\n    }\n    /**\n   * Clone the client with a new (partial) configuration.\n   *\n   * @param newConfig - New client configuration properties, shallowly merged with existing configuration\n   */ withConfig(newConfig) {\n        const thisConfig = this.config();\n        const { stegaConfig } = splitConfig(newConfig || {});\n        return new _SanityStegaClient(__privateGet(this, _httpRequest2), {\n            ...thisConfig,\n            ...newConfig,\n            stega: {\n                ...thisConfig.stega || {},\n                ...stegaConfig || {}\n            }\n        });\n    }\n    fetch(query, _params) {\n        let _options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n        const { stegaConfig, fetchOptions: options } = splitStegaConfigFromFetchOptions(_options, this.stegaConfig);\n        const params = _params ? vercelStegaCleanAll(_params) : _params;\n        if (!stegaConfig.enabled) {\n            return super.fetch(query, params, options);\n        }\n        const { filterResponse: originalFilterResponse = true } = options;\n        return super.fetch(query, params, Object.assign({}, options, {\n            filterResponse: false,\n            resultSourceMap: \"withKeyArraySelector\"\n        })).then((res)=>{\n            const { result: _result, resultSourceMap } = res;\n            const result = stegaEncodeSourceMap(_result, resultSourceMap, stegaConfig);\n            return originalFilterResponse ? result : {\n                ...res,\n                result\n            };\n        });\n    }\n};\n_httpRequest2 = new WeakMap();\nlet SanityStegaClient = _SanityStegaClient;\nconst exp = nodeMiddleware.defineCreateClientExports(nodeMiddleware.middleware, SanityStegaClient);\nconst requester = exp.requester;\nconst createClient = exp.createClient;\nexports.BasePatch = nodeMiddleware.BasePatch;\nexports.BaseTransaction = nodeMiddleware.BaseTransaction;\nexports.ClientError = nodeMiddleware.ClientError;\nexports.ObservablePatch = nodeMiddleware.ObservablePatch;\nexports.ObservableSanityClient = nodeMiddleware.ObservableSanityClient;\nexports.ObservableTransaction = nodeMiddleware.ObservableTransaction;\nexports.Patch = nodeMiddleware.Patch;\nexports.SanityClient = nodeMiddleware.SanityClient;\nexports.ServerError = nodeMiddleware.ServerError;\nexports.Transaction = nodeMiddleware.Transaction;\nObject.defineProperty(exports, \"unstable__adapter\", ({\n    enumerable: true,\n    get: function() {\n        return getIt.adapter;\n    }\n}));\nObject.defineProperty(exports, \"unstable__environment\", ({\n    enumerable: true,\n    get: function() {\n        return getIt.environment;\n    }\n}));\nexports.ObservableSanityStegaClient = ObservableSanityStegaClient;\nexports.SanityStegaClient = SanityStegaClient;\nexports.createClient = createClient;\nexports.encodeIntoResult = encodeIntoResult;\nexports.requester = requester;\nexports.stegaEncodeSourceMap = stegaEncodeSourceMap;\nexports.vercelStegaCleanAll = vercelStegaCleanAll; //# sourceMappingURL=stega.cjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9jbGllbnQvZGlzdC9zdGVnYS5janMiLCJtYXBwaW5ncyI6IkFBQUE7QUFFQUEsOENBQTZDO0lBQzNDRyxPQUFPO0FBQ1QsQ0FBQyxFQUFDO0FBQ0YsSUFBSUMsaUJBQWlCQyxtQkFBT0EsQ0FBQztBQUM3QixJQUFJQyxZQUFZRCxtQkFBT0EsQ0FBQztBQUN4QixJQUFJRSxRQUFRRixtQkFBT0EsQ0FBQztBQUNwQixJQUFJRyxrQkFBa0JILG1CQUFPQSxDQUFDO0FBQzlCLElBQUlJLFFBQVFKLG1CQUFPQSxDQUFDO0FBQ3BCLE1BQU1LLHFCQUFxQjtJQUN6QkMsU0FBUztJQUNUQyxRQUFRQyxDQUFBQSxRQUFTQSxNQUFNQyxhQUFhLENBQUNEO0FBQ3ZDO0FBQ0EsU0FBU0UsWUFBWUMsTUFBTTtJQUN6QixNQUFNLEVBQ0pULFFBQVEsQ0FBQyxDQUFDLEVBQ1YsR0FBR1UsY0FDSixHQUFHRDtJQUNKLE9BQU87UUFDTEM7UUFDQUMsYUFBYSxPQUFPWCxVQUFVLFlBQVk7WUFDeENJLFNBQVNKO1FBQ1gsSUFBSUE7SUFDTjtBQUNGO0FBQ0EsTUFBTVksa0JBQWtCLENBQUNILFFBQVFJO0lBQy9CLE1BQU1DLGtCQUFrQnJCLE9BQU9zQixNQUFNLENBQUMsQ0FBQyxHQUFHRixZQUFZSjtJQUN0RCxNQUFNTyxZQUFZdkIsT0FBT3NCLE1BQU0sQ0FBQyxDQUFDLEdBQUdaLG9CQUFvQlc7SUFDeEQsSUFBSSxxQkFBcUJFLFdBQVc7UUFDbEMsTUFBTSxJQUFJQyxNQUFNO0lBQ2xCO0lBQ0EsSUFBSSwyQkFBMkJELFdBQVc7UUFDeEMsTUFBTSxJQUFJQyxNQUFNO0lBQ2xCO0lBQ0EsSUFBSSxPQUFPRCxVQUFVWixPQUFPLEtBQUssV0FBVztRQUMxQyxNQUFNLElBQUlhLE1BQU0sOENBQThDQyxNQUFNLENBQUNGLFVBQVVaLE9BQU87SUFDeEY7SUFDQSxJQUFJWSxVQUFVWixPQUFPLElBQUlZLFVBQVVHLFNBQVMsS0FBSyxLQUFL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dC9kaXN0L3N0ZWdhLmNqcz8xNDI3Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG52YXIgbm9kZU1pZGRsZXdhcmUgPSByZXF1aXJlKCcuL19jaHVua3Mvbm9kZU1pZGRsZXdhcmUtMWw3T1ctRDUuY2pzJyk7XG52YXIgb3BlcmF0b3JzID0gcmVxdWlyZSgncnhqcy9vcGVyYXRvcnMnKTtcbnZhciBzdGVnYSA9IHJlcXVpcmUoJ0B2ZXJjZWwvc3RlZ2EnKTtcbnZhciByZXNvbHZlRWRpdEluZm8gPSByZXF1aXJlKCcuL19jaHVua3MvcmVzb2x2ZUVkaXRJbmZvLXZfN2c4NUdSLmNqcycpO1xudmFyIGdldEl0ID0gcmVxdWlyZSgnZ2V0LWl0Jyk7XG5jb25zdCBkZWZhdWx0U3RlZ2FDb25maWcgPSB7XG4gIGVuYWJsZWQ6IGZhbHNlLFxuICBmaWx0ZXI6IHByb3BzID0+IHByb3BzLmZpbHRlckRlZmF1bHQocHJvcHMpXG59O1xuZnVuY3Rpb24gc3BsaXRDb25maWcoY29uZmlnKSB7XG4gIGNvbnN0IHtcbiAgICBzdGVnYSA9IHt9LFxuICAgIC4uLmNsaWVudENvbmZpZ1xuICB9ID0gY29uZmlnO1xuICByZXR1cm4ge1xuICAgIGNsaWVudENvbmZpZyxcbiAgICBzdGVnYUNvbmZpZzogdHlwZW9mIHN0ZWdhID09PSBcImJvb2xlYW5cIiA/IHtcbiAgICAgIGVuYWJsZWQ6IHN0ZWdhXG4gICAgfSA6IHN0ZWdhXG4gIH07XG59XG5jb25zdCBpbml0U3RlZ2FDb25maWcgPSAoY29uZmlnLCBwcmV2Q29uZmlnKSA9PiB7XG4gIGNvbnN0IHNwZWNpZmllZENvbmZpZyA9IE9iamVjdC5hc3NpZ24oe30sIHByZXZDb25maWcsIGNvbmZpZyk7XG4gIGNvbnN0IG5ld0NvbmZpZyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRTdGVnYUNvbmZpZywgc3BlY2lmaWVkQ29uZmlnKTtcbiAgaWYgKFwiZW5jb2RlU291cmNlTWFwXCIgaW4gbmV3Q29uZmlnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSXQgbG9va3MgbGlrZSB5b3UncmUgdXNpbmcgb3B0aW9ucyBtZWFudCBmb3IgJ0BzYW5pdHkvcHJldmlldy1raXQvY2xpZW50Jy4gJ2VuY29kZVNvdXJjZU1hcCcgaXMgbm90IHN1cHBvcnRlZCBpbiAnQHNhbml0eS9jbGllbnQvc3RlZ2EnLiBEaWQgeW91IG1lYW4gJ2VuYWJsZWQnP1wiKTtcbiAgfVxuICBpZiAoXCJlbmNvZGVTb3VyY2VNYXBBdFBhdGhcIiBpbiBuZXdDb25maWcpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJJdCBsb29rcyBsaWtlIHlvdSdyZSB1c2luZyBvcHRpb25zIG1lYW50IGZvciAnQHNhbml0eS9wcmV2aWV3LWtpdC9jbGllbnQnLiAnZW5jb2RlU291cmNlTWFwQXRQYXRoJyBpcyBub3Qgc3VwcG9ydGVkIGluICdAc2FuaXR5L2NsaWVudC9zdGVnYScuIERpZCB5b3UgbWVhbiAnZmlsdGVyJz9cIik7XG4gIH1cbiAgaWYgKHR5cGVvZiBuZXdDb25maWcuZW5hYmxlZCAhPT0gXCJib29sZWFuXCIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJjb25maWcuZW5hYmxlZCBtdXN0IGJlIGEgYm9vbGVhbiwgcmVjZWl2ZWQgXCIuY29uY2F0KG5ld0NvbmZpZy5lbmFibGVkKSk7XG4gIH1cbiAgaWYgKG5ld0NvbmZpZy5lbmFibGVkICYmIG5ld0NvbmZpZy5zdHVkaW9VcmwgPT09IHZvaWQgMCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcImNvbmZpZy5zdHVkaW9VcmwgbXVzdCBiZSBkZWZpbmVkIHdoZW4gY29uZmlnLmVuYWJsZWQgaXMgdHJ1ZVwiKTtcbiAgfVxuICBpZiAobmV3Q29uZmlnLmVuYWJsZWQgJiYgdHlwZW9mIG5ld0NvbmZpZy5zdHVkaW9VcmwgIT09IFwic3RyaW5nXCIgJiYgdHlwZW9mIG5ld0NvbmZpZy5zdHVkaW9VcmwgIT09IFwiZnVuY3Rpb25cIikge1xuICAgIHRocm93IG5ldyBFcnJvcihcImNvbmZpZy5zdHVkaW9VcmwgbXVzdCBiZSBhIHN0cmluZyBvciBhIGZ1bmN0aW9uLCByZWNlaXZlZCBcIi5jb25jYXQobmV3Q29uZmlnLnN0dWRpb1VybCkpO1xuICB9XG4gIHJldHVybiBuZXdDb25maWc7XG59O1xuZnVuY3Rpb24gc3BsaXRTdGVnYUNvbmZpZ0Zyb21GZXRjaE9wdGlvbnMob3B0aW9ucywgaW5pdGlhbGl6ZWRTdGVnYUNvbmZpZykge1xuICBjb25zdCB7XG4gICAgc3RlZ2EgPSB7fSxcbiAgICAuLi5mZXRjaE9wdGlvbnNcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHN0ZWdhQ29uZmlnID0gaW5pdFN0ZWdhQ29uZmlnKHR5cGVvZiBzdGVnYSA9PT0gXCJib29sZWFuXCIgPyB7XG4gICAgZW5hYmxlZDogc3RlZ2FcbiAgfSA6IHN0ZWdhLCBpbml0aWFsaXplZFN0ZWdhQ29uZmlnKTtcbiAgcmV0dXJuIHtcbiAgICBmZXRjaE9wdGlvbnMsXG4gICAgc3RlZ2FDb25maWdcbiAgfTtcbn1cbmZ1bmN0aW9uIGVuY29kZUludG9SZXN1bHQocmVzdWx0LCBjc20sIGVuY29kZXIpIHtcbiAgcmV0dXJuIHJlc29sdmVFZGl0SW5mby53YWxrTWFwKHJlc3VsdCwgKHZhbHVlLCBwYXRoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBjb25zdCByZXNvbHZlTWFwcGluZ1Jlc3VsdCA9IHJlc29sdmVFZGl0SW5mby5yZXNvbHZlTWFwcGluZyhwYXRoLCBjc20pO1xuICAgIGlmICghcmVzb2x2ZU1hcHBpbmdSZXN1bHQpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgY29uc3Qge1xuICAgICAgbWFwcGluZyxcbiAgICAgIG1hdGNoZWRQYXRoXG4gICAgfSA9IHJlc29sdmVNYXBwaW5nUmVzdWx0O1xuICAgIGlmIChtYXBwaW5nLnR5cGUgIT09IFwidmFsdWVcIikge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBpZiAobWFwcGluZy5zb3VyY2UudHlwZSAhPT0gXCJkb2N1bWVudFZhbHVlXCIpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgY29uc3Qgc291cmNlRG9jdW1lbnQgPSBjc20uZG9jdW1lbnRzW21hcHBpbmcuc291cmNlLmRvY3VtZW50XTtcbiAgICBjb25zdCBzb3VyY2VQYXRoID0gY3NtLnBhdGhzW21hcHBpbmcuc291cmNlLnBhdGhdO1xuICAgIGNvbnN0IG1hdGNoUGF0aFNlZ21lbnRzID0gcmVzb2x2ZUVkaXRJbmZvLnBhcnNlSnNvblBhdGgobWF0Y2hlZFBhdGgpO1xuICAgIGNvbnN0IHNvdXJjZVBhdGhTZWdtZW50cyA9IHJlc29sdmVFZGl0SW5mby5wYXJzZUpzb25QYXRoKHNvdXJjZVBhdGgpO1xuICAgIGNvbnN0IGZ1bGxTb3VyY2VTZWdtZW50cyA9IHNvdXJjZVBhdGhTZWdtZW50cy5jb25jYXQocGF0aC5zbGljZShtYXRjaFBhdGhTZWdtZW50cy5sZW5ndGgpKTtcbiAgICByZXR1cm4gZW5jb2Rlcih7XG4gICAgICBzb3VyY2VQYXRoOiBmdWxsU291cmNlU2VnbWVudHMsXG4gICAgICBzb3VyY2VEb2N1bWVudCxcbiAgICAgIHJlc3VsdFBhdGg6IHBhdGgsXG4gICAgICB2YWx1ZVxuICAgIH0pO1xuICB9KTtcbn1cbmNvbnN0IGZpbHRlckRlZmF1bHQgPSBfcmVmID0+IHtcbiAgbGV0IHtcbiAgICBzb3VyY2VQYXRoLFxuICAgIHZhbHVlXG4gIH0gPSBfcmVmO1xuICBpZiAoaXNWYWxpZERhdGUodmFsdWUpIHx8IGlzVmFsaWRVUkwodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IGVuZFBhdGggPSBzb3VyY2VQYXRoLmF0KC0xKTtcbiAgaWYgKHNvdXJjZVBhdGguYXQoLTIpID09PSBcInNsdWdcIiAmJiBlbmRQYXRoID09PSBcImN1cnJlbnRcIikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAodHlwZW9mIGVuZFBhdGggPT09IFwic3RyaW5nXCIgJiYgZW5kUGF0aC5zdGFydHNXaXRoKFwiX1wiKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAodHlwZW9mIGVuZFBhdGggPT09IFwibnVtYmVyXCIgJiYgc291cmNlUGF0aC5hdCgtMikgPT09IFwibWFya3NcIikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoZW5kUGF0aCA9PT0gXCJocmVmXCIgJiYgdHlwZW9mIHNvdXJjZVBhdGguYXQoLTIpID09PSBcIm51bWJlclwiICYmIHNvdXJjZVBhdGguYXQoLTMpID09PSBcIm1hcmtEZWZzXCIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKGVuZFBhdGggPT09IFwic3R5bGVcIiB8fCBlbmRQYXRoID09PSBcImxpc3RJdGVtXCIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKHNvdXJjZVBhdGguc29tZShwYXRoID0+IHBhdGggPT09IFwibWV0YVwiIHx8IHBhdGggPT09IFwibWV0YWRhdGFcIiB8fCBwYXRoID09PSBcIm9wZW5HcmFwaFwiIHx8IHBhdGggPT09IFwic2VvXCIpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmICh0eXBlb2YgZW5kUGF0aCA9PT0gXCJzdHJpbmdcIiAmJiBkZW55bGlzdC5oYXMoZW5kUGF0aCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59O1xuY29uc3QgZGVueWxpc3QgPSAvKiBAX19QVVJFX18gKi9uZXcgU2V0KFtcImNvbG9yXCIsIFwiY29sb3VyXCIsIFwiY3VycmVuY3lcIiwgXCJlbWFpbFwiLCBcImZvcm1hdFwiLCBcImdpZFwiLCBcImhleFwiLCBcImhyZWZcIiwgXCJoc2xcIiwgXCJoc2xhXCIsIFwiaWNvblwiLCBcImlkXCIsIFwiaW5kZXhcIiwgXCJrZXlcIiwgXCJsYW5ndWFnZVwiLCBcImxheW91dFwiLCBcImxpbmtcIiwgXCJsaW5rQWN0aW9uXCIsIFwibG9jYWxlXCIsIFwibHFpcFwiLCBcInBhZ2VcIiwgXCJwYXRoXCIsIFwicmVmXCIsIFwicmdiXCIsIFwicmdiYVwiLCBcInJvdXRlXCIsIFwic2VjcmV0XCIsIFwic2x1Z1wiLCBcInN0YXR1c1wiLCBcInRhZ1wiLCBcInRlbXBsYXRlXCIsIFwidGhlbWVcIiwgXCJ0eXBlXCIsIFwidW5pdFwiLCBcInVybFwiLCBcInVzZXJuYW1lXCIsIFwidmFyaWFudFwiLCBcIndlYnNpdGVcIl0pO1xuZnVuY3Rpb24gaXNWYWxpZERhdGUoZGF0ZVN0cmluZykge1xuICByZXR1cm4gTnVtYmVyLmlzTmFOKE51bWJlcihkYXRlU3RyaW5nKSkgPyBCb29sZWFuKERhdGUucGFyc2UoZGF0ZVN0cmluZykpIDogZmFsc2U7XG59XG5mdW5jdGlvbiBpc1ZhbGlkVVJMKHVybCkge1xuICB0cnkge1xuICAgIG5ldyBVUkwodXJsLCB1cmwuc3RhcnRzV2l0aChcIi9cIikgPyBcImh0dHBzOi8vYWNtZS5jb21cIiA6IHZvaWQgMCk7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cbmNvbnN0IFRSVU5DQVRFX0xFTkdUSCA9IDIwO1xuZnVuY3Rpb24gc3RlZ2FFbmNvZGVTb3VyY2VNYXAocmVzdWx0LCByZXN1bHRTb3VyY2VNYXAsIGNvbmZpZykge1xuICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oLCBfaTtcbiAgY29uc3Qge1xuICAgIGZpbHRlcixcbiAgICBsb2dnZXIsXG4gICAgZW5hYmxlZFxuICB9ID0gY29uZmlnO1xuICBpZiAoIWVuYWJsZWQpIHtcbiAgICBjb25zdCBtc2cgPSBcImNvbmZpZy5lbmFibGVkIG11c3QgYmUgdHJ1ZSwgZG9uJ3QgY2FsbCB0aGlzIGZ1bmN0aW9uIG90aGVyd2lzZVwiO1xuICAgIChfYSA9IGxvZ2dlciA9PSBudWxsID8gdm9pZCAwIDogbG9nZ2VyLmVycm9yKSA9PSBudWxsID8gdm9pZCAwIDogX2EuY2FsbChsb2dnZXIsIFwiW0BzYW5pdHkvY2xpZW50L3N0ZWdhXTogXCIuY29uY2F0KG1zZyksIHtcbiAgICAgIHJlc3VsdCxcbiAgICAgIHJlc3VsdFNvdXJjZU1hcCxcbiAgICAgIGNvbmZpZ1xuICAgIH0pO1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IobXNnKTtcbiAgfVxuICBpZiAoIXJlc3VsdFNvdXJjZU1hcCkge1xuICAgIChfYiA9IGxvZ2dlciA9PSBudWxsID8gdm9pZCAwIDogbG9nZ2VyLmVycm9yKSA9PSBudWxsID8gdm9pZCAwIDogX2IuY2FsbChsb2dnZXIsIFwiW0BzYW5pdHkvY2xpZW50L3N0ZWdhXTogTWlzc2luZyBDb250ZW50IFNvdXJjZSBNYXAgZnJvbSByZXNwb25zZSBib2R5XCIsIHtcbiAgICAgIHJlc3VsdCxcbiAgICAgIHJlc3VsdFNvdXJjZU1hcCxcbiAgICAgIGNvbmZpZ1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgaWYgKCFjb25maWcuc3R1ZGlvVXJsKSB7XG4gICAgY29uc3QgbXNnID0gXCJjb25maWcuc3R1ZGlvVXJsIG11c3QgYmUgZGVmaW5lZFwiO1xuICAgIChfYyA9IGxvZ2dlciA9PSBudWxsID8gdm9pZCAwIDogbG9nZ2VyLmVycm9yKSA9PSBudWxsID8gdm9pZCAwIDogX2MuY2FsbChsb2dnZXIsIFwiW0BzYW5pdHkvY2xpZW50L3N0ZWdhXTogXCIuY29uY2F0KG1zZyksIHtcbiAgICAgIHJlc3VsdCxcbiAgICAgIHJlc3VsdFNvdXJjZU1hcCxcbiAgICAgIGNvbmZpZ1xuICAgIH0pO1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IobXNnKTtcbiAgfVxuICBjb25zdCByZXBvcnQgPSB7XG4gICAgZW5jb2RlZDogW10sXG4gICAgc2tpcHBlZDogW11cbiAgfTtcbiAgY29uc3QgcmVzdWx0V2l0aFN0ZWdhID0gZW5jb2RlSW50b1Jlc3VsdChyZXN1bHQsIHJlc3VsdFNvdXJjZU1hcCwgX3JlZjIgPT4ge1xuICAgIGxldCB7XG4gICAgICBzb3VyY2VQYXRoLFxuICAgICAgc291cmNlRG9jdW1lbnQsXG4gICAgICByZXN1bHRQYXRoLFxuICAgICAgdmFsdWVcbiAgICB9ID0gX3JlZjI7XG4gICAgaWYgKCh0eXBlb2YgZmlsdGVyID09PSBcImZ1bmN0aW9uXCIgPyBmaWx0ZXIoe1xuICAgICAgc291cmNlUGF0aCxcbiAgICAgIHJlc3VsdFBhdGgsXG4gICAgICBmaWx0ZXJEZWZhdWx0LFxuICAgICAgc291cmNlRG9jdW1lbnQsXG4gICAgICB2YWx1ZVxuICAgIH0pIDogZmlsdGVyRGVmYXVsdCh7XG4gICAgICBzb3VyY2VQYXRoLFxuICAgICAgcmVzdWx0UGF0aCxcbiAgICAgIGZpbHRlckRlZmF1bHQsXG4gICAgICBzb3VyY2VEb2N1bWVudCxcbiAgICAgIHZhbHVlXG4gICAgfSkpID09PSBmYWxzZSkge1xuICAgICAgaWYgKGxvZ2dlcikge1xuICAgICAgICByZXBvcnQuc2tpcHBlZC5wdXNoKHtcbiAgICAgICAgICBwYXRoOiBwcmV0dHlQYXRoRm9yTG9nZ2luZyhzb3VyY2VQYXRoKSxcbiAgICAgICAgICB2YWx1ZTogXCJcIi5jb25jYXQodmFsdWUuc2xpY2UoMCwgVFJVTkNBVEVfTEVOR1RIKSkuY29uY2F0KHZhbHVlLmxlbmd0aCA+IFRSVU5DQVRFX0xFTkdUSCA/IFwiLi4uXCIgOiBcIlwiKSxcbiAgICAgICAgICBsZW5ndGg6IHZhbHVlLmxlbmd0aFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgaWYgKGxvZ2dlcikge1xuICAgICAgcmVwb3J0LmVuY29kZWQucHVzaCh7XG4gICAgICAgIHBhdGg6IHByZXR0eVBhdGhGb3JMb2dnaW5nKHNvdXJjZVBhdGgpLFxuICAgICAgICB2YWx1ZTogXCJcIi5jb25jYXQodmFsdWUuc2xpY2UoMCwgVFJVTkNBVEVfTEVOR1RIKSkuY29uY2F0KHZhbHVlLmxlbmd0aCA+IFRSVU5DQVRFX0xFTkdUSCA/IFwiLi4uXCIgOiBcIlwiKSxcbiAgICAgICAgbGVuZ3RoOiB2YWx1ZS5sZW5ndGhcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCB7XG4gICAgICBiYXNlVXJsLFxuICAgICAgd29ya3NwYWNlLFxuICAgICAgdG9vbFxuICAgIH0gPSByZXNvbHZlRWRpdEluZm8ucmVzb2x2ZVN0dWRpb0Jhc2VSb3V0ZSh0eXBlb2YgY29uZmlnLnN0dWRpb1VybCA9PT0gXCJmdW5jdGlvblwiID8gY29uZmlnLnN0dWRpb1VybChzb3VyY2VEb2N1bWVudCkgOiBjb25maWcuc3R1ZGlvVXJsKTtcbiAgICBpZiAoIWJhc2VVcmwpIHJldHVybiB2YWx1ZTtcbiAgICBjb25zdCB7XG4gICAgICBfaWQ6IGlkLFxuICAgICAgX3R5cGU6IHR5cGVcbiAgICB9ID0gc291cmNlRG9jdW1lbnQ7XG4gICAgcmV0dXJuIHN0ZWdhLnZlcmNlbFN0ZWdhQ29tYmluZSh2YWx1ZSwge1xuICAgICAgb3JpZ2luOiBcInNhbml0eS5pb1wiLFxuICAgICAgaHJlZjogcmVzb2x2ZUVkaXRJbmZvLmNyZWF0ZUVkaXRVcmwoe1xuICAgICAgICBiYXNlVXJsLFxuICAgICAgICB3b3Jrc3BhY2UsXG4gICAgICAgIHRvb2wsXG4gICAgICAgIGlkLFxuICAgICAgICB0eXBlLFxuICAgICAgICBwYXRoOiBzb3VyY2VQYXRoXG4gICAgICB9KVxuICAgIH0sXG4gICAgLy8gV2UgdXNlIGN1c3RvbSBsb2dpYyB0byBkZXRlcm1pbmUgaWYgd2Ugc2hvdWxkIHNraXAgZW5jb2RpbmdcbiAgICBmYWxzZSk7XG4gIH0pO1xuICBpZiAobG9nZ2VyKSB7XG4gICAgY29uc3QgaXNTa2lwcGluZyA9IHJlcG9ydC5za2lwcGVkLmxlbmd0aDtcbiAgICBjb25zdCBpc0VuY29kaW5nID0gcmVwb3J0LmVuY29kZWQubGVuZ3RoO1xuICAgIGlmIChpc1NraXBwaW5nIHx8IGlzRW5jb2RpbmcpIHtcbiAgICAgIChfZCA9IChsb2dnZXIgPT0gbnVsbCA/IHZvaWQgMCA6IGxvZ2dlci5ncm91cENvbGxhcHNlZCkgfHwgbG9nZ2VyLmxvZykgPT0gbnVsbCA/IHZvaWQgMCA6IF9kKFwiW0BzYW5pdHkvY2xpZW50L3N0ZWdhXTogRW5jb2Rpbmcgc291cmNlIG1hcCBpbnRvIHJlc3VsdFwiKTtcbiAgICAgIChfZSA9IGxvZ2dlci5sb2cpID09IG51bGwgPyB2b2lkIDAgOiBfZS5jYWxsKGxvZ2dlciwgXCJbQHNhbml0eS9jbGllbnQvc3RlZ2FdOiBQYXRocyBlbmNvZGVkOiBcIi5jb25jYXQocmVwb3J0LmVuY29kZWQubGVuZ3RoLCBcIiwgc2tpcHBlZDogXCIpLmNvbmNhdChyZXBvcnQuc2tpcHBlZC5sZW5ndGgpKTtcbiAgICB9XG4gICAgaWYgKHJlcG9ydC5lbmNvZGVkLmxlbmd0aCA+IDApIHtcbiAgICAgIChfZiA9IGxvZ2dlciA9PSBudWxsID8gdm9pZCAwIDogbG9nZ2VyLmxvZykgPT0gbnVsbCA/IHZvaWQgMCA6IF9mLmNhbGwobG9nZ2VyLCBcIltAc2FuaXR5L2NsaWVudC9zdGVnYV06IFRhYmxlIG9mIGVuY29kZWQgcGF0aHNcIik7XG4gICAgICAoX2cgPSAobG9nZ2VyID09IG51bGwgPyB2b2lkIDAgOiBsb2dnZXIudGFibGUpIHx8IGxvZ2dlci5sb2cpID09IG51bGwgPyB2b2lkIDAgOiBfZyhyZXBvcnQuZW5jb2RlZCk7XG4gICAgfVxuICAgIGlmIChyZXBvcnQuc2tpcHBlZC5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBza2lwcGVkID0gLyogQF9fUFVSRV9fICovbmV3IFNldCgpO1xuICAgICAgZm9yIChjb25zdCB7XG4gICAgICAgIHBhdGhcbiAgICAgIH0gb2YgcmVwb3J0LnNraXBwZWQpIHtcbiAgICAgICAgc2tpcHBlZC5hZGQocGF0aC5yZXBsYWNlKHJlc29sdmVFZGl0SW5mby5yZUtleVNlZ21lbnQsIFwiMFwiKS5yZXBsYWNlKC9cXFtcXGQrXFxdL2csIFwiW11cIikpO1xuICAgICAgfVxuICAgICAgKF9oID0gbG9nZ2VyID09IG51bGwgPyB2b2lkIDAgOiBsb2dnZXIubG9nKSA9PSBudWxsID8gdm9pZCAwIDogX2guY2FsbChsb2dnZXIsIFwiW0BzYW5pdHkvY2xpZW50L3N0ZWdhXTogTGlzdCBvZiBza2lwcGVkIHBhdGhzXCIsIFsuLi5za2lwcGVkLnZhbHVlcygpXSk7XG4gICAgfVxuICAgIGlmIChpc1NraXBwaW5nIHx8IGlzRW5jb2RpbmcpIHtcbiAgICAgIChfaSA9IGxvZ2dlciA9PSBudWxsID8gdm9pZCAwIDogbG9nZ2VyLmdyb3VwRW5kKSA9PSBudWxsID8gdm9pZCAwIDogX2kuY2FsbChsb2dnZXIpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0V2l0aFN0ZWdhO1xufVxuZnVuY3Rpb24gcHJldHR5UGF0aEZvckxvZ2dpbmcocGF0aCkge1xuICByZXR1cm4gcmVzb2x2ZUVkaXRJbmZvLnRvU3RyaW5nKHJlc29sdmVFZGl0SW5mby5qc29uUGF0aFRvU3R1ZGlvUGF0aChwYXRoKSk7XG59XG5mdW5jdGlvbiB2ZXJjZWxTdGVnYUNsZWFuQWxsKHJlc3VsdCkge1xuICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyZXN1bHQsIChrZXksIHZhbHVlKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJzdHJpbmdcIikgcmV0dXJuIHZhbHVlO1xuICAgIHJldHVybiBzdGVnYS52ZXJjZWxTdGVnYVNwbGl0KHZhbHVlKS5jbGVhbmVkO1xuICB9KSk7XG59XG52YXIgX19hY2Nlc3NDaGVjayA9IChvYmosIG1lbWJlciwgbXNnKSA9PiB7XG4gIGlmICghbWVtYmVyLmhhcyhvYmopKSB0aHJvdyBUeXBlRXJyb3IoXCJDYW5ub3QgXCIgKyBtc2cpO1xufTtcbnZhciBfX3ByaXZhdGVHZXQgPSAob2JqLCBtZW1iZXIsIGdldHRlcikgPT4ge1xuICBfX2FjY2Vzc0NoZWNrKG9iaiwgbWVtYmVyLCBcInJlYWQgZnJvbSBwcml2YXRlIGZpZWxkXCIpO1xuICByZXR1cm4gZ2V0dGVyID8gZ2V0dGVyLmNhbGwob2JqKSA6IG1lbWJlci5nZXQob2JqKTtcbn07XG52YXIgX19wcml2YXRlQWRkID0gKG9iaiwgbWVtYmVyLCB2YWx1ZSkgPT4ge1xuICBpZiAobWVtYmVyLmhhcyhvYmopKSB0aHJvdyBUeXBlRXJyb3IoXCJDYW5ub3QgYWRkIHRoZSBzYW1lIHByaXZhdGUgbWVtYmVyIG1vcmUgdGhhbiBvbmNlXCIpO1xuICBtZW1iZXIgaW5zdGFuY2VvZiBXZWFrU2V0ID8gbWVtYmVyLmFkZChvYmopIDogbWVtYmVyLnNldChvYmosIHZhbHVlKTtcbn07XG52YXIgX19wcml2YXRlU2V0ID0gKG9iaiwgbWVtYmVyLCB2YWx1ZSwgc2V0dGVyKSA9PiB7XG4gIF9fYWNjZXNzQ2hlY2sob2JqLCBtZW1iZXIsIFwid3JpdGUgdG8gcHJpdmF0ZSBmaWVsZFwiKTtcbiAgc2V0dGVyID8gc2V0dGVyLmNhbGwob2JqLCB2YWx1ZSkgOiBtZW1iZXIuc2V0KG9iaiwgdmFsdWUpO1xuICByZXR1cm4gdmFsdWU7XG59O1xudmFyIF9odHRwUmVxdWVzdCwgX2h0dHBSZXF1ZXN0MjtcbmNvbnN0IF9PYnNlcnZhYmxlU2FuaXR5U3RlZ2FDbGllbnQgPSBjbGFzcyBfT2JzZXJ2YWJsZVNhbml0eVN0ZWdhQ2xpZW50IGV4dGVuZHMgbm9kZU1pZGRsZXdhcmUuT2JzZXJ2YWJsZVNhbml0eUNsaWVudCB7XG4gIGNvbnN0cnVjdG9yKGh0dHBSZXF1ZXN0KSB7XG4gICAgbGV0IGNvbmZpZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogbm9kZU1pZGRsZXdhcmUuZGVmYXVsdENvbmZpZztcbiAgICBjb25zdCB7XG4gICAgICBjbGllbnRDb25maWcsXG4gICAgICBzdGVnYUNvbmZpZ1xuICAgIH0gPSBzcGxpdENvbmZpZyhjb25maWcpO1xuICAgIHN1cGVyKGh0dHBSZXF1ZXN0LCBjbGllbnRDb25maWcpO1xuICAgIC8qKlxuICAgICAqIFByaXZhdGUgcHJvcGVydGllc1xuICAgICAqL1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfaHR0cFJlcXVlc3QsIHZvaWQgMCk7XG4gICAgX19wcml2YXRlU2V0KHRoaXMsIF9odHRwUmVxdWVzdCwgaHR0cFJlcXVlc3QpO1xuICAgIHRoaXMuc3RlZ2FDb25maWcgPSBpbml0U3RlZ2FDb25maWcoc3RlZ2FDb25maWcsIGRlZmF1bHRTdGVnYUNvbmZpZyk7XG4gIH1cbiAgLyoqXG4gICAqIENsb25lIHRoZSBjbGllbnQgLSByZXR1cm5zIGEgbmV3IGluc3RhbmNlXG4gICAqL1xuICBjbG9uZSgpIHtcbiAgICByZXR1cm4gbmV3IF9PYnNlcnZhYmxlU2FuaXR5U3RlZ2FDbGllbnQoX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdCksIHRoaXMuY29uZmlnKCkpO1xuICB9XG4gIGNvbmZpZyhuZXdDb25maWcpIHtcbiAgICBpZiAobmV3Q29uZmlnID09PSB2b2lkIDApIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN1cGVyLmNvbmZpZygpLFxuICAgICAgICBzdGVnYToge1xuICAgICAgICAgIC4uLnRoaXMuc3RlZ2FDb25maWdcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gICAgY29uc3Qge1xuICAgICAgY2xpZW50Q29uZmlnLFxuICAgICAgc3RlZ2FDb25maWdcbiAgICB9ID0gc3BsaXRDb25maWcobmV3Q29uZmlnKTtcbiAgICBzdXBlci5jb25maWcoY2xpZW50Q29uZmlnKTtcbiAgICB0aGlzLnN0ZWdhQ29uZmlnID0gaW5pdFN0ZWdhQ29uZmlnKHN0ZWdhQ29uZmlnLCB0aGlzLnN0ZWdhQ29uZmlnIHx8IHt9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogQ2xvbmUgdGhlIGNsaWVudCB3aXRoIGEgbmV3IChwYXJ0aWFsKSBjb25maWd1cmF0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gbmV3Q29uZmlnIC0gTmV3IGNsaWVudCBjb25maWd1cmF0aW9uIHByb3BlcnRpZXMsIHNoYWxsb3dseSBtZXJnZWQgd2l0aCBleGlzdGluZyBjb25maWd1cmF0aW9uXG4gICAqL1xuICB3aXRoQ29uZmlnKG5ld0NvbmZpZykge1xuICAgIGNvbnN0IHRoaXNDb25maWcgPSB0aGlzLmNvbmZpZygpO1xuICAgIGNvbnN0IHtcbiAgICAgIHN0ZWdhQ29uZmlnXG4gICAgfSA9IHNwbGl0Q29uZmlnKG5ld0NvbmZpZyB8fCB7fSk7XG4gICAgcmV0dXJuIG5ldyBfT2JzZXJ2YWJsZVNhbml0eVN0ZWdhQ2xpZW50KF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QpLCB7XG4gICAgICAuLi50aGlzQ29uZmlnLFxuICAgICAgLi4ubmV3Q29uZmlnLFxuICAgICAgc3RlZ2E6IHtcbiAgICAgICAgLi4uKHRoaXNDb25maWcuc3RlZ2EgfHwge30pLFxuICAgICAgICAuLi4oc3RlZ2FDb25maWcgfHwge30pXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgZmV0Y2gocXVlcnksIF9wYXJhbXMpIHtcbiAgICBsZXQgX29wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICAgIGNvbnN0IHtcbiAgICAgIHN0ZWdhQ29uZmlnLFxuICAgICAgZmV0Y2hPcHRpb25zOiBvcHRpb25zXG4gICAgfSA9IHNwbGl0U3RlZ2FDb25maWdGcm9tRmV0Y2hPcHRpb25zKF9vcHRpb25zLCB0aGlzLnN0ZWdhQ29uZmlnKTtcbiAgICBjb25zdCBwYXJhbXMgPSBfcGFyYW1zID8gdmVyY2VsU3RlZ2FDbGVhbkFsbChfcGFyYW1zKSA6IF9wYXJhbXM7XG4gICAgaWYgKCFzdGVnYUNvbmZpZy5lbmFibGVkKSB7XG4gICAgICByZXR1cm4gc3VwZXIuZmV0Y2gocXVlcnksIHBhcmFtcywgb3B0aW9ucyk7XG4gICAgfVxuICAgIGNvbnN0IHtcbiAgICAgIGZpbHRlclJlc3BvbnNlOiBvcmlnaW5hbEZpbHRlclJlc3BvbnNlID0gdHJ1ZVxuICAgIH0gPSBvcHRpb25zO1xuICAgIHJldHVybiBzdXBlci5mZXRjaChxdWVyeSwgcGFyYW1zLCBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zLCB7XG4gICAgICBmaWx0ZXJSZXNwb25zZTogZmFsc2UsXG4gICAgICByZXN1bHRTb3VyY2VNYXA6IFwid2l0aEtleUFycmF5U2VsZWN0b3JcIlxuICAgIH0pKS5waXBlKG9wZXJhdG9ycy5tYXAocmVzID0+IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgcmVzdWx0OiBfcmVzdWx0LFxuICAgICAgICByZXN1bHRTb3VyY2VNYXBcbiAgICAgIH0gPSByZXM7XG4gICAgICBjb25zdCByZXN1bHQgPSBzdGVnYUVuY29kZVNvdXJjZU1hcChfcmVzdWx0LCByZXN1bHRTb3VyY2VNYXAsIHN0ZWdhQ29uZmlnKTtcbiAgICAgIHJldHVybiBvcmlnaW5hbEZpbHRlclJlc3BvbnNlID8gcmVzdWx0IDoge1xuICAgICAgICAuLi5yZXMsXG4gICAgICAgIHJlc3VsdFxuICAgICAgfTtcbiAgICB9KSk7XG4gIH1cbn07XG5faHR0cFJlcXVlc3QgPSBuZXcgV2Vha01hcCgpO1xubGV0IE9ic2VydmFibGVTYW5pdHlTdGVnYUNsaWVudCA9IF9PYnNlcnZhYmxlU2FuaXR5U3RlZ2FDbGllbnQ7XG5jb25zdCBfU2FuaXR5U3RlZ2FDbGllbnQgPSBjbGFzcyBfU2FuaXR5U3RlZ2FDbGllbnQgZXh0ZW5kcyBub2RlTWlkZGxld2FyZS5TYW5pdHlDbGllbnQge1xuICBjb25zdHJ1Y3RvcihodHRwUmVxdWVzdCkge1xuICAgIGxldCBjb25maWcgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IG5vZGVNaWRkbGV3YXJlLmRlZmF1bHRDb25maWc7XG4gICAgY29uc3Qge1xuICAgICAgY2xpZW50Q29uZmlnLFxuICAgICAgc3RlZ2FDb25maWdcbiAgICB9ID0gc3BsaXRDb25maWcoY29uZmlnKTtcbiAgICBzdXBlcihodHRwUmVxdWVzdCwgY2xpZW50Q29uZmlnKTtcbiAgICAvKipcbiAgICAgKiBQcml2YXRlIHByb3BlcnRpZXNcbiAgICAgKi9cbiAgICBfX3ByaXZhdGVBZGQodGhpcywgX2h0dHBSZXF1ZXN0Miwgdm9pZCAwKTtcbiAgICBfX3ByaXZhdGVTZXQodGhpcywgX2h0dHBSZXF1ZXN0MiwgaHR0cFJlcXVlc3QpO1xuICAgIHRoaXMuc3RlZ2FDb25maWcgPSBpbml0U3RlZ2FDb25maWcoc3RlZ2FDb25maWcsIGRlZmF1bHRTdGVnYUNvbmZpZyk7XG4gICAgdGhpcy5vYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGVTYW5pdHlTdGVnYUNsaWVudChodHRwUmVxdWVzdCwgY29uZmlnKTtcbiAgfVxuICAvKipcbiAgICogQ2xvbmUgdGhlIGNsaWVudCAtIHJldHVybnMgYSBuZXcgaW5zdGFuY2VcbiAgICovXG4gIGNsb25lKCkge1xuICAgIHJldHVybiBuZXcgX1Nhbml0eVN0ZWdhQ2xpZW50KF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QyKSwgdGhpcy5jb25maWcoKSk7XG4gIH1cbiAgY29uZmlnKG5ld0NvbmZpZykge1xuICAgIGlmIChuZXdDb25maWcgPT09IHZvaWQgMCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3VwZXIuY29uZmlnKCksXG4gICAgICAgIHN0ZWdhOiB7XG4gICAgICAgICAgLi4udGhpcy5zdGVnYUNvbmZpZ1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgICBjb25zdCB7XG4gICAgICBjbGllbnRDb25maWcsXG4gICAgICBzdGVnYUNvbmZpZ1xuICAgIH0gPSBzcGxpdENvbmZpZyhuZXdDb25maWcpO1xuICAgIHN1cGVyLmNvbmZpZyhjbGllbnRDb25maWcpO1xuICAgIHRoaXMuc3RlZ2FDb25maWcgPSBpbml0U3RlZ2FDb25maWcoc3RlZ2FDb25maWcsIHtcbiAgICAgIC4uLih0aGlzLnN0ZWdhQ29uZmlnIHx8IHt9KVxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBDbG9uZSB0aGUgY2xpZW50IHdpdGggYSBuZXcgKHBhcnRpYWwpIGNvbmZpZ3VyYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSBuZXdDb25maWcgLSBOZXcgY2xpZW50IGNvbmZpZ3VyYXRpb24gcHJvcGVydGllcywgc2hhbGxvd2x5IG1lcmdlZCB3aXRoIGV4aXN0aW5nIGNvbmZpZ3VyYXRpb25cbiAgICovXG4gIHdpdGhDb25maWcobmV3Q29uZmlnKSB7XG4gICAgY29uc3QgdGhpc0NvbmZpZyA9IHRoaXMuY29uZmlnKCk7XG4gICAgY29uc3Qge1xuICAgICAgc3RlZ2FDb25maWdcbiAgICB9ID0gc3BsaXRDb25maWcobmV3Q29uZmlnIHx8IHt9KTtcbiAgICByZXR1cm4gbmV3IF9TYW5pdHlTdGVnYUNsaWVudChfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0MiksIHtcbiAgICAgIC4uLnRoaXNDb25maWcsXG4gICAgICAuLi5uZXdDb25maWcsXG4gICAgICBzdGVnYToge1xuICAgICAgICAuLi4odGhpc0NvbmZpZy5zdGVnYSB8fCB7fSksXG4gICAgICAgIC4uLihzdGVnYUNvbmZpZyB8fCB7fSlcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBmZXRjaChxdWVyeSwgX3BhcmFtcykge1xuICAgIGxldCBfb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gICAgY29uc3Qge1xuICAgICAgc3RlZ2FDb25maWcsXG4gICAgICBmZXRjaE9wdGlvbnM6IG9wdGlvbnNcbiAgICB9ID0gc3BsaXRTdGVnYUNvbmZpZ0Zyb21GZXRjaE9wdGlvbnMoX29wdGlvbnMsIHRoaXMuc3RlZ2FDb25maWcpO1xuICAgIGNvbnN0IHBhcmFtcyA9IF9wYXJhbXMgPyB2ZXJjZWxTdGVnYUNsZWFuQWxsKF9wYXJhbXMpIDogX3BhcmFtcztcbiAgICBpZiAoIXN0ZWdhQ29uZmlnLmVuYWJsZWQpIHtcbiAgICAgIHJldHVybiBzdXBlci5mZXRjaChxdWVyeSwgcGFyYW1zLCBvcHRpb25zKTtcbiAgICB9XG4gICAgY29uc3Qge1xuICAgICAgZmlsdGVyUmVzcG9uc2U6IG9yaWdpbmFsRmlsdGVyUmVzcG9uc2UgPSB0cnVlXG4gICAgfSA9IG9wdGlvbnM7XG4gICAgcmV0dXJuIHN1cGVyLmZldGNoKHF1ZXJ5LCBwYXJhbXMsIE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMsIHtcbiAgICAgIGZpbHRlclJlc3BvbnNlOiBmYWxzZSxcbiAgICAgIHJlc3VsdFNvdXJjZU1hcDogXCJ3aXRoS2V5QXJyYXlTZWxlY3RvclwiXG4gICAgfSkpLnRoZW4ocmVzID0+IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgcmVzdWx0OiBfcmVzdWx0LFxuICAgICAgICByZXN1bHRTb3VyY2VNYXBcbiAgICAgIH0gPSByZXM7XG4gICAgICBjb25zdCByZXN1bHQgPSBzdGVnYUVuY29kZVNvdXJjZU1hcChfcmVzdWx0LCByZXN1bHRTb3VyY2VNYXAsIHN0ZWdhQ29uZmlnKTtcbiAgICAgIHJldHVybiBvcmlnaW5hbEZpbHRlclJlc3BvbnNlID8gcmVzdWx0IDoge1xuICAgICAgICAuLi5yZXMsXG4gICAgICAgIHJlc3VsdFxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxufTtcbl9odHRwUmVxdWVzdDIgPSBuZXcgV2Vha01hcCgpO1xubGV0IFNhbml0eVN0ZWdhQ2xpZW50ID0gX1Nhbml0eVN0ZWdhQ2xpZW50O1xuY29uc3QgZXhwID0gbm9kZU1pZGRsZXdhcmUuZGVmaW5lQ3JlYXRlQ2xpZW50RXhwb3J0cyhub2RlTWlkZGxld2FyZS5taWRkbGV3YXJlLCBTYW5pdHlTdGVnYUNsaWVudCk7XG5jb25zdCByZXF1ZXN0ZXIgPSBleHAucmVxdWVzdGVyO1xuY29uc3QgY3JlYXRlQ2xpZW50ID0gZXhwLmNyZWF0ZUNsaWVudDtcbmV4cG9ydHMuQmFzZVBhdGNoID0gbm9kZU1pZGRsZXdhcmUuQmFzZVBhdGNoO1xuZXhwb3J0cy5CYXNlVHJhbnNhY3Rpb24gPSBub2RlTWlkZGxld2FyZS5CYXNlVHJhbnNhY3Rpb247XG5leHBvcnRzLkNsaWVudEVycm9yID0gbm9kZU1pZGRsZXdhcmUuQ2xpZW50RXJyb3I7XG5leHBvcnRzLk9ic2VydmFibGVQYXRjaCA9IG5vZGVNaWRkbGV3YXJlLk9ic2VydmFibGVQYXRjaDtcbmV4cG9ydHMuT2JzZXJ2YWJsZVNhbml0eUNsaWVudCA9IG5vZGVNaWRkbGV3YXJlLk9ic2VydmFibGVTYW5pdHlDbGllbnQ7XG5leHBvcnRzLk9ic2VydmFibGVUcmFuc2FjdGlvbiA9IG5vZGVNaWRkbGV3YXJlLk9ic2VydmFibGVUcmFuc2FjdGlvbjtcbmV4cG9ydHMuUGF0Y2ggPSBub2RlTWlkZGxld2FyZS5QYXRjaDtcbmV4cG9ydHMuU2FuaXR5Q2xpZW50ID0gbm9kZU1pZGRsZXdhcmUuU2FuaXR5Q2xpZW50O1xuZXhwb3J0cy5TZXJ2ZXJFcnJvciA9IG5vZGVNaWRkbGV3YXJlLlNlcnZlckVycm9yO1xuZXhwb3J0cy5UcmFuc2FjdGlvbiA9IG5vZGVNaWRkbGV3YXJlLlRyYW5zYWN0aW9uO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICd1bnN0YWJsZV9fYWRhcHRlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGdldEl0LmFkYXB0ZXI7XG4gIH1cbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICd1bnN0YWJsZV9fZW52aXJvbm1lbnQnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBnZXRJdC5lbnZpcm9ubWVudDtcbiAgfVxufSk7XG5leHBvcnRzLk9ic2VydmFibGVTYW5pdHlTdGVnYUNsaWVudCA9IE9ic2VydmFibGVTYW5pdHlTdGVnYUNsaWVudDtcbmV4cG9ydHMuU2FuaXR5U3RlZ2FDbGllbnQgPSBTYW5pdHlTdGVnYUNsaWVudDtcbmV4cG9ydHMuY3JlYXRlQ2xpZW50ID0gY3JlYXRlQ2xpZW50O1xuZXhwb3J0cy5lbmNvZGVJbnRvUmVzdWx0ID0gZW5jb2RlSW50b1Jlc3VsdDtcbmV4cG9ydHMucmVxdWVzdGVyID0gcmVxdWVzdGVyO1xuZXhwb3J0cy5zdGVnYUVuY29kZVNvdXJjZU1hcCA9IHN0ZWdhRW5jb2RlU291cmNlTWFwO1xuZXhwb3J0cy52ZXJjZWxTdGVnYUNsZWFuQWxsID0gdmVyY2VsU3RlZ2FDbGVhbkFsbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0ZWdhLmNqcy5tYXBcbiJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsIm5vZGVNaWRkbGV3YXJlIiwicmVxdWlyZSIsIm9wZXJhdG9ycyIsInN0ZWdhIiwicmVzb2x2ZUVkaXRJbmZvIiwiZ2V0SXQiLCJkZWZhdWx0U3RlZ2FDb25maWciLCJlbmFibGVkIiwiZmlsdGVyIiwicHJvcHMiLCJmaWx0ZXJEZWZhdWx0Iiwic3BsaXRDb25maWciLCJjb25maWciLCJjbGllbnRDb25maWciLCJzdGVnYUNvbmZpZyIsImluaXRTdGVnYUNvbmZpZyIsInByZXZDb25maWciLCJzcGVjaWZpZWRDb25maWciLCJhc3NpZ24iLCJuZXdDb25maWciLCJFcnJvciIsImNvbmNhdCIsInN0dWRpb1VybCIsInNwbGl0U3RlZ2FDb25maWdGcm9tRmV0Y2hPcHRpb25zIiwib3B0aW9ucyIsImluaXRpYWxpemVkU3RlZ2FDb25maWciLCJmZXRjaE9wdGlvbnMiLCJlbmNvZGVJbnRvUmVzdWx0IiwicmVzdWx0IiwiY3NtIiwiZW5jb2RlciIsIndhbGtNYXAiLCJwYXRoIiwicmVzb2x2ZU1hcHBpbmdSZXN1bHQiLCJyZXNvbHZlTWFwcGluZyIsIm1hcHBpbmciLCJtYXRjaGVkUGF0aCIsInR5cGUiLCJzb3VyY2UiLCJzb3VyY2VEb2N1bWVudCIsImRvY3VtZW50cyIsImRvY3VtZW50Iiwic291cmNlUGF0aCIsInBhdGhzIiwibWF0Y2hQYXRoU2VnbWVudHMiLCJwYXJzZUpzb25QYXRoIiwic291cmNlUGF0aFNlZ21lbnRzIiwiZnVsbFNvdXJjZVNlZ21lbnRzIiwic2xpY2UiLCJsZW5ndGgiLCJyZXN1bHRQYXRoIiwiX3JlZiIsImlzVmFsaWREYXRlIiwiaXNWYWxpZFVSTCIsImVuZFBhdGgiLCJhdCIsInN0YXJ0c1dpdGgiLCJzb21lIiwiZGVueWxpc3QiLCJoYXMiLCJTZXQiLCJkYXRlU3RyaW5nIiwiTnVtYmVyIiwiaXNOYU4iLCJCb29sZWFuIiwiRGF0ZSIsInBhcnNlIiwidXJsIiwiVVJMIiwiVFJVTkNBVEVfTEVOR1RIIiwic3RlZ2FFbmNvZGVTb3VyY2VNYXAiLCJyZXN1bHRTb3VyY2VNYXAiLCJfYSIsIl9iIiwiX2MiLCJfZCIsIl9lIiwiX2YiLCJfZyIsIl9oIiwiX2kiLCJsb2dnZXIiLCJtc2ciLCJlcnJvciIsImNhbGwiLCJUeXBlRXJyb3IiLCJyZXBvcnQiLCJlbmNvZGVkIiwic2tpcHBlZCIsInJlc3VsdFdpdGhTdGVnYSIsIl9yZWYyIiwicHVzaCIsInByZXR0eVBhdGhGb3JMb2dnaW5nIiwiYmFzZVVybCIsIndvcmtzcGFjZSIsInRvb2wiLCJyZXNvbHZlU3R1ZGlvQmFzZVJvdXRlIiwiX2lkIiwiaWQiLCJfdHlwZSIsInZlcmNlbFN0ZWdhQ29tYmluZSIsIm9yaWdpbiIsImhyZWYiLCJjcmVhdGVFZGl0VXJsIiwiaXNTa2lwcGluZyIsImlzRW5jb2RpbmciLCJncm91cENvbGxhcHNlZCIsImxvZyIsInRhYmxlIiwiYWRkIiwicmVwbGFjZSIsInJlS2V5U2VnbWVudCIsInZhbHVlcyIsImdyb3VwRW5kIiwidG9TdHJpbmciLCJqc29uUGF0aFRvU3R1ZGlvUGF0aCIsInZlcmNlbFN0ZWdhQ2xlYW5BbGwiLCJKU09OIiwic3RyaW5naWZ5Iiwia2V5IiwidmVyY2VsU3RlZ2FTcGxpdCIsImNsZWFuZWQiLCJfX2FjY2Vzc0NoZWNrIiwib2JqIiwibWVtYmVyIiwiX19wcml2YXRlR2V0IiwiZ2V0dGVyIiwiZ2V0IiwiX19wcml2YXRlQWRkIiwiV2Vha1NldCIsInNldCIsIl9fcHJpdmF0ZVNldCIsInNldHRlciIsIl9odHRwUmVxdWVzdCIsIl9odHRwUmVxdWVzdDIiLCJfT2JzZXJ2YWJsZVNhbml0eVN0ZWdhQ2xpZW50IiwiT2JzZXJ2YWJsZVNhbml0eUNsaWVudCIsImNvbnN0cnVjdG9yIiwiaHR0cFJlcXVlc3QiLCJhcmd1bWVudHMiLCJ1bmRlZmluZWQiLCJkZWZhdWx0Q29uZmlnIiwiY2xvbmUiLCJ3aXRoQ29uZmlnIiwidGhpc0NvbmZpZyIsImZldGNoIiwicXVlcnkiLCJfcGFyYW1zIiwiX29wdGlvbnMiLCJwYXJhbXMiLCJmaWx0ZXJSZXNwb25zZSIsIm9yaWdpbmFsRmlsdGVyUmVzcG9uc2UiLCJwaXBlIiwibWFwIiwicmVzIiwiX3Jlc3VsdCIsIldlYWtNYXAiLCJPYnNlcnZhYmxlU2FuaXR5U3RlZ2FDbGllbnQiLCJfU2FuaXR5U3RlZ2FDbGllbnQiLCJTYW5pdHlDbGllbnQiLCJvYnNlcnZhYmxlIiwidGhlbiIsIlNhbml0eVN0ZWdhQ2xpZW50IiwiZXhwIiwiZGVmaW5lQ3JlYXRlQ2xpZW50RXhwb3J0cyIsIm1pZGRsZXdhcmUiLCJyZXF1ZXN0ZXIiLCJjcmVhdGVDbGllbnQiLCJCYXNlUGF0Y2giLCJCYXNlVHJhbnNhY3Rpb24iLCJDbGllbnRFcnJvciIsIk9ic2VydmFibGVQYXRjaCIsIk9ic2VydmFibGVUcmFuc2FjdGlvbiIsIlBhdGNoIiwiU2VydmVyRXJyb3IiLCJUcmFuc2FjdGlvbiIsImVudW1lcmFibGUiLCJhZGFwdGVyIiwiZW52aXJvbm1lbnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/client/dist/stega.cjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/eventsource/node.js":
/*!**************************************************!*\
  !*** ./node_modules/@sanity/eventsource/node.js ***!
  \**************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("module.exports = __webpack_require__(/*! eventsource */ \"(ssr)/./node_modules/eventsource/lib/eventsource.js\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9ldmVudHNvdXJjZS9ub2RlLmpzIiwibWFwcGluZ3MiOiJBQUFBQSw4R0FBeUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uaWtlLy4vbm9kZV9tb2R1bGVzL0BzYW5pdHkvZXZlbnRzb3VyY2Uvbm9kZS5qcz9kODg5Il0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnZXZlbnRzb3VyY2UnKVxuIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJyZXF1aXJlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/eventsource/node.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/client/dist/index.cjs.js":
/*!*******************************************************!*\
  !*** ./node_modules/@sanity/client/dist/index.cjs.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BasePatch: () => (/* binding */ BasePatch),\n/* harmony export */   BaseTransaction: () => (/* binding */ BaseTransaction),\n/* harmony export */   ClientError: () => (/* binding */ ClientError),\n/* harmony export */   ObservablePatch: () => (/* binding */ ObservablePatch),\n/* harmony export */   ObservableSanityClient: () => (/* binding */ ObservableSanityClient),\n/* harmony export */   ObservableTransaction: () => (/* binding */ ObservableTransaction),\n/* harmony export */   Patch: () => (/* binding */ Patch),\n/* harmony export */   SanityClient: () => (/* binding */ SanityClient),\n/* harmony export */   ServerError: () => (/* binding */ ServerError),\n/* harmony export */   Transaction: () => (/* binding */ Transaction),\n/* harmony export */   createClient: () => (/* binding */ createClient),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   requester: () => (/* binding */ requester),\n/* harmony export */   unstable__adapter: () => (/* binding */ unstable__adapter),\n/* harmony export */   unstable__environment: () => (/* binding */ unstable__environment)\n/* harmony export */ });\n/* harmony import */ var _index_cjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.cjs */ \"(ssr)/./node_modules/@sanity/client/dist/index.cjs\");\n\nconst BasePatch = _index_cjs__WEBPACK_IMPORTED_MODULE_0__.BasePatch;\nconst BaseTransaction = _index_cjs__WEBPACK_IMPORTED_MODULE_0__.BaseTransaction;\nconst ClientError = _index_cjs__WEBPACK_IMPORTED_MODULE_0__.ClientError;\nconst ObservablePatch = _index_cjs__WEBPACK_IMPORTED_MODULE_0__.ObservablePatch;\nconst ObservableSanityClient = _index_cjs__WEBPACK_IMPORTED_MODULE_0__.ObservableSanityClient;\nconst ObservableTransaction = _index_cjs__WEBPACK_IMPORTED_MODULE_0__.ObservableTransaction;\nconst Patch = _index_cjs__WEBPACK_IMPORTED_MODULE_0__.Patch;\nconst SanityClient = _index_cjs__WEBPACK_IMPORTED_MODULE_0__.SanityClient;\nconst ServerError = _index_cjs__WEBPACK_IMPORTED_MODULE_0__.ServerError;\nconst Transaction = _index_cjs__WEBPACK_IMPORTED_MODULE_0__.Transaction;\nconst unstable__adapter = _index_cjs__WEBPACK_IMPORTED_MODULE_0__.unstable__adapter;\nconst unstable__environment = _index_cjs__WEBPACK_IMPORTED_MODULE_0__.unstable__environment;\nconst createClient = _index_cjs__WEBPACK_IMPORTED_MODULE_0__.createClient;\nconst requester = _index_cjs__WEBPACK_IMPORTED_MODULE_0__.requester;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_index_cjs__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9jbGllbnQvZGlzdC9pbmRleC5janMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUE4QjtBQUV2QixNQUFNQyxZQUFZRCxpREFBYSxDQUFDO0FBQ2hDLE1BQU1FLGtCQUFrQkYsdURBQW1CLENBQUM7QUFDNUMsTUFBTUcsY0FBY0gsbURBQWUsQ0FBQztBQUNwQyxNQUFNSSxrQkFBa0JKLHVEQUFtQixDQUFDO0FBQzVDLE1BQU1LLHlCQUF5QkwsOERBQTBCLENBQUM7QUFDMUQsTUFBTU0sd0JBQXdCTiw2REFBeUIsQ0FBQztBQUN4RCxNQUFNTyxRQUFRUCw2Q0FBUyxDQUFDO0FBQ3hCLE1BQU1RLGVBQWVSLG9EQUFnQixDQUFDO0FBQ3RDLE1BQU1TLGNBQWNULG1EQUFlLENBQUM7QUFDcEMsTUFBTVUsY0FBY1YsbURBQWUsQ0FBQztBQUNwQyxNQUFNVyxvQkFBb0JYLHlEQUFxQixDQUFDO0FBQ2hELE1BQU1ZLHdCQUF3QlosNkRBQXlCLENBQUM7QUFDeEQsTUFBTWEsZUFBZWIsb0RBQWdCLENBQUM7QUFDdEMsTUFBTWMsWUFBWWQsaURBQWEsQ0FBQztBQUV2QyxpRUFBZUEsa0RBQVcsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL25pa2UvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9jbGllbnQvZGlzdC9pbmRleC5janMuanM/ODAxOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY2pzIGZyb20gJy4vaW5kZXguY2pzJztcblxuZXhwb3J0IGNvbnN0IEJhc2VQYXRjaCA9IGNqcy5CYXNlUGF0Y2g7XG5leHBvcnQgY29uc3QgQmFzZVRyYW5zYWN0aW9uID0gY2pzLkJhc2VUcmFuc2FjdGlvbjtcbmV4cG9ydCBjb25zdCBDbGllbnRFcnJvciA9IGNqcy5DbGllbnRFcnJvcjtcbmV4cG9ydCBjb25zdCBPYnNlcnZhYmxlUGF0Y2ggPSBjanMuT2JzZXJ2YWJsZVBhdGNoO1xuZXhwb3J0IGNvbnN0IE9ic2VydmFibGVTYW5pdHlDbGllbnQgPSBjanMuT2JzZXJ2YWJsZVNhbml0eUNsaWVudDtcbmV4cG9ydCBjb25zdCBPYnNlcnZhYmxlVHJhbnNhY3Rpb24gPSBjanMuT2JzZXJ2YWJsZVRyYW5zYWN0aW9uO1xuZXhwb3J0IGNvbnN0IFBhdGNoID0gY2pzLlBhdGNoO1xuZXhwb3J0IGNvbnN0IFNhbml0eUNsaWVudCA9IGNqcy5TYW5pdHlDbGllbnQ7XG5leHBvcnQgY29uc3QgU2VydmVyRXJyb3IgPSBjanMuU2VydmVyRXJyb3I7XG5leHBvcnQgY29uc3QgVHJhbnNhY3Rpb24gPSBjanMuVHJhbnNhY3Rpb247XG5leHBvcnQgY29uc3QgdW5zdGFibGVfX2FkYXB0ZXIgPSBjanMudW5zdGFibGVfX2FkYXB0ZXI7XG5leHBvcnQgY29uc3QgdW5zdGFibGVfX2Vudmlyb25tZW50ID0gY2pzLnVuc3RhYmxlX19lbnZpcm9ubWVudDtcbmV4cG9ydCBjb25zdCBjcmVhdGVDbGllbnQgPSBjanMuY3JlYXRlQ2xpZW50O1xuZXhwb3J0IGNvbnN0IHJlcXVlc3RlciA9IGNqcy5yZXF1ZXN0ZXI7XG5cbmV4cG9ydCBkZWZhdWx0IGNqcy5kZWZhdWx0O1xuIl0sIm5hbWVzIjpbImNqcyIsIkJhc2VQYXRjaCIsIkJhc2VUcmFuc2FjdGlvbiIsIkNsaWVudEVycm9yIiwiT2JzZXJ2YWJsZVBhdGNoIiwiT2JzZXJ2YWJsZVNhbml0eUNsaWVudCIsIk9ic2VydmFibGVUcmFuc2FjdGlvbiIsIlBhdGNoIiwiU2FuaXR5Q2xpZW50IiwiU2VydmVyRXJyb3IiLCJUcmFuc2FjdGlvbiIsInVuc3RhYmxlX19hZGFwdGVyIiwidW5zdGFibGVfX2Vudmlyb25tZW50IiwiY3JlYXRlQ2xpZW50IiwicmVxdWVzdGVyIiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/client/dist/index.cjs.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/client/dist/stega.cjs.js":
/*!*******************************************************!*\
  !*** ./node_modules/@sanity/client/dist/stega.cjs.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BasePatch: () => (/* binding */ BasePatch),\n/* harmony export */   BaseTransaction: () => (/* binding */ BaseTransaction),\n/* harmony export */   ClientError: () => (/* binding */ ClientError),\n/* harmony export */   ObservablePatch: () => (/* binding */ ObservablePatch),\n/* harmony export */   ObservableSanityClient: () => (/* binding */ ObservableSanityClient),\n/* harmony export */   ObservableSanityStegaClient: () => (/* binding */ ObservableSanityStegaClient),\n/* harmony export */   ObservableTransaction: () => (/* binding */ ObservableTransaction),\n/* harmony export */   Patch: () => (/* binding */ Patch),\n/* harmony export */   SanityClient: () => (/* binding */ SanityClient),\n/* harmony export */   SanityStegaClient: () => (/* binding */ SanityStegaClient),\n/* harmony export */   ServerError: () => (/* binding */ ServerError),\n/* harmony export */   Transaction: () => (/* binding */ Transaction),\n/* harmony export */   createClient: () => (/* binding */ createClient),\n/* harmony export */   encodeIntoResult: () => (/* binding */ encodeIntoResult),\n/* harmony export */   requester: () => (/* binding */ requester),\n/* harmony export */   stegaEncodeSourceMap: () => (/* binding */ stegaEncodeSourceMap),\n/* harmony export */   unstable__adapter: () => (/* binding */ unstable__adapter),\n/* harmony export */   unstable__environment: () => (/* binding */ unstable__environment),\n/* harmony export */   vercelStegaCleanAll: () => (/* binding */ vercelStegaCleanAll)\n/* harmony export */ });\n/* harmony import */ var _stega_cjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./stega.cjs */ \"(ssr)/./node_modules/@sanity/client/dist/stega.cjs\");\n\nconst BasePatch = _stega_cjs__WEBPACK_IMPORTED_MODULE_0__.BasePatch;\nconst BaseTransaction = _stega_cjs__WEBPACK_IMPORTED_MODULE_0__.BaseTransaction;\nconst ClientError = _stega_cjs__WEBPACK_IMPORTED_MODULE_0__.ClientError;\nconst ObservablePatch = _stega_cjs__WEBPACK_IMPORTED_MODULE_0__.ObservablePatch;\nconst ObservableSanityClient = _stega_cjs__WEBPACK_IMPORTED_MODULE_0__.ObservableSanityClient;\nconst ObservableTransaction = _stega_cjs__WEBPACK_IMPORTED_MODULE_0__.ObservableTransaction;\nconst Patch = _stega_cjs__WEBPACK_IMPORTED_MODULE_0__.Patch;\nconst SanityClient = _stega_cjs__WEBPACK_IMPORTED_MODULE_0__.SanityClient;\nconst ServerError = _stega_cjs__WEBPACK_IMPORTED_MODULE_0__.ServerError;\nconst Transaction = _stega_cjs__WEBPACK_IMPORTED_MODULE_0__.Transaction;\nconst unstable__adapter = _stega_cjs__WEBPACK_IMPORTED_MODULE_0__.unstable__adapter;\nconst unstable__environment = _stega_cjs__WEBPACK_IMPORTED_MODULE_0__.unstable__environment;\nconst ObservableSanityStegaClient = _stega_cjs__WEBPACK_IMPORTED_MODULE_0__.ObservableSanityStegaClient;\nconst SanityStegaClient = _stega_cjs__WEBPACK_IMPORTED_MODULE_0__.SanityStegaClient;\nconst createClient = _stega_cjs__WEBPACK_IMPORTED_MODULE_0__.createClient;\nconst encodeIntoResult = _stega_cjs__WEBPACK_IMPORTED_MODULE_0__.encodeIntoResult;\nconst requester = _stega_cjs__WEBPACK_IMPORTED_MODULE_0__.requester;\nconst stegaEncodeSourceMap = _stega_cjs__WEBPACK_IMPORTED_MODULE_0__.stegaEncodeSourceMap;\nconst vercelStegaCleanAll = _stega_cjs__WEBPACK_IMPORTED_MODULE_0__.vercelStegaCleanAll;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9jbGllbnQvZGlzdC9zdGVnYS5janMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBOEI7QUFFdkIsTUFBTUMsWUFBWUQsaURBQWEsQ0FBQztBQUNoQyxNQUFNRSxrQkFBa0JGLHVEQUFtQixDQUFDO0FBQzVDLE1BQU1HLGNBQWNILG1EQUFlLENBQUM7QUFDcEMsTUFBTUksa0JBQWtCSix1REFBbUIsQ0FBQztBQUM1QyxNQUFNSyx5QkFBeUJMLDhEQUEwQixDQUFDO0FBQzFELE1BQU1NLHdCQUF3Qk4sNkRBQXlCLENBQUM7QUFDeEQsTUFBTU8sUUFBUVAsNkNBQVMsQ0FBQztBQUN4QixNQUFNUSxlQUFlUixvREFBZ0IsQ0FBQztBQUN0QyxNQUFNUyxjQUFjVCxtREFBZSxDQUFDO0FBQ3BDLE1BQU1VLGNBQWNWLG1EQUFlLENBQUM7QUFDcEMsTUFBTVcsb0JBQW9CWCx5REFBcUIsQ0FBQztBQUNoRCxNQUFNWSx3QkFBd0JaLDZEQUF5QixDQUFDO0FBQ3hELE1BQU1hLDhCQUE4QmIsbUVBQStCLENBQUM7QUFDcEUsTUFBTWMsb0JBQW9CZCx5REFBcUIsQ0FBQztBQUNoRCxNQUFNZSxlQUFlZixvREFBZ0IsQ0FBQztBQUN0QyxNQUFNZ0IsbUJBQW1CaEIsd0RBQW9CLENBQUM7QUFDOUMsTUFBTWlCLFlBQVlqQixpREFBYSxDQUFDO0FBQ2hDLE1BQU1rQix1QkFBdUJsQiw0REFBd0IsQ0FBQztBQUN0RCxNQUFNbUIsc0JBQXNCbkIsMkRBQXVCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uaWtlLy4vbm9kZV9tb2R1bGVzL0BzYW5pdHkvY2xpZW50L2Rpc3Qvc3RlZ2EuY2pzLmpzPzIwMTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNqcyBmcm9tICcuL3N0ZWdhLmNqcyc7XG5cbmV4cG9ydCBjb25zdCBCYXNlUGF0Y2ggPSBjanMuQmFzZVBhdGNoO1xuZXhwb3J0IGNvbnN0IEJhc2VUcmFuc2FjdGlvbiA9IGNqcy5CYXNlVHJhbnNhY3Rpb247XG5leHBvcnQgY29uc3QgQ2xpZW50RXJyb3IgPSBjanMuQ2xpZW50RXJyb3I7XG5leHBvcnQgY29uc3QgT2JzZXJ2YWJsZVBhdGNoID0gY2pzLk9ic2VydmFibGVQYXRjaDtcbmV4cG9ydCBjb25zdCBPYnNlcnZhYmxlU2FuaXR5Q2xpZW50ID0gY2pzLk9ic2VydmFibGVTYW5pdHlDbGllbnQ7XG5leHBvcnQgY29uc3QgT2JzZXJ2YWJsZVRyYW5zYWN0aW9uID0gY2pzLk9ic2VydmFibGVUcmFuc2FjdGlvbjtcbmV4cG9ydCBjb25zdCBQYXRjaCA9IGNqcy5QYXRjaDtcbmV4cG9ydCBjb25zdCBTYW5pdHlDbGllbnQgPSBjanMuU2FuaXR5Q2xpZW50O1xuZXhwb3J0IGNvbnN0IFNlcnZlckVycm9yID0gY2pzLlNlcnZlckVycm9yO1xuZXhwb3J0IGNvbnN0IFRyYW5zYWN0aW9uID0gY2pzLlRyYW5zYWN0aW9uO1xuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX19hZGFwdGVyID0gY2pzLnVuc3RhYmxlX19hZGFwdGVyO1xuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX19lbnZpcm9ubWVudCA9IGNqcy51bnN0YWJsZV9fZW52aXJvbm1lbnQ7XG5leHBvcnQgY29uc3QgT2JzZXJ2YWJsZVNhbml0eVN0ZWdhQ2xpZW50ID0gY2pzLk9ic2VydmFibGVTYW5pdHlTdGVnYUNsaWVudDtcbmV4cG9ydCBjb25zdCBTYW5pdHlTdGVnYUNsaWVudCA9IGNqcy5TYW5pdHlTdGVnYUNsaWVudDtcbmV4cG9ydCBjb25zdCBjcmVhdGVDbGllbnQgPSBjanMuY3JlYXRlQ2xpZW50O1xuZXhwb3J0IGNvbnN0IGVuY29kZUludG9SZXN1bHQgPSBjanMuZW5jb2RlSW50b1Jlc3VsdDtcbmV4cG9ydCBjb25zdCByZXF1ZXN0ZXIgPSBjanMucmVxdWVzdGVyO1xuZXhwb3J0IGNvbnN0IHN0ZWdhRW5jb2RlU291cmNlTWFwID0gY2pzLnN0ZWdhRW5jb2RlU291cmNlTWFwO1xuZXhwb3J0IGNvbnN0IHZlcmNlbFN0ZWdhQ2xlYW5BbGwgPSBjanMudmVyY2VsU3RlZ2FDbGVhbkFsbDtcblxuIl0sIm5hbWVzIjpbImNqcyIsIkJhc2VQYXRjaCIsIkJhc2VUcmFuc2FjdGlvbiIsIkNsaWVudEVycm9yIiwiT2JzZXJ2YWJsZVBhdGNoIiwiT2JzZXJ2YWJsZVNhbml0eUNsaWVudCIsIk9ic2VydmFibGVUcmFuc2FjdGlvbiIsIlBhdGNoIiwiU2FuaXR5Q2xpZW50IiwiU2VydmVyRXJyb3IiLCJUcmFuc2FjdGlvbiIsInVuc3RhYmxlX19hZGFwdGVyIiwidW5zdGFibGVfX2Vudmlyb25tZW50IiwiT2JzZXJ2YWJsZVNhbml0eVN0ZWdhQ2xpZW50IiwiU2FuaXR5U3RlZ2FDbGllbnQiLCJjcmVhdGVDbGllbnQiLCJlbmNvZGVJbnRvUmVzdWx0IiwicmVxdWVzdGVyIiwic3RlZ2FFbmNvZGVTb3VyY2VNYXAiLCJ2ZXJjZWxTdGVnYUNsZWFuQWxsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/client/dist/stega.cjs.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/preview-kit/dist/client/createClient.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@sanity/preview-kit/dist/client/createClient.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createClient: () => (/* binding */ r)\n/* harmony export */ });\n/* harmony import */ var _sanity_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sanity/client */ \"(ssr)/./node_modules/@sanity/client/dist/index.cjs.js\");\n/* harmony import */ var _sanity_client_stega__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sanity/client/stega */ \"(ssr)/./node_modules/@sanity/client/dist/stega.cjs.js\");\n\n\nconst r = (r)=>{\n    var a, c;\n    const { encodeSourceMap: i = n(), encodeSourceMapAtPath: l, studioUrl: u = o(), logger: s, ...p } = r;\n    let d = !0 === i;\n    if (\"auto\" === i && (d = function() {\n        try {\n            return \"preview\" === /* unsupported import.meta.env.VERCEL_ENV */ undefined.VERCEL_ENV;\n        } catch  {}\n        try {\n            return \"preview\" === process.env.VERCEL_ENV;\n        } catch  {}\n        return !1;\n    }()), \"string\" == typeof i && \"auto\" !== i) throw new Error(\"Invalid value for encodeSourceMap: \".concat(i, \". Did you mean 'auto'?\"));\n    try {\n        if (d && !1 !== r.resultSourceMap) return u ? (null == (c = null == s ? void 0 : s.debug) || c.call(s, \"[@sanity/preview-kit]: Creating source map enabled client\"), (0,_sanity_client_stega__WEBPACK_IMPORTED_MODULE_0__.createClient)({\n            ...p,\n            resultSourceMap: r.resultSourceMap ? r.resultSourceMap : \"withKeyArraySelector\",\n            stega: {\n                enabled: !0,\n                studioUrl: u,\n                logger: s,\n                filter: l ? (e)=>l({\n                        path: e.sourcePath,\n                        filterDefault: ()=>e.filterDefault(e)\n                    }) : void 0\n            }\n        })) : (null == (a = null == s ? void 0 : s.error) || a.call(s, \"[@sanity/preview-kit]: Content source map enabled client is enabled, but no studioUrl is provided. Falling back to @sanity/client\"), (0,_sanity_client__WEBPACK_IMPORTED_MODULE_1__.createClient)(p));\n    } catch (e) {\n        console.error(\"[@sanity/preview-kit]: Error creating client\", e, \"falling back to non-embedded sourcemap mode\");\n    }\n    return (0,_sanity_client__WEBPACK_IMPORTED_MODULE_1__.createClient)(p);\n};\nfunction n() {\n    try {\n        return \"true\" === /* unsupported import.meta.env.SANITY_SOURCE_MAP */ undefined.SANITY_SOURCE_MAP;\n    } catch  {}\n    try {\n        return \"true\" === process.env.SANITY_SOURCE_MAP;\n    } catch  {}\n    return !1;\n}\nfunction o() {\n    try {\n        return /* unsupported import.meta.env.SANITY_STUDIO_URL */ undefined.SANITY_STUDIO_URL;\n    } catch  {}\n    try {\n        return process.env.SANITY_STUDIO_URL;\n    } catch  {}\n}\n //# sourceMappingURL=createClient.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9wcmV2aWV3LWtpdC9kaXN0L2NsaWVudC9jcmVhdGVDbGllbnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQThDO0FBQW9EO0FBQUEsTUFBTUcsSUFBRUEsQ0FBQUE7SUFBSSxJQUFJQyxHQUFFQztJQUFFLE1BQUssRUFBQ0MsaUJBQWdCQyxJQUFFQyxHQUFHLEVBQUNDLHVCQUFzQkMsQ0FBQyxFQUFDQyxXQUFVQyxJQUFFQyxHQUFHLEVBQUNDLFFBQU9DLENBQUMsRUFBQyxHQUFHQyxHQUFFLEdBQUNiO0lBQUUsSUFBSWMsSUFBRSxDQUFDLE1BQUlWO0lBQUUsSUFBRyxXQUFTQSxLQUFJVSxDQUFBQSxJQUFFO1FBQVcsSUFBRztZQUFDLE9BQU0sY0FBWSxpRUFBMEI7UUFBQSxFQUFDLE9BQUssQ0FBQztRQUFDLElBQUc7WUFBQyxPQUFNLGNBQVlHLFFBQVFGLEdBQUcsQ0FBQ0MsVUFBVTtRQUFBLEVBQUMsT0FBSyxDQUFDO1FBQUMsT0FBTSxDQUFDO0lBQUMsR0FBRSxHQUFHLFlBQVUsT0FBT1osS0FBRyxXQUFTQSxHQUFFLE1BQU0sSUFBSWMsTUFBTSxzQ0FBc0NDLE1BQU0sQ0FBQ2YsR0FBRTtJQUEyQixJQUFHO1FBQUMsSUFBR1UsS0FBRyxDQUFDLE1BQUlkLEVBQUVvQixlQUFlLEVBQUMsT0FBT1gsSUFBRyxTQUFPUCxDQUFBQSxJQUFFLFFBQU1VLElBQUUsS0FBSyxJQUFFQSxFQUFFUyxLQUFLLEtBQUduQixFQUFFb0IsSUFBSSxDQUFDVixHQUFFLDhEQUE2RGIsa0VBQUNBLENBQUM7WUFBQyxHQUFHYyxDQUFDO1lBQUNPLGlCQUFnQnBCLEVBQUVvQixlQUFlLEdBQUNwQixFQUFFb0IsZUFBZSxHQUFDO1lBQXVCRyxPQUFNO2dCQUFDQyxTQUFRLENBQUM7Z0JBQUVoQixXQUFVQztnQkFBRUUsUUFBT0M7Z0JBQUVhLFFBQU9sQixJQUFFVCxDQUFBQSxJQUFHUyxFQUFFO3dCQUFDbUIsTUFBSzVCLEVBQUU2QixVQUFVO3dCQUFDQyxlQUFjLElBQUk5QixFQUFFOEIsYUFBYSxDQUFDOUI7b0JBQUUsS0FBRyxLQUFLO1lBQUM7UUFBQyxFQUFDLElBQUksU0FBT0csQ0FBQUEsSUFBRSxRQUFNVyxJQUFFLEtBQUssSUFBRUEsRUFBRWlCLEtBQUssS0FBRzVCLEVBQUVxQixJQUFJLENBQUNWLEdBQUUsc0lBQXFJZCw0REFBQ0EsQ0FBQ2UsRUFBQztJQUFFLEVBQUMsT0FBTWYsR0FBRTtRQUFDZ0MsUUFBUUQsS0FBSyxDQUFDLGdEQUErQy9CLEdBQUU7SUFBOEM7SUFBQyxPQUFPQSw0REFBQ0EsQ0FBQ2U7QUFBRTtBQUFFLFNBQVNSO0lBQUksSUFBRztRQUFDLE9BQU0sV0FBUywrRUFBaUM7SUFBQSxFQUFDLE9BQUssQ0FBQztJQUFDLElBQUc7UUFBQyxPQUFNLFdBQVNZLFFBQVFGLEdBQUcsQ0FBQ2dCLGlCQUFpQjtJQUFBLEVBQUMsT0FBSyxDQUFDO0lBQUMsT0FBTSxDQUFDO0FBQUM7QUFBQyxTQUFTckI7SUFBSSxJQUFHO1FBQUMsT0FBTywrRUFBaUM7SUFBQSxFQUFDLE9BQUssQ0FBQztJQUFDLElBQUc7UUFBQyxPQUFPTyxRQUFRRixHQUFHLENBQUNpQixpQkFBaUI7SUFBQSxFQUFDLE9BQUssQ0FBQztBQUFDO0FBQTJCLENBQ3g1Qyx3Q0FBd0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uaWtlLy4vbm9kZV9tb2R1bGVzL0BzYW5pdHkvcHJldmlldy1raXQvZGlzdC9jbGllbnQvY3JlYXRlQ2xpZW50LmpzPzNiYjkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0e2NyZWF0ZUNsaWVudCBhcyBlfWZyb21cIkBzYW5pdHkvY2xpZW50XCI7aW1wb3J0e2NyZWF0ZUNsaWVudCBhcyB0fWZyb21cIkBzYW5pdHkvY2xpZW50L3N0ZWdhXCI7Y29uc3Qgcj1yPT57dmFyIGEsYztjb25zdHtlbmNvZGVTb3VyY2VNYXA6aT1uKCksZW5jb2RlU291cmNlTWFwQXRQYXRoOmwsc3R1ZGlvVXJsOnU9bygpLGxvZ2dlcjpzLC4uLnB9PXI7bGV0IGQ9ITA9PT1pO2lmKFwiYXV0b1wiPT09aSYmKGQ9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuXCJwcmV2aWV3XCI9PT1pbXBvcnQubWV0YS5lbnYuVkVSQ0VMX0VOVn1jYXRjaHt9dHJ5e3JldHVyblwicHJldmlld1wiPT09cHJvY2Vzcy5lbnYuVkVSQ0VMX0VOVn1jYXRjaHt9cmV0dXJuITF9KCkpLFwic3RyaW5nXCI9PXR5cGVvZiBpJiZcImF1dG9cIiE9PWkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB2YWx1ZSBmb3IgZW5jb2RlU291cmNlTWFwOiBcIi5jb25jYXQoaSxcIi4gRGlkIHlvdSBtZWFuICdhdXRvJz9cIikpO3RyeXtpZihkJiYhMSE9PXIucmVzdWx0U291cmNlTWFwKXJldHVybiB1PyhudWxsPT0oYz1udWxsPT1zP3ZvaWQgMDpzLmRlYnVnKXx8Yy5jYWxsKHMsXCJbQHNhbml0eS9wcmV2aWV3LWtpdF06IENyZWF0aW5nIHNvdXJjZSBtYXAgZW5hYmxlZCBjbGllbnRcIiksdCh7Li4ucCxyZXN1bHRTb3VyY2VNYXA6ci5yZXN1bHRTb3VyY2VNYXA/ci5yZXN1bHRTb3VyY2VNYXA6XCJ3aXRoS2V5QXJyYXlTZWxlY3RvclwiLHN0ZWdhOntlbmFibGVkOiEwLHN0dWRpb1VybDp1LGxvZ2dlcjpzLGZpbHRlcjpsP2U9Pmwoe3BhdGg6ZS5zb3VyY2VQYXRoLGZpbHRlckRlZmF1bHQ6KCk9PmUuZmlsdGVyRGVmYXVsdChlKX0pOnZvaWQgMH19KSk6KG51bGw9PShhPW51bGw9PXM/dm9pZCAwOnMuZXJyb3IpfHxhLmNhbGwocyxcIltAc2FuaXR5L3ByZXZpZXcta2l0XTogQ29udGVudCBzb3VyY2UgbWFwIGVuYWJsZWQgY2xpZW50IGlzIGVuYWJsZWQsIGJ1dCBubyBzdHVkaW9VcmwgaXMgcHJvdmlkZWQuIEZhbGxpbmcgYmFjayB0byBAc2FuaXR5L2NsaWVudFwiKSxlKHApKX1jYXRjaChlKXtjb25zb2xlLmVycm9yKFwiW0BzYW5pdHkvcHJldmlldy1raXRdOiBFcnJvciBjcmVhdGluZyBjbGllbnRcIixlLFwiZmFsbGluZyBiYWNrIHRvIG5vbi1lbWJlZGRlZCBzb3VyY2VtYXAgbW9kZVwiKX1yZXR1cm4gZShwKX07ZnVuY3Rpb24gbigpe3RyeXtyZXR1cm5cInRydWVcIj09PWltcG9ydC5tZXRhLmVudi5TQU5JVFlfU09VUkNFX01BUH1jYXRjaHt9dHJ5e3JldHVyblwidHJ1ZVwiPT09cHJvY2Vzcy5lbnYuU0FOSVRZX1NPVVJDRV9NQVB9Y2F0Y2h7fXJldHVybiExfWZ1bmN0aW9uIG8oKXt0cnl7cmV0dXJuIGltcG9ydC5tZXRhLmVudi5TQU5JVFlfU1RVRElPX1VSTH1jYXRjaHt9dHJ5e3JldHVybiBwcm9jZXNzLmVudi5TQU5JVFlfU1RVRElPX1VSTH1jYXRjaHt9fWV4cG9ydHtyIGFzIGNyZWF0ZUNsaWVudH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jcmVhdGVDbGllbnQuanMubWFwXG4iXSwibmFtZXMiOlsiY3JlYXRlQ2xpZW50IiwiZSIsInQiLCJyIiwiYSIsImMiLCJlbmNvZGVTb3VyY2VNYXAiLCJpIiwibiIsImVuY29kZVNvdXJjZU1hcEF0UGF0aCIsImwiLCJzdHVkaW9VcmwiLCJ1IiwibyIsImxvZ2dlciIsInMiLCJwIiwiZCIsImVudiIsIlZFUkNFTF9FTlYiLCJwcm9jZXNzIiwiRXJyb3IiLCJjb25jYXQiLCJyZXN1bHRTb3VyY2VNYXAiLCJkZWJ1ZyIsImNhbGwiLCJzdGVnYSIsImVuYWJsZWQiLCJmaWx0ZXIiLCJwYXRoIiwic291cmNlUGF0aCIsImZpbHRlckRlZmF1bHQiLCJlcnJvciIsImNvbnNvbGUiLCJTQU5JVFlfU09VUkNFX01BUCIsIlNBTklUWV9TVFVESU9fVVJMIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/preview-kit/dist/client/createClient.js\n");

/***/ })

};
;